#!/usr/bin/env python3
"""
installa_kitchen_pro.py  —  Kitchen Pro Installer  (v2 + patch bugfix)

Scrive:
  src/utils/date.ts          helpers data (nowISO / todayDate)
  src/utils/storage.ts       wrapper localStorage (readJSON / writeJSON)
  src/utils/precheck.ts      engine rule-based per Precheck + stub AI
  src/KitchenProFull.jsx     monolite completo — bugfix + tutte le funzioni

UTILIZZO:
  python3 installa_kitchen_pro.py [percorso/progetto]
  oppure lancio senza argomenti: chiede la directory in modo interattivo.
"""

import os, sys, shutil, subprocess, base64, textwrap
from pathlib import Path
from datetime import datetime

# ── Colori ANSI ──────────────────────────────────────────────────────────────
G = "\033[92m"; A = "\033[93m"; R = "\033[91m"
C = "\033[96m"; B = "\033[1m";  D = "\033[2m"; Z = "\033[0m"

def ok(t):      print(f"  {G}✔{Z}  {t}")
def warn(t):    print(f"  {A}⚠{Z}  {t}")
def err(t):     print(f"  {R}✖{Z}  {t}")
def info(t):    print(f"  {D}·{Z}  {t}")
def hdr(title): print(f"\n{B}{C}━━━  {title}  ━━━{Z}")

# ── Payload b64 ─────────────────────────────────────────────────────────────
PATCHES_B64 = {
    'src/utils/date.ts': (
        'LyoqIEhlbHBlcnMgZGkgZGF0YSBjb25kaXZpc2kg4oCUIGV2aXRhbm8gZHVwbGljYXppb25lIG5l'
        'bCBtb25vbGl0ZSAqLwpleHBvcnQgY29uc3Qgbm93SVNPICAgPSAoKTogc3RyaW5nID0+IG5ldyBE'
        'YXRlKCkudG9JU09TdHJpbmcoKTsKZXhwb3J0IGNvbnN0IHRvZGF5RGF0ZSA9ICgpOiBzdHJpbmcg'
        'PT4gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKTsK'
    ),
    'src/utils/storage.ts': (
        'LyoqIFdyYXBwZXIgbG9jYWxTdG9yYWdlIGNvbiB0cnkvY2F0Y2gg4oCUIGV2aXRhbm8gZHVwbGlj'
        'YXppb25lIG5lbCBtb25vbGl0ZSAqLwpleHBvcnQgZnVuY3Rpb24gcmVhZEpTT048VD4oa2V5OiBz'
        'dHJpbmcsIGZhbGxiYWNrOiBUKTogVCB7CiAgdHJ5IHsKICAgIGNvbnN0IHJhdyA9IGxvY2FsU3Rv'
        'cmFnZS5nZXRJdGVtKGtleSk7CiAgICBpZiAoIXJhdykgcmV0dXJuIGZhbGxiYWNrOwogICAgcmV0'
        'dXJuIEpTT04ucGFyc2UocmF3KSBhcyBUOwogIH0gY2F0Y2ggewogICAgcmV0dXJuIGZhbGxiYWNr'
        'OwogIH0KfQoKZXhwb3J0IGZ1bmN0aW9uIHdyaXRlSlNPTjxUPihrZXk6IHN0cmluZywgdmFsdWU6'
        'IFQpOiB2b2lkIHsKICB0cnkgewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0'
        'cmluZ2lmeSh2YWx1ZSkpOwogIH0gY2F0Y2gge30KfQo='
    ),
    'src/utils/precheck.ts': (
        'LyoqCiAqIHByZWNoZWNrLnRzIOKAlCBMaWdodHdlaWdodCBydWxlLWJhc2VkIHByZWNoZWNrIGVu'
        'Z2luZS4KICogQXJjaGl0ZXR0dXJhIHByb250YSBwZXIgQUk6IHNvc3RpdHVpc2NpIHJ1blByZWNo'
        'ZWNrKCkgY29uIHVuYSBjaGlhbWF0YQogKiBhIGFpQ2xpZW50ICh2ZWRpIHN0dWIgY29tbWVudGF0'
        'byBpbiBmb25kbykgc2VuemEgdG9jY2FyZSBsYSBVSS4KICovCgpleHBvcnQgdHlwZSBBZGRTdWdn'
        'ZXN0aW9uID0gewogIHR5cGU6ICJhZGQiOwogIG5hbWU6IHN0cmluZzsKICBxdHk6IG51bWJlcjsK'
        'ICB1bml0OiBzdHJpbmc7CiAgbG9jYXRpb246ICJmcmlkZ2UiIHwgImZyZWV6ZXIiIHwgImRyeSIg'
        'fCAiY291bnRlciI7Cn07CgpleHBvcnQgdHlwZSBBZGp1c3RTdWdnZXN0aW9uID0gewogIHR5cGU6'
        'ICJhZGp1c3QiOwogIG5hbWU6IHN0cmluZzsKICBkZWx0YTogbnVtYmVyOwogIHVuaXQ6IHN0cmlu'
        'ZzsKfTsKCmV4cG9ydCB0eXBlIE5vdGVTdWdnZXN0aW9uID0gewogIHR5cGU6ICJub3RlIjsKICB0'
        'ZXh0OiBzdHJpbmc7Cn07CgpleHBvcnQgdHlwZSBTdWdnZXN0aW9uID0gQWRkU3VnZ2VzdGlvbiB8'
        'IEFkanVzdFN1Z2dlc3Rpb24gfCBOb3RlU3VnZ2VzdGlvbjsKCmV4cG9ydCB0eXBlIFByZWNoZWNr'
        'UmVzdWx0ID0gewogIGFkZHM6IEFkZFN1Z2dlc3Rpb25bXTsKICBhZGp1c3RzOiBBZGp1c3RTdWdn'
        'ZXN0aW9uW107CiAgbm90ZXM6IE5vdGVTdWdnZXN0aW9uW107CiAgdW5wYXJzZWQ6IHN0cmluZ1td'
        'Owp9OwoKLy8g4pSA4pSAIFZvY2FidWxhcnkg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACgpjb25z'
        'dCBVTklUX01BUDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHsKICBrZzogImtnIiwgY2hpbG86'
        'ICJrZyIsIGNoaWxpOiAia2ciLAogIGc6ICJnIiwgZ3I6ICJnIiwgZ3JhbW1pOiAiZyIsCiAgbDog'
        'ImwiLCBsdDogImwiLCBsaXRyaTogImwiLCBsaXRybzogImwiLAogIG1sOiAibWwiLAogIHB6OiAi'
        'cHoiLCBwZXp6aTogInB6IiwgcGV6em86ICJweiIsIHVuaXTDoDogInB6IiwKICBib3g6ICJib3gi'
        'LCBzY2F0b2xhOiAiYm94IiwKICBidXN0YTogImJ1c3RhIiwgYnVzdGU6ICJidXN0YSIsCiAgYnJp'
        'azogImJyaWsiLAogIGxhdHRhOiAibGF0dGEiLCBsYXR0aW5hOiAibGF0dGEiLAogIHZhc2NoOiAi'
        'dmFzY2giLCB2YXNjaGV0dGE6ICJ2YXNjaCIsCiAgdmFjOiAidmFjIiwKfTsKCmNvbnN0IExPQ19N'
        'QVA6IFJlY29yZDxzdHJpbmcsIEFkZFN1Z2dlc3Rpb25bImxvY2F0aW9uIl0+ID0gewogIGZyaWdv'
        'OiAiZnJpZGdlIiwgZnJpZ29yaWZlcm86ICJmcmlkZ2UiLCBmcmlkZ2U6ICJmcmlkZ2UiLAogIGZy'
        'ZWV6ZXI6ICJmcmVlemVyIiwgY29uZ2VsYXRvcmU6ICJmcmVlemVyIiwKICBkaXNwZW5zYTogImRy'
        'eSIsIGRyeTogImRyeSIsCiAgYmFuY286ICJjb3VudGVyIiwgY291bnRlcjogImNvdW50ZXIiLAp9'
        'OwoKLy8gbnVtOiAiMiIsICIyLjUiLCAiMiw1Igpjb25zdCBOVU0gPSAvKFxkKyg/OlsuLF1cZCsp'
        'PykvOwpjb25zdCBVTklUID0gbmV3IFJlZ0V4cCgKICBgKCR7T2JqZWN0LmtleXMoVU5JVF9NQVAp'
        'LnNvcnQoKGEsYik9PmIubGVuZ3RoLWEubGVuZ3RoKS5qb2luKCJ8Iil9KWAsCiAgImkiCik7Ci8v'
        'ICIyIGtnIGJyYW56aW5vIiBvciAiYnJhbnppbm8gMiBrZyIKY29uc3QgUVRZX0ZJUlNUICA9IG5l'
        'dyBSZWdFeHAoYF4ke05VTS5zb3VyY2V9XFxzKiR7VU5JVC5zb3VyY2V9XFxzKyguKykkYCwgImki'
        'KTsKY29uc3QgTkFNRV9GSVJTVCAgPSBuZXcgUmVnRXhwKGBeKC4rPylcXHMrJHtOVU0uc291cmNl'
        'fVxccyoke1VOSVQuc291cmNlfSRgLCAiaSIpOwpjb25zdCBMT0NfSElOVCAgICA9IG5ldyBSZWdF'
        'eHAoYFxcYigke09iamVjdC5rZXlzKExPQ19NQVApLmpvaW4oInwiKX0pXFxiYCwgImkiKTsKY29u'
        'c3QgU0NBUklDQV9SRSAgPSAvXihzY2FyaWNhfGNvbnN1bWF8dXNhfHRvZ2xpKVxzKy9pOwpjb25z'
        'dCBOT1RFX1JFICAgICA9IC9eKG5vdGF8cHJlcHxwcmVwYXJhemlvbmV8bWVtb3xwcm9tZW1vcmlh'
        'KVxzKls64oCULV1ccyovaTsKCmZ1bmN0aW9uIHBhcnNlTnVtKHM6IHN0cmluZyk6IG51bWJlciB7'
        'CiAgcmV0dXJuIHBhcnNlRmxvYXQocy5yZXBsYWNlKCIsIiwgIi4iKSk7Cn0KCi8vIOKUgOKUgCBN'
        'YWluIGZ1bmN0aW9uIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAoKZXhwb3J0IGZ1bmN0aW9uIHJ1blByZWNoZWNr'
        'KGlucHV0OiB7IHRleHQ6IHN0cmluZyB9KTogUHJlY2hlY2tSZXN1bHQgewogIGNvbnN0IGFkZHM6'
        'IEFkZFN1Z2dlc3Rpb25bXSAgICA9IFtdOwogIGNvbnN0IGFkanVzdHM6IEFkanVzdFN1Z2dlc3Rp'
        'b25bXSA9IFtdOwogIGNvbnN0IG5vdGVzOiBOb3RlU3VnZ2VzdGlvbltdICA9IFtdOwogIGNvbnN0'
        'IHVucGFyc2VkOiBzdHJpbmdbXSAgICAgICA9IFtdOwoKICBjb25zdCBsaW5lcyA9IGlucHV0LnRl'
        'eHQKICAgIC5zcGxpdCgvXG58Oy8pCiAgICAubWFwKGwgPT4gbC50cmltKCkpCiAgICAuZmlsdGVy'
        'KEJvb2xlYW4pOwoKICBmb3IgKGNvbnN0IHJhdyBvZiBsaW5lcykgewogICAgLy8g4pSA4pSAIE5v'
        'dGUgbGluZQogICAgaWYgKE5PVEVfUkUudGVzdChyYXcpKSB7CiAgICAgIG5vdGVzLnB1c2goeyB0'
        'eXBlOiAibm90ZSIsIHRleHQ6IHJhdy5yZXBsYWNlKE5PVEVfUkUsICIiKS50cmltKCkgfSk7CiAg'
        'ICAgIGNvbnRpbnVlOwogICAgfQoKICAgIC8vIOKUgOKUgCBTY2FyaWNhIC8gY29uc3VtYSDihpIg'
        'bmVnYXRpdmUgYWRqdXN0CiAgICBjb25zdCBzY2FyaWNhTWF0Y2ggPSBTQ0FSSUNBX1JFLmV4ZWMo'
        'cmF3KTsKICAgIGlmIChzY2FyaWNhTWF0Y2gpIHsKICAgICAgY29uc3QgcmVzdCA9IHJhdy5zbGlj'
        'ZShzY2FyaWNhTWF0Y2hbMF0ubGVuZ3RoKTsKICAgICAgY29uc3QgbSA9IFFUWV9GSVJTVC5leGVj'
        'KHJlc3QpIHx8IE5BTUVfRklSU1QuZXhlYyhyZXN0KTsKICAgICAgaWYgKG0pIHsKICAgICAgICBj'
        'b25zdCBpc1F0eUZpcnN0ID0gUVRZX0ZJUlNULnRlc3QocmVzdCk7CiAgICAgICAgY29uc3QgcXR5'
        'ICA9IHBhcnNlTnVtKGlzUXR5Rmlyc3QgPyBtWzFdIDogbVsyXSk7CiAgICAgICAgY29uc3QgdW5p'
        'dCA9IFVOSVRfTUFQWyhpc1F0eUZpcnN0ID8gbVsyXSA6IG1bM10pLnRvTG93ZXJDYXNlKCldID8/'
        'ICJweiI7CiAgICAgICAgY29uc3QgbmFtZSA9IChpc1F0eUZpcnN0ID8gbVszXSA6IG1bMV0pLnRy'
        'aW0oKTsKICAgICAgICBhZGp1c3RzLnB1c2goeyB0eXBlOiAiYWRqdXN0IiwgbmFtZSwgZGVsdGE6'
        'IC1xdHksIHVuaXQgfSk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgIH0KCiAgICAvLyDi'
        'lIDilIAgQWRkIGxpbmUgKHF0eSBmaXJzdCBvciBuYW1lIGZpcnN0KQogICAgY29uc3QgbVFGID0g'
        'UVRZX0ZJUlNULmV4ZWMocmF3KTsKICAgIGNvbnN0IG1ORiA9ICFtUUYgPyBOQU1FX0ZJUlNULmV4'
        'ZWMocmF3KSA6IG51bGw7CiAgICBjb25zdCBtICAgPSBtUUYgfHwgbU5GOwoKICAgIGlmIChtKSB7'
        'CiAgICAgIGNvbnN0IGlzUXR5Rmlyc3QgPSAhIW1RRjsKICAgICAgY29uc3QgcXR5ICA9IHBhcnNl'
        'TnVtKGlzUXR5Rmlyc3QgPyBtWzFdIDogbVsyXSk7CiAgICAgIGNvbnN0IHVuaXQgPSBVTklUX01B'
        'UFsoaXNRdHlGaXJzdCA/IG1bMl0gOiBtWzNdKS50b0xvd2VyQ2FzZSgpXSA/PyAicHoiOwogICAg'
        'ICBjb25zdCBuYW1lID0gKGlzUXR5Rmlyc3QgPyBtWzNdIDogbVsxXSkudHJpbSgpOwogICAgICBj'
        'b25zdCBsb2NIaW50ID0gTE9DX0hJTlQuZXhlYyhyYXcpOwogICAgICBjb25zdCBsb2NhdGlvbiA9'
        'IGxvY0hpbnQgPyAoTE9DX01BUFtsb2NIaW50WzFdLnRvTG93ZXJDYXNlKCldID8/ICJmcmlkZ2Ui'
        'KSA6ICJmcmlkZ2UiOwogICAgICBhZGRzLnB1c2goeyB0eXBlOiAiYWRkIiwgbmFtZSwgcXR5LCB1'
        'bml0LCBsb2NhdGlvbiB9KTsKICAgICAgY29udGludWU7CiAgICB9CgogICAgdW5wYXJzZWQucHVz'
        'aChyYXcpOwogIH0KCiAgcmV0dXJuIHsgYWRkcywgYWRqdXN0cywgbm90ZXMsIHVucGFyc2VkIH07'
        'Cn0KCi8vIOKUgOKUgCBBSSBzdHViIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAov'
        'LyBQZXIgYXR0YWNjYXJlIHVuIG1vZGVsbG8gQUksIHNvc3RpdHVpc2NpIHJ1blByZWNoZWNrIGNv'
        'biBxdWVzdGEgZnVuemlvbmU6Ci8vCi8vIGV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5QcmVjaGVj'
        'a0FJKGlucHV0OiB7IHRleHQ6IHN0cmluZyB9KTogUHJvbWlzZTxQcmVjaGVja1Jlc3VsdD4gewov'
        'LyAgIGNvbnN0IHJlcyA9IGF3YWl0IGFpQ2xpZW50Lm1lc3NhZ2VzLmNyZWF0ZSh7Ci8vICAgICBt'
        'b2RlbDogImNsYXVkZS1zb25uZXQtNC0yMDI1MDUxNCIsCi8vICAgICBtYXhfdG9rZW5zOiAxMDI0'
        'LAovLyAgICBzeXN0ZW06ICJTZWkgdW4gYXNzaXN0ZW50ZSBjdWNpbmEuIEVzdHJhaSBhZ2dpdW4t'
        'dGUgZSByZXR0aWZpY2hlIGdpYWNlbnplIGRhbCB0ZXN0by4gUmlzcG9uZGkgSlNPTjoge2FkZHM6'
        'W3tuYW1lLHF0eSx1bml0LGxvY2F0aW9ufV0sIGFkanVzdHM6W3tuYW1lLGRlbHRhLHVuaXR9XSwg'
        'bm90ZXM6W3t0ZXh0fV19IiwKLy8gICAgIG1lc3NhZ2VzOiBbeyByb2xlOiAidXNlciIsIGNvbnRl'
        'bnQ6IGlucHV0LnRleHQgfV0sCi8vICAgfSk7Ci8vICAgcmV0dXJuIEpTT04ucGFyc2UoKHJlcy5j'
        'b250ZW50WzBdIGFzIGFueSkudGV4dCk7Ci8vIH0K'
    ),
    'src/KitchenProFull.jsx': (
        'aW1wb3J0IHsKICB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VN'
        'ZW1vLAogIHVzZVJlZHVjZXIsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsCn0gZnJvbSAicmVh'
        'Y3QiOwoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQCiAgIFRIRU1FIFNZU1RFTSDigJQgNCBjdXJhdGVkIHBhbGV0dGVzCiAgIOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpjb25zdCBU'
        'SEVNRVMgPSB7CiAgY2FydGE6IHsKICAgIG5hbWU6IkNhcnRhIEFudGljYSIsIGljb246IvCfk5wi'
        'LAogICAgYmc6IiNGMkVERTQiLCBiZ0FsdDoiI0VCRTREOCIsIGJnQ2FyZDoiI0ZGRkZGRiIsIGJn'
        'Q2FyZEFsdDoiI0ZBRjdGMiIsIGJnR2xhc3M6InJnYmEoMjQyLDIzNywyMjgsMC45MCkiLAogICAg'
        'aW5rOiIjMTUxMjEwIiwgaW5rU29mdDoiIzNEMzUzMCIsIGlua011dGVkOiIjN0E3MTY4IiwgaW5r'
        'RmFpbnQ6IiNCMEE4OTkiLCBpbmtHaG9zdDoiI0Q1Q0ZDNiIsCiAgICBhY2NlbnQ6IiM4QjFFMkYi'
        'LCBhY2NlbnREZWVwOiIjNkExNTI1IiwgYWNjZW50R2xvdzoicmdiYSgxMzksMzAsNDcsMC4xMCki'
        'LAogICAgc2Vjb25kYXJ5OiIjMTgyMDQwIiwgc2Vjb25kYXJ5RGVlcDoiIzBGMTUzMCIsCiAgICBn'
        'b2xkOiIjQzE5QTNFIiwgZ29sZEJyaWdodDoiI0Q5QjQ0QSIsIGdvbGREaW06InJnYmEoMTkzLDE1'
        'NCw2MiwwLjMwKSIsIGdvbGRGYWludDoicmdiYSgxOTMsMTU0LDYyLDAuMDgpIiwKICAgIHN1Y2Nl'
        'c3M6IiMzRDdBNEEiLCB3YXJuaW5nOiIjQzE5QTNFIiwgZGFuZ2VyOiIjOEIxRTJGIiwKICAgIGRp'
        'djoicmdiYSgyMSwxOCwxNiwwLjA3KSIsIGRpdlN0cm9uZzoicmdiYSgyMSwxOCwxNiwwLjE0KSIs'
        'CiAgICBzaGFkb3c6InJnYmEoMCwwLDAsMC4wNikiLCBzaGFkb3dTdHJvbmc6InJnYmEoMCwwLDAs'
        'MC4xMikiLCBncmFpbjowLjMwLAogIH0sCiAgYXJkZXNpYTogewogICAgbmFtZToiQXJkZXNpYSIs'
        'IGljb246IvCfqqgiLAogICAgYmc6IiMxQTFEMjQiLCBiZ0FsdDoiIzIyMjYyRiIsIGJnQ2FyZDoi'
        'IzI2MkEzNCIsIGJnQ2FyZEFsdDoiIzJDMzEzQyIsIGJnR2xhc3M6InJnYmEoMjYsMjksMzYsMC45'
        'MikiLAogICAgaW5rOiIjRThFNEREIiwgaW5rU29mdDoiI0M1QzBCOCIsIGlua011dGVkOiIjOEE4'
        'NTdEIiwgaW5rRmFpbnQ6IiM1QzU4NTAiLCBpbmtHaG9zdDoiIzNBMzgzMyIsCiAgICBhY2NlbnQ6'
        'IiNDNzVCNUIiLCBhY2NlbnREZWVwOiIjQTA0MDQwIiwgYWNjZW50R2xvdzoicmdiYSgxOTksOTEs'
        'OTEsMC4xNSkiLAogICAgc2Vjb25kYXJ5OiIjNEE2RkE1Iiwgc2Vjb25kYXJ5RGVlcDoiIzNBNUE4'
        'QSIsCiAgICBnb2xkOiIjRDRBODQzIiwgZ29sZEJyaWdodDoiI0U4QkM1NSIsIGdvbGREaW06InJn'
        'YmEoMjEyLDE2OCw2NywwLjMwKSIsIGdvbGRGYWludDoicmdiYSgyMTIsMTY4LDY3LDAuMTApIiwK'
        'ICAgIHN1Y2Nlc3M6IiM1QjlFNkYiLCB3YXJuaW5nOiIjRDRBODQzIiwgZGFuZ2VyOiIjQzc1QjVC'
        'IiwKICAgIGRpdjoicmdiYSgyNTUsMjU1LDI1NSwwLjA2KSIsIGRpdlN0cm9uZzoicmdiYSgyNTUs'
        'MjU1LDI1NSwwLjEyKSIsCiAgICBzaGFkb3c6InJnYmEoMCwwLDAsMC4yNSkiLCBzaGFkb3dTdHJv'
        'bmc6InJnYmEoMCwwLDAsMC40NSkiLCBncmFpbjowLjE1LAogIH0sCiAgbm90dGU6IHsKICAgIG5h'
        'bWU6IkJsdSBOb3R0ZSIsIGljb246IvCfjJkiLAogICAgYmc6IiMwRDExMTciLCBiZ0FsdDoiIzE1'
        'MUIyNiIsIGJnQ2FyZDoiIzFBMjIzMyIsIGJnQ2FyZEFsdDoiIzFGMjk0MCIsIGJnR2xhc3M6InJn'
        'YmEoMTMsMTcsMjMsMC45MikiLAogICAgaW5rOiIjRTZFMUQ2IiwgaW5rU29mdDoiI0I4QjNBOCIs'
        'IGlua011dGVkOiIjNkU2QTYyIiwgaW5rRmFpbnQ6IiM0ODQ1NDAiLCBpbmtHaG9zdDoiIzJFMkMy'
        'OCIsCiAgICBhY2NlbnQ6IiNFODVENUQiLCBhY2NlbnREZWVwOiIjQzA0MDQwIiwgYWNjZW50R2xv'
        'dzoicmdiYSgyMzIsOTMsOTMsMC4xMikiLAogICAgc2Vjb25kYXJ5OiIjNUI4REQ5Iiwgc2Vjb25k'
        'YXJ5RGVlcDoiIzQwNzBCOCIsCiAgICBnb2xkOiIjRjBDMDUwIiwgZ29sZEJyaWdodDoiI0ZGRDQ2'
        'NiIsIGdvbGREaW06InJnYmEoMjQwLDE5Miw4MCwwLjI4KSIsIGdvbGRGYWludDoicmdiYSgyNDAs'
        'MTkyLDgwLDAuMDgpIiwKICAgIHN1Y2Nlc3M6IiM2MEI4NzgiLCB3YXJuaW5nOiIjRjBDMDUwIiwg'
        'ZGFuZ2VyOiIjRTg1RDVEIiwKICAgIGRpdjoicmdiYSgyNTUsMjU1LDI1NSwwLjA1KSIsIGRpdlN0'
        'cm9uZzoicmdiYSgyNTUsMjU1LDI1NSwwLjEwKSIsCiAgICBzaGFkb3c6InJnYmEoMCwwLDAsMC4z'
        'NSkiLCBzaGFkb3dTdHJvbmc6InJnYmEoMCwwLDAsMC41NSkiLCBncmFpbjowLjEyLAogIH0sCiAg'
        'YXZvcmlvOiB7CiAgICBuYW1lOiJBdm9yaW8gUmVhbGUiLCBpY29uOiLwn5GRIiwKICAgIGJnOiIj'
        'RkRGQkY3IiwgYmdBbHQ6IiNGNUYxRUEiLCBiZ0NhcmQ6IiNGRkZGRkYiLCBiZ0NhcmRBbHQ6IiNG'
        'RUZDRjgiLCBiZ0dsYXNzOiJyZ2JhKDI1MywyNTEsMjQ3LDAuOTApIiwKICAgIGluazoiIzFDMTgx'
        'MCIsIGlua1NvZnQ6IiMzRTNBMzAiLCBpbmtNdXRlZDoiIzgwN0E2RSIsIGlua0ZhaW50OiIjQURB'
        'Nzk4IiwgaW5rR2hvc3Q6IiNEOEQyQzgiLAogICAgYWNjZW50OiIjN0EyODQyIiwgYWNjZW50RGVl'
        'cDoiIzVDMTgzMCIsIGFjY2VudEdsb3c6InJnYmEoMTIyLDQwLDY2LDAuMDgpIiwKICAgIHNlY29u'
        'ZGFyeToiIzJBM0Y2QSIsIHNlY29uZGFyeURlZXA6IiMxQzJFNTIiLAogICAgZ29sZDoiI0IwOEEz'
        'MCIsIGdvbGRCcmlnaHQ6IiNDQ0EwNDAiLCBnb2xkRGltOiJyZ2JhKDE3NiwxMzgsNDgsMC4yOCki'
        'LCBnb2xkRmFpbnQ6InJnYmEoMTc2LDEzOCw0OCwwLjA2KSIsCiAgICBzdWNjZXNzOiIjM0E3ODQ4'
        'Iiwgd2FybmluZzoiI0IwOEEzMCIsIGRhbmdlcjoiIzdBMjg0MiIsCiAgICBkaXY6InJnYmEoMjgs'
        'MjQsMTYsMC4wNikiLCBkaXZTdHJvbmc6InJnYmEoMjgsMjQsMTYsMC4xMikiLAogICAgc2hhZG93'
        'OiJyZ2JhKDAsMCwwLDAuMDQpIiwgc2hhZG93U3Ryb25nOiJyZ2JhKDAsMCwwLDAuMTApIiwgZ3Jh'
        'aW46MC4yNSwKICB9LAp9OwoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgIFNUT1JFIOKAlCB1c2VSZWR1Y2VyICsgbG9jYWxTdG9yYWdl'
        'CiAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kCAqLwpjb25zdCBTVE9SQUdFX0tFWSA9ICJraXRjaGVuLXByby12NCI7CmNvbnN0IG5vd0lTTyAg'
        'PSAoKSA9PiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7CmNvbnN0IHRvZGF5RGF0ZSA9ICgpID0+'
        'IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLDEwKTsKY29uc3QgZ2VuSWQgICA9ICgp'
        'ID0+IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIsOSkgKyBEYXRlLm5vdygpLnRv'
        'U3RyaW5nKDM2KTsKCmZ1bmN0aW9uIG1hcFN0b2NrKGssIGxvYykgewogIGlmIChsb2M9PT0iZnJl'
        'ZXplciIpIHJldHVybiBrLmZyZWV6ZXI7CiAgaWYgKGxvYz09PSJmcmlkZ2UiKSAgcmV0dXJuIGsu'
        'ZnJpZGdlOwogIGlmIChsb2M9PT0iZHJ5IikgICAgIHJldHVybiBrLmRyeTsKICByZXR1cm4gay5j'
        'b3VudGVyOwp9CmZ1bmN0aW9uIHNldFN0b2NrKGssIGxvYywgbmV4dCkgewogIGlmIChsb2M9PT0i'
        'ZnJlZXplciIpIHJldHVybiB7Li4uaywgZnJlZXplcjpuZXh0fTsKICBpZiAobG9jPT09ImZyaWRn'
        'ZSIpICByZXR1cm4gey4uLmssIGZyaWRnZTpuZXh0fTsKICBpZiAobG9jPT09ImRyeSIpICAgICBy'
        'ZXR1cm4gey4uLmssIGRyeTpuZXh0fTsKICByZXR1cm4gey4uLmssIGNvdW50ZXI6bmV4dH07Cn0K'
        'ZnVuY3Rpb24gZmluZExvYyhrLCBpZCkgewogIGlmIChrLmZyZWV6ZXIuc29tZSh4PT54LmlkPT09'
        'aWQpKSByZXR1cm4gImZyZWV6ZXIiOwogIGlmIChrLmZyaWRnZS5zb21lKHg9PnguaWQ9PT1pZCkp'
        'ICByZXR1cm4gImZyaWRnZSI7CiAgaWYgKGsuZHJ5LnNvbWUoeD0+eC5pZD09PWlkKSkgICAgIHJl'
        'dHVybiAiZHJ5IjsKICBpZiAoay5jb3VudGVyLnNvbWUoeD0+eC5pZD09PWlkKSkgcmV0dXJuICJj'
        'b3VudGVyIjsKICByZXR1cm4gbnVsbDsKfQpmdW5jdGlvbiBta0tpdGNoZW4obmFtZSwgb3duZXJO'
        'YW1lPSJBZG1pbiIpIHsKICBjb25zdCBvd25lciA9IHsgaWQ6Z2VuSWQoKSwgbmFtZTpvd25lck5h'
        'bWUudHJpbSgpfHwiQWRtaW4iLCByb2xlOiJhZG1pbiIsIGpvaW5lZEF0Om5vd0lTTygpIH07CiAg'
        'cmV0dXJuIHsKICAgIGlkOmdlbklkKCksIG5hbWU6bmFtZS50cmltKCksIG93bmVyTmFtZTpvd25l'
        'ci5uYW1lLCBjcmVhdGVkQXQ6bm93SVNPKCksCiAgICBtZW1iZXJzOltvd25lcl0sIGZyZWV6ZXI6'
        'W10sIGZyaWRnZTpbXSwgZHJ5OltdLCBjb3VudGVyOltdLAogICAgcGFyQnlDYXRlZ29yeTp7fSwg'
        'c2hvcHBpbmc6W10sIGxlZGdlcjpbXSwKICB9Owp9CmZ1bmN0aW9uIGVuc3VyZUtpdGNoZW4oaykg'
        'ewogIHJldHVybiB7IGxlZGdlcjpbXSwgc2hvcHBpbmc6W10sIHBhckJ5Q2F0ZWdvcnk6e30sIGZy'
        'ZWV6ZXI6W10sIGZyaWRnZTpbXSwgZHJ5OltdLCBjb3VudGVyOltdLCBtZW1iZXJzOltdLCAuLi5r'
        'IH07Cn0KCmZ1bmN0aW9uIHJlZHVjZXIoc3RhdGUsIGFjdGlvbikgewogIGNvbnN0IHsga2l0Y2hl'
        'bnMgfSA9IHN0YXRlOwogIGNvbnN0IG1hcEsgPSAoaWQsIGZuKSA9PiBraXRjaGVucy5tYXAoayA9'
        'PiBrLmlkIT09aWQgPyBrIDogZm4oZW5zdXJlS2l0Y2hlbihrKSkpOwoKICBzd2l0Y2ggKGFjdGlv'
        'bi50eXBlKSB7CiAgICBjYXNlICJLSVRDSEVOX0NSRUFURSI6CiAgICAgIHJldHVybiB7IC4uLnN0'
        'YXRlLCBraXRjaGVuczpbLi4ua2l0Y2hlbnMsIGFjdGlvbi5raXRjaGVuXSwgc2VsZWN0ZWRLaXRj'
        'aGVuSWQ6YWN0aW9uLmtpdGNoZW4uaWQsIHNlbGVjdGVkTWVtYmVySWQ6YWN0aW9uLmtpdGNoZW4u'
        'bWVtYmVyc1swXT8uaWQgfTsKICAgIGNhc2UgIktJVENIRU5fU0VMRUNUIjoKICAgICAgcmV0dXJu'
        'IHsgLi4uc3RhdGUsIHNlbGVjdGVkS2l0Y2hlbklkOmFjdGlvbi5pZCB9OwogICAgY2FzZSAiTUVN'
        'QkVSX1NFTEVDVCI6CiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBzZWxlY3RlZE1lbWJlcklkOmFj'
        'dGlvbi5pZCB9OwogICAgY2FzZSAiTUVNQkVSX0FERCI6CiAgICAgIHJldHVybiB7IC4uLnN0YXRl'
        'LCBraXRjaGVuczogbWFwSyhhY3Rpb24ua2l0Y2hlbklkLCBrID0+ICh7Li4uaywgbWVtYmVyczpb'
        'Li4uay5tZW1iZXJzLCBhY3Rpb24ubWVtYmVyXX0pKSB9OwogICAgY2FzZSAiTUVNQkVSX1JPTEUi'
        'OgogICAgICByZXR1cm4geyAuLi5zdGF0ZSwga2l0Y2hlbnM6IG1hcEsoYWN0aW9uLmtpdGNoZW5J'
        'ZCwgayA9PiAoey4uLmssIG1lbWJlcnM6ay5tZW1iZXJzLm1hcChtPT5tLmlkIT09YWN0aW9uLm1l'
        'bWJlcklkP206ey4uLm0scm9sZTphY3Rpb24ucm9sZX0pfSkpIH07CiAgICBjYXNlICJNRU1CRVJf'
        'UkVNT1ZFIjoKICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGtpdGNoZW5zOiBtYXBLKGFjdGlvbi5r'
        'aXRjaGVuSWQsIGsgPT4gKHsuLi5rLCBtZW1iZXJzOmsubWVtYmVycy5maWx0ZXIobT0+bS5pZCE9'
        'PWFjdGlvbi5tZW1iZXJJZCl9KSksIHNlbGVjdGVkTWVtYmVySWQ6IHN0YXRlLnNlbGVjdGVkTWVt'
        'YmVySWQ9PT1hY3Rpb24ubWVtYmVySWQ/dW5kZWZpbmVkOnN0YXRlLnNlbGVjdGVkTWVtYmVySWQg'
        'fTsKICAgIGNhc2UgIlBBUl9DQVRFR09SWSI6CiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBraXRj'
        'aGVuczogbWFwSyhhY3Rpb24ua2l0Y2hlbklkLCBrID0+ICh7Li4uaywgcGFyQnlDYXRlZ29yeTp7'
        'Li4uay5wYXJCeUNhdGVnb3J5LFthY3Rpb24ua2V5XTphY3Rpb24ucGFyfX0pKSB9OwogICAgY2Fz'
        'ZSAiU1RPQ0tfQUREIjoKICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGtpdGNoZW5zOiBtYXBLKGFj'
        'dGlvbi5raXRjaGVuSWQsIGsgPT4geyBjb25zdCBsb2M9YWN0aW9uLml0ZW0ubG9jYXRpb247IHJl'
        'dHVybiBzZXRTdG9jayhrLGxvYyxbYWN0aW9uLml0ZW0sLi4ubWFwU3RvY2soayxsb2MpXSk7IH0p'
        'IH07CiAgICBjYXNlICJJVEVNX0FESlVTVCI6CiAgICAgIHJldHVybiB7IC4uLnN0YXRlLCBraXRj'
        'aGVuczogbWFwSyhhY3Rpb24ua2l0Y2hlbklkLCBrID0+IHsgY29uc3QgbG9jPWZpbmRMb2Moayxh'
        'Y3Rpb24uaWQpOyBpZighbG9jKXJldHVybiBrOyByZXR1cm4gc2V0U3RvY2soayxsb2MsbWFwU3Rv'
        'Y2soayxsb2MpLm1hcCh4PT54LmlkIT09YWN0aW9uLmlkP3g6ey4uLngscXVhbnRpdHk6TWF0aC5t'
        'YXgoMCwoeC5xdWFudGl0eXx8MCkrYWN0aW9uLmRlbHRhKX0pLmZpbHRlcih4PT54LnF1YW50aXR5'
        'PjApKTsgfSkgfTsKICAgIGNhc2UgIklURU1fUkVNT1ZFIjoKICAgICAgcmV0dXJuIHsgLi4uc3Rh'
        'dGUsIGtpdGNoZW5zOiBtYXBLKGFjdGlvbi5raXRjaGVuSWQsIGsgPT4geyBjb25zdCBsb2M9Zmlu'
        'ZExvYyhrLGFjdGlvbi5pZCk7IGlmKCFsb2MpcmV0dXJuIGs7IHJldHVybiBzZXRTdG9jayhrLGxv'
        'YyxtYXBTdG9jayhrLGxvYykuZmlsdGVyKHg9PnguaWQhPT1hY3Rpb24uaWQpKTsgfSkgfTsKICAg'
        'IGNhc2UgIklURU1fUEFSIjoKICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGtpdGNoZW5zOiBtYXBL'
        'KGFjdGlvbi5raXRjaGVuSWQsIGsgPT4geyBjb25zdCBsb2M9ZmluZExvYyhrLGFjdGlvbi5pZCk7'
        'IGlmKCFsb2MpcmV0dXJuIGs7IHJldHVybiBzZXRTdG9jayhrLGxvYyxtYXBTdG9jayhrLGxvYyku'
        'bWFwKHg9PnguaWQhPT1hY3Rpb24uaWQ/eDp7Li4ueCxwYXJMZXZlbDphY3Rpb24ucGFyfSkpOyB9'
        'KSB9OwogICAgY2FzZSAiU1RPQ0tfTU9WRSI6IHsKICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGtp'
        'dGNoZW5zOiBtYXBLKGFjdGlvbi5raXRjaGVuSWQsIGsgPT4gewogICAgICAgIGNvbnN0IGZyb21M'
        'b2MgPSBmaW5kTG9jKGssYWN0aW9uLmlkKTsgaWYoIWZyb21Mb2MpcmV0dXJuIGs7CiAgICAgICAg'
        'Y29uc3Qgc3JjID0gbWFwU3RvY2soayxmcm9tTG9jKS5maW5kKHg9PnguaWQ9PT1hY3Rpb24uaWQp'
        'OyBpZighc3JjKXJldHVybiBrOwogICAgICAgIGNvbnN0IHF0eSA9IE1hdGgubWluKE51bWJlcihh'
        'Y3Rpb24ucXR5KXx8MCwgc3JjLnF1YW50aXR5KTsgaWYocXR5PD0wKXJldHVybiBrOwogICAgICAg'
        'IGNvbnN0IHJlbWFpbmluZyA9IHNyYy5xdWFudGl0eSAtIHF0eTsKICAgICAgICBjb25zdCBtb3Zl'
        'ZCA9IHsuLi5zcmMsIGlkOmdlbklkKCksIGxvY2F0aW9uOmFjdGlvbi50bywgcXVhbnRpdHk6cXR5'
        'LCBpbnNlcnRlZEF0Om5vd0lTTygpLCBpbnNlcnRlZERhdGU6dG9kYXlEYXRlKCl9OwogICAgICAg'
        'IGNvbnN0IGxlZGdlclJvdyA9IHtpZDpnZW5JZCgpLCBhdDpub3dJU08oKSwgaXRlbUlkOnNyYy5p'
        'ZCwgbmFtZTpzcmMubmFtZSwgcXR5LCB1bml0OnNyYy51bml0LCBmcm9tOmZyb21Mb2MsIHRvOmFj'
        'dGlvbi50bywgbG90OnNyYy5sb3R9OwogICAgICAgIGxldCB1cGQgPSBzZXRTdG9jayhrLCBmcm9t'
        'TG9jLCBtYXBTdG9jayhrLGZyb21Mb2MpLm1hcCh4PT54LmlkIT09YWN0aW9uLmlkP3g6ey4uLngs'
        'cXVhbnRpdHk6cmVtYWluaW5nfSkuZmlsdGVyKHg9PngucXVhbnRpdHk+MCkpOwogICAgICAgIHVw'
        'ZCA9IHNldFN0b2NrKHVwZCwgYWN0aW9uLnRvLCBbbW92ZWQsIC4uLm1hcFN0b2NrKHVwZCxhY3Rp'
        'b24udG8pXSk7CiAgICAgICAgcmV0dXJuIHsuLi51cGQsIGxlZGdlcjpbbGVkZ2VyUm93LCAuLi51'
        'cGQubGVkZ2VyXX07CiAgICAgIH0pfTsKICAgIH0KICAgIGNhc2UgIlNIT1BfQUREIjoKICAgICAg'
        'cmV0dXJuIHsgLi4uc3RhdGUsIGtpdGNoZW5zOiBtYXBLKGFjdGlvbi5raXRjaGVuSWQsIGsgPT4g'
        'KHsuLi5rLCBzaG9wcGluZzpbYWN0aW9uLml0ZW0sLi4uay5zaG9wcGluZ119KSkgfTsKICAgIGNh'
        'c2UgIlNIT1BfVE9HR0xFIjoKICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGtpdGNoZW5zOiBtYXBL'
        'KGFjdGlvbi5raXRjaGVuSWQsIGsgPT4gKHsuLi5rLCBzaG9wcGluZzprLnNob3BwaW5nLm1hcCh4'
        'PT54LmlkIT09YWN0aW9uLmlkP3g6ey4uLngsY2hlY2tlZDoheC5jaGVja2VkfSl9KSkgfTsKICAg'
        'IGNhc2UgIlNIT1BfUkVNT1ZFIjoKICAgICAgcmV0dXJuIHsgLi4uc3RhdGUsIGtpdGNoZW5zOiBt'
        'YXBLKGFjdGlvbi5raXRjaGVuSWQsIGsgPT4gKHsuLi5rLCBzaG9wcGluZzprLnNob3BwaW5nLmZp'
        'bHRlcih4PT54LmlkIT09YWN0aW9uLmlkKX0pKSB9OwogICAgY2FzZSAiU0hPUF9DTEVBUiI6CiAg'
        'ICAgIHJldHVybiB7IC4uLnN0YXRlLCBraXRjaGVuczogbWFwSyhhY3Rpb24ua2l0Y2hlbklkLCBr'
        'ID0+ICh7Li4uaywgc2hvcHBpbmc6ay5zaG9wcGluZy5maWx0ZXIoeD0+IXguY2hlY2tlZCB8fCAo'
        'YWN0aW9uLmNhdCAmJiB4LmNhdGVnb3J5IT09YWN0aW9uLmNhdCkpfSkpIH07CiAgICBkZWZhdWx0'
        'OiByZXR1cm4gc3RhdGU7CiAgfQp9CgpmdW5jdGlvbiBsb2FkU3RhdGUoKSB7CiAgdHJ5IHsKICAg'
        'IGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNUT1JBR0VfS0VZKTsKICAgIGlmICgh'
        'cmF3KSByZXR1cm4geyBraXRjaGVuczpbXSB9OwogICAgY29uc3QgcCA9IEpTT04ucGFyc2UocmF3'
        'KTsKICAgIGlmICghcCB8fCAhQXJyYXkuaXNBcnJheShwLmtpdGNoZW5zKSkgcmV0dXJuIHsga2l0'
        'Y2hlbnM6W10gfTsKICAgIHAua2l0Y2hlbnMgPSBwLmtpdGNoZW5zLm1hcChlbnN1cmVLaXRjaGVu'
        'KTsKICAgIHJldHVybiBwOwogIH0gY2F0Y2ggeyByZXR1cm4geyBraXRjaGVuczpbXSB9OyB9Cn0K'
        'CmNvbnN0IEtDdHggPSBjcmVhdGVDb250ZXh0KG51bGwpOwoKZnVuY3Rpb24gS2l0Y2hlblByb3Zp'
        'ZGVyKHsgY2hpbGRyZW4gfSkgewogIGNvbnN0IFtzdGF0ZSwgZGlzcGF0Y2hdID0gdXNlUmVkdWNl'
        'cihyZWR1Y2VyLCB1bmRlZmluZWQsIGxvYWRTdGF0ZSk7CiAgdXNlRWZmZWN0KCgpID0+IHsgdHJ5'
        'IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KHN0YXRl'
        'KSk7IH0gY2F0Y2gge30gfSwgW3N0YXRlXSk7CgogIGNvbnN0IGFwaSA9IHVzZU1lbW8oKCkgPT4g'
        'ewogICAgY29uc3Qga2lkID0gKCkgPT4gc3RhdGUuc2VsZWN0ZWRLaXRjaGVuSWQgfHwgc3RhdGUu'
        'a2l0Y2hlbnNbMF0/LmlkOwogICAgY29uc3QgY3VyS2l0Y2hlbiA9ICgpID0+IHN0YXRlLmtpdGNo'
        'ZW5zLmZpbmQoaz0+ay5pZD09PWtpZCgpKTsKCiAgICByZXR1cm4gewogICAgICBzdGF0ZSwKICAg'
        'ICAga2l0Y2hlbjogY3VyS2l0Y2hlbigpLAogICAgICBjdXJyZW50Um9sZTogKCkgPT4geyBjb25z'
        'dCBrPWN1cktpdGNoZW4oKTsgaWYoIWspcmV0dXJuImFkbWluIjsgY29uc3QgbT1rLm1lbWJlcnMu'
        'ZmluZCh4PT54LmlkPT09c3RhdGUuc2VsZWN0ZWRNZW1iZXJJZCl8fGsubWVtYmVyc1swXTsgcmV0'
        'dXJuIG0/LnJvbGV8fCJhZG1pbiI7IH0sCiAgICAgIGFsbEl0ZW1zOiAoKSA9PiB7IGNvbnN0IGs9'
        'Y3VyS2l0Y2hlbigpOyBpZighaylyZXR1cm5bXTsgcmV0dXJuIFsuLi5rLmZyZWV6ZXIsLi4uay5m'
        'cmlkZ2UsLi4uay5kcnksLi4uay5jb3VudGVyXTsgfSwKCiAgICAgIGNyZWF0ZUtpdGNoZW46IChu'
        'YW1lLCBvd25lcikgPT4geyBpZighKG5hbWV8fCIiKS50cmltKCkpcmV0dXJuOyBkaXNwYXRjaCh7'
        'dHlwZToiS0lUQ0hFTl9DUkVBVEUiLCBraXRjaGVuOm1rS2l0Y2hlbihuYW1lLG93bmVyKX0pOyB9'
        'LAogICAgICBzZWxlY3RLaXRjaGVuOiAoaWQpID0+IGRpc3BhdGNoKHt0eXBlOiJLSVRDSEVOX1NF'
        'TEVDVCIsaWR9KSwKICAgICAgc2VsZWN0TWVtYmVyOiAoaWQpID0+IGRpc3BhdGNoKHt0eXBlOiJN'
        'RU1CRVJfU0VMRUNUIixpZH0pLAoKICAgICAgYWRkTWVtYmVyOiAobmFtZSwgcm9sZT0ic3RhZmYi'
        'KSA9PiB7IGNvbnN0IGs9a2lkKCk7IGlmKCFrfHwhKG5hbWV8fCIiKS50cmltKCkpcmV0dXJuOyBk'
        'aXNwYXRjaCh7dHlwZToiTUVNQkVSX0FERCIsa2l0Y2hlbklkOmssbWVtYmVyOntpZDpnZW5JZCgp'
        'LG5hbWU6bmFtZS50cmltKCkscm9sZSxqb2luZWRBdDpub3dJU08oKX19KTsgfSwKICAgICAgdXBk'
        'YXRlUm9sZTogKG1lbWJlcklkLCByb2xlKSA9PiB7IGNvbnN0IGs9a2lkKCk7IGlmKGspZGlzcGF0'
        'Y2goe3R5cGU6Ik1FTUJFUl9ST0xFIixraXRjaGVuSWQ6ayxtZW1iZXJJZCxyb2xlfSk7IH0sCiAg'
        'ICAgIHJlbW92ZU1lbWJlcjogKG1lbWJlcklkKSA9PiB7IGNvbnN0IGs9a2lkKCk7IGlmKGspZGlz'
        'cGF0Y2goe3R5cGU6Ik1FTUJFUl9SRU1PVkUiLGtpdGNoZW5JZDprLG1lbWJlcklkfSk7IH0sCgog'
        'ICAgICBzZXRQYXJDYXRlZ29yeTogKGtleSwgcGFyKSA9PiB7IGNvbnN0IGs9a2lkKCk7IGlmKGsp'
        'ZGlzcGF0Y2goe3R5cGU6IlBBUl9DQVRFR09SWSIsa2l0Y2hlbklkOmssa2V5LHBhcjpNYXRoLm1h'
        'eCgwLE51bWJlcihwYXIpfHwwKX0pOyB9LAoKICAgICAgc3RvY2tBZGQ6IChpdGVtKSA9PiB7CiAg'
        'ICAgICAgY29uc3Qgaz1raWQoKTsgaWYoIWspcmV0dXJuOwogICAgICAgIGNvbnN0IG5hbWU9KGl0'
        'ZW0ubmFtZXx8IiIpLnRyaW0oKTsgY29uc3QgcXR5PU51bWJlcihpdGVtLnF1YW50aXR5KTsKICAg'
        'ICAgICBpZighbmFtZXx8IWlzRmluaXRlKHF0eSl8fHF0eTw9MClyZXR1cm47CiAgICAgICAgZGlz'
        'cGF0Y2goe3R5cGU6IlNUT0NLX0FERCIsa2l0Y2hlbklkOmssaXRlbTp7CiAgICAgICAgICBpZDpn'
        'ZW5JZCgpLG5hbWUscXVhbnRpdHk6cXR5LHVuaXQ6aXRlbS51bml0fHwicHoiLGxvY2F0aW9uOml0'
        'ZW0ubG9jYXRpb258fCJmcmlkZ2UiLAogICAgICAgICAgaW5zZXJ0ZWRBdDppdGVtLmluc2VydGVk'
        'QXR8fG5vd0lTTygpLGluc2VydGVkRGF0ZTppdGVtLmluc2VydGVkRGF0ZXx8dG9kYXlEYXRlKCks'
        'CiAgICAgICAgICBleHBpcmVzQXQ6aXRlbS5leHBpcmVzQXQsbG90Oml0ZW0ubG90LG5vdGVzOml0'
        'ZW0ubm90ZXMsY2F0ZWdvcnk6aXRlbS5jYXRlZ29yeSxwYXJMZXZlbDppdGVtLnBhckxldmVsLAog'
        'ICAgICAgIH19KTsKICAgICAgfSwKICAgICAgYWRqdXN0SXRlbTogKGlkLCBkZWx0YSkgPT4geyBj'
        'b25zdCBrPWtpZCgpOyBpZihrKWRpc3BhdGNoKHt0eXBlOiJJVEVNX0FESlVTVCIsa2l0Y2hlbklk'
        'OmssaWQsZGVsdGE6TnVtYmVyKGRlbHRhKXx8MH0pOyB9LAogICAgICByZW1vdmVJdGVtOiAoaWQp'
        'ID0+IHsgY29uc3Qgaz1raWQoKTsgaWYoaylkaXNwYXRjaCh7dHlwZToiSVRFTV9SRU1PVkUiLGtp'
        'dGNoZW5JZDprLGlkfSk7IH0sCiAgICAgIHNldEl0ZW1QYXI6IChpZCwgcGFyKSA9PiB7IGNvbnN0'
        'IGs9a2lkKCk7IGlmKGspZGlzcGF0Y2goe3R5cGU6IklURU1fUEFSIixraXRjaGVuSWQ6ayxpZCxw'
        'YXJ9KTsgfSwKICAgICAgbW92ZVN0b2NrOiAoaWQsIHF0eSwgdG8pID0+IHsgY29uc3Qgaz1raWQo'
        'KTsgaWYoaylkaXNwYXRjaCh7dHlwZToiU1RPQ0tfTU9WRSIsa2l0Y2hlbklkOmssaWQscXR5LHRv'
        'fSk7IH0sCgogICAgICBzaG9wQWRkOiAobmFtZSwgcXR5LCB1bml0LCBjYXRlZ29yeSwgbm90ZXMp'
        'ID0+IHsKICAgICAgICBjb25zdCBrPWtpZCgpOyBpZighaylyZXR1cm47CiAgICAgICAgY29uc3Qg'
        'bj0obmFtZXx8IiIpLnRyaW0oKTsgY29uc3QgcT1OdW1iZXIocXR5KTsKICAgICAgICBpZighbnx8'
        'IWlzRmluaXRlKHEpfHxxPD0wKXJldHVybjsKICAgICAgICBkaXNwYXRjaCh7dHlwZToiU0hPUF9B'
        'REQiLGtpdGNoZW5JZDprLGl0ZW06e2lkOmdlbklkKCksbmFtZTpuLHF1YW50aXR5OnEsdW5pdCxj'
        'YXRlZ29yeSxub3Rlczoobm90ZXN8fCIiKS50cmltKCl8fHVuZGVmaW5lZCxjaGVja2VkOmZhbHNl'
        'LGNyZWF0ZWRBdDpub3dJU08oKX19KTsKICAgICAgfSwKICAgICAgc2hvcFRvZ2dsZTogKGlkKSA9'
        'PiB7IGNvbnN0IGs9a2lkKCk7IGlmKGspZGlzcGF0Y2goe3R5cGU6IlNIT1BfVE9HR0xFIixraXRj'
        'aGVuSWQ6ayxpZH0pOyB9LAogICAgICBzaG9wUmVtb3ZlOiAoaWQpID0+IHsgY29uc3Qgaz1raWQo'
        'KTsgaWYoaylkaXNwYXRjaCh7dHlwZToiU0hPUF9SRU1PVkUiLGtpdGNoZW5JZDprLGlkfSk7IH0s'
        'CiAgICAgIHNob3BDbGVhcjogKGNhdCkgPT4geyBjb25zdCBrPWtpZCgpOyBpZihrKWRpc3BhdGNo'
        'KHt0eXBlOiJTSE9QX0NMRUFSIixraXRjaGVuSWQ6ayxjYXR9KTsgfSwKICAgIH07CiAgfSwgW3N0'
        'YXRlXSk7CgogIHJldHVybiA8S0N0eC5Qcm92aWRlciB2YWx1ZT17YXBpfT57Y2hpbGRyZW59PC9L'
        'Q3R4LlByb3ZpZGVyPjsKfQpjb25zdCB1c2VLID0gKCkgPT4gdXNlQ29udGV4dChLQ3R4KTsKCi8q'
        'IOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAog'
        'ICBUT0FTVAogICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZAgKi8KY29uc3QgVG9hc3RDdHggPSBjcmVhdGVDb250ZXh0KG51bGwpOwpmdW5jdGlv'
        'biBUb2FzdFByb3ZpZGVyKHsgY2hpbGRyZW4gfSkgewogIGNvbnN0IFt0b2FzdHMsIHNldFRvYXN0'
        'c10gPSB1c2VTdGF0ZShbXSk7CiAgY29uc3Qgc2hvdyA9IHVzZUNhbGxiYWNrKChtc2csIHR5cGU9'
        'ImluZm8iKSA9PiB7CiAgICBjb25zdCBpZCA9IGdlbklkKCk7CiAgICBzZXRUb2FzdHMocD0+Wy4u'
        'LnAsIHtpZCxtc2csdHlwZX1dKTsKICAgIHNldFRpbWVvdXQoKCk9PnNldFRvYXN0cyhwPT5wLmZp'
        'bHRlcih0PT50LmlkIT09aWQpKSwgMzAwMCk7CiAgfSxbXSk7CiAgcmV0dXJuICgKICAgIDxUb2Fz'
        'dEN0eC5Qcm92aWRlciB2YWx1ZT17c2hvd30+CiAgICAgIHtjaGlsZHJlbn0KICAgICAgPGRpdiBz'
        'dHlsZT17e3Bvc2l0aW9uOiJmaXhlZCIsdG9wOjIwLHJpZ2h0OjIwLHpJbmRleDo5OTk5LGRpc3Bs'
        'YXk6ImZsZXgiLGZsZXhEaXJlY3Rpb246ImNvbHVtbiIsZ2FwOjh9fT4KICAgICAgICB7dG9hc3Rz'
        'Lm1hcCh0PT4oCiAgICAgICAgICA8ZGl2IGtleT17dC5pZH0gc3R5bGU9e3sKICAgICAgICAgICAg'
        'cGFkZGluZzoiMTBweCAxOHB4Iixib3JkZXJSYWRpdXM6MTAsZm9udFNpemU6MTIsZm9udEZhbWls'
        'eToidmFyKC0tbW9ubykiLGZvbnRXZWlnaHQ6NTAwLAogICAgICAgICAgICBsZXR0ZXJTcGFjaW5n'
        'OiIwLjA0ZW0iLAogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0LnR5cGU9PT0ic3VjY2VzcyI/IiMz'
        'RDdBNEEiOiB0LnR5cGU9PT0iZXJyb3IiPyIjOEIxRTJGIjoiI0MxOUEzRSIsCiAgICAgICAgICAg'
        'IGNvbG9yOiIjZmZmIiwgYm94U2hhZG93OiIwIDRweCAyMHB4IHJnYmEoMCwwLDAsMC4yKSIsCiAg'
        'ICAgICAgICAgIGFuaW1hdGlvbjoidG9hc3RJbiAwLjNzIGN1YmljLWJlemllcigwLjQsMCwwLjIs'
        'MSkgYm90aCIsCiAgICAgICAgICB9fT57dC5tc2d9PC9kaXY+CiAgICAgICAgKSl9CiAgICAgIDwv'
        'ZGl2PgogICAgPC9Ub2FzdEN0eC5Qcm92aWRlcj4KICApOwp9CmNvbnN0IHVzZVRvYXN0ID0gKCkg'
        'PT4gdXNlQ29udGV4dChUb2FzdEN0eCk7CgovKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZAKICAgU1BFRUNIIEhPT0sKICAg4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmZ1bmN0aW9uIHVz'
        'ZVNwZWVjaChvblJlc3VsdCkgewogIGNvbnN0IFtsaXN0ZW5pbmcsIHNldExpc3RlbmluZ10gPSB1'
        'c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgcmVjUmVmID0gdXNlUmVmKG51bGwpOwogIGNvbnN0IHN1'
        'cHBvcnRlZCA9IHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIiAmJiAoIlNwZWVjaFJlY29nbml0'
        'aW9uIiBpbiB3aW5kb3cgfHwgIndlYmtpdFNwZWVjaFJlY29nbml0aW9uIiBpbiB3aW5kb3cpOwoK'
        'ICBjb25zdCBzdGFydCA9IHVzZUNhbGxiYWNrKCgpPT57CiAgICBpZighc3VwcG9ydGVkfHxsaXN0'
        'ZW5pbmcpIHJldHVybjsKICAgIGNvbnN0IFNSID0gd2luZG93LlNwZWVjaFJlY29nbml0aW9ufHx3'
        'aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb247CiAgICBjb25zdCByID0gbmV3IFNSKCk7IHIu'
        'bGFuZz0iaXQtSVQiOyByLmludGVyaW1SZXN1bHRzPWZhbHNlOyByLm1heEFsdGVybmF0aXZlcz0x'
        'OwogICAgci5vbnJlc3VsdCA9IGUgPT4geyB0cnkgeyBvblJlc3VsdChlLnJlc3VsdHNbMF1bMF0u'
        'dHJhbnNjcmlwdCk7IH1jYXRjaHt9IH07CiAgICByLm9uZXJyb3IgPSAoKSA9PiBzZXRMaXN0ZW5p'
        'bmcoZmFsc2UpOwogICAgci5vbmVuZCA9ICgpID0+IHNldExpc3RlbmluZyhmYWxzZSk7CiAgICBy'
        'ZWNSZWYuY3VycmVudCA9IHI7CiAgICB0cnkgeyByLnN0YXJ0KCk7IHNldExpc3RlbmluZyh0cnVl'
        'KTsgfSBjYXRjaCB7IHNldExpc3RlbmluZyhmYWxzZSk7IH0KICB9LFtzdXBwb3J0ZWQsbGlzdGVu'
        'aW5nLG9uUmVzdWx0XSk7CgogIGNvbnN0IHN0b3AgPSB1c2VDYWxsYmFjaygoKT0+eyByZWNSZWYu'
        'Y3VycmVudD8uc3RvcCgpOyBzZXRMaXN0ZW5pbmcoZmFsc2UpOyB9LFtdKTsKICB1c2VFZmZlY3Qo'
        'KCk9PigpPT5yZWNSZWYuY3VycmVudD8uYWJvcnQoKSxbXSk7CiAgcmV0dXJuIHsgbGlzdGVuaW5n'
        'LCBzdGFydCwgc3RvcCwgc3VwcG9ydGVkIH07Cn0KCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBVVElMSVRZCiAgIOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpjb25zdCBDQVRF'
        'R09SSUVTID0gewogIHByb3RlaW5lOiJQcm90ZWluZSIscGVzY2U6IlBlc2NlIix2ZXJkdXJlOiJW'
        'ZXJkdXJlIixlcmJlOiJFcmJlIiwKICBkYWlyeToiTGF0dGljaW5pIixjZXJlYWxpOiJDZXJlYWxp'
        'IixncmFzc2k6IkdyYXNzaSIsYWNpZGk6IkFjaWRpIiwKICBzcGV6aWU6IlNwZXppZSIsZm9uZGk6'
        'IkZvbmRpIixiZXZlcmFnZToiQmV2ZXJhZ2UiLHNlY2NvOiJTZWNjbyIsCn07CmNvbnN0IFBBUl9Q'
        'UkVTRVQgPSB7cHJvdGVpbmU6NixwZXNjZTo0LHZlcmR1cmU6OCxlcmJlOjEyLGRhaXJ5OjYsY2Vy'
        'ZWFsaTozLGdyYXNzaTo0LGFjaWRpOjYsc3BlemllOjEwLGZvbmRpOjQsYmV2ZXJhZ2U6NixzZWNj'
        'bzo1fTsKY29uc3QgVU5JVFMgPSBbInB6IiwiZyIsImtnIiwibWwiLCJsIiwidmFjIiwiYnVzdGEi'
        'LCJicmlrIiwibGF0dGEiLCJib3giLCJ2YXNjaCJdOwpjb25zdCBST0xFUyA9IFsiYWRtaW4iLCJj'
        'aGVmIiwic291cy1jaGVmIiwiY2Fwby1wYXJ0aXRhIiwiY29tbWlzIiwic3RhZ2lzdGEiLCJzdGFm'
        'ZiIsImZiIiwibW0iXTsKY29uc3QgQ0FOX0VESVQgPSBbImFkbWluIiwiY2hlZiIsInNvdXMtY2hl'
        'ZiIsImNhcG8tcGFydGl0YSJdOwoKZnVuY3Rpb24gaG91cnNVbnRpbChpc28pIHsKICBpZighaXNv'
        'KSByZXR1cm4gbnVsbDsKICByZXR1cm4gKG5ldyBEYXRlKGlzbyktbmV3IERhdGUoKSkvMzYwMDAw'
        'MDsKfQpmdW5jdGlvbiBleHBpcnlCYWRnZShpc28pIHsKICBjb25zdCBoID0gaG91cnNVbnRpbChp'
        'c28pOwogIGlmKGg9PT1udWxsKSByZXR1cm4gbnVsbDsKICBpZihoPD0wKSAgcmV0dXJuIHtsYWJl'
        'bDoiU0NBRFVUTyIsICBjb2xvcjoiI2ZmZiIsIGJnOiIjOEIxRTJGIn07CiAgaWYoaDw9MjQpIHJl'
        'dHVybiB7bGFiZWw6IuKJpDI0aCIsICAgICBjb2xvcjoiI2ZmZiIsIGJnOiIjOEIxRTJGIn07CiAg'
        'aWYoaDw9NzIpIHJldHVybiB7bGFiZWw6IuKJpDcyaCIsICAgICBjb2xvcjoiI2ZmZiIsIGJnOiIj'
        'QzE5QTNFIn07CiAgcmV0dXJuIG51bGw7Cn0KZnVuY3Rpb24gc3RlcEZvcih1bml0KSB7CiAgaWYo'
        'WyJnIiwibWwiXS5pbmNsdWRlcyh1bml0KSkgcmV0dXJuIFsxMDAsNTAwXTsKICBpZihbImtnIiwi'
        'bCJdLmluY2x1ZGVzKHVuaXQpKSByZXR1cm4gWzAuNSwxXTsKICByZXR1cm4gWzEsNV07Cn0KZnVu'
        'Y3Rpb24gZm10RGF0ZShpc28pIHsgcmV0dXJuIGlzbyA/IGlzby5zbGljZSgwLDEwKSA6ICLigJQi'
        'OyB9CgovKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZAKICAgTUlDUk8tQ09NUE9ORU5UUwogICDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KZnVuY3Rpb24gTGl2ZUNsb2NrKHsgdCB9KSB7'
        'CiAgY29uc3QgW25vdyxzZXROb3ddPXVzZVN0YXRlKG5ldyBEYXRlKCkpOwogIHVzZUVmZmVjdCgo'
        'KT0+eyBjb25zdCBpPXNldEludGVydmFsKCgpPT5zZXROb3cobmV3IERhdGUoKSksMTAwMCk7IHJl'
        'dHVybigpPT5jbGVhckludGVydmFsKGkpO30sW10pOwogIHJldHVybiAoCiAgICA8c3BhbiBjbGFz'
        'c05hbWU9Im1vbm8iIHN0eWxlPXt7Zm9udFNpemU6MTMsY29sb3I6dC5nb2xkLGxldHRlclNwYWNp'
        'bmc6IjAuMDZlbSJ9fT4KICAgICAge25vdy50b0xvY2FsZVRpbWVTdHJpbmcoIml0LUlUIix7aG91'
        'cjoiMi1kaWdpdCIsbWludXRlOiIyLWRpZ2l0IixzZWNvbmQ6IjItZGlnaXQifSl9CiAgICA8L3Nw'
        'YW4+CiAgKTsKfQoKZnVuY3Rpb24gQmFyTWluaSh7IHZhbHVlLCBtYXgsIHQsIGNvbG9yIH0pIHsK'
        'ICBjb25zdCBwY3QgPSBNYXRoLm1pbigodmFsdWUvbWF4KSoxMDAsMTAwKTsKICBjb25zdCBpc0xv'
        'dyA9IHZhbHVlL21heCA8IDAuMjU7CiAgY29uc3QgYyA9IGNvbG9yfHwoaXNMb3c/dC5kYW5nZXI6'
        'cGN0PDUwP3Qud2FybmluZzp0LnN1Y2Nlc3MpOwogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7'
        'aGVpZ2h0OjQsYmFja2dyb3VuZDp0LmRpdixib3JkZXJSYWRpdXM6MixvdmVyZmxvdzoiaGlkZGVu'
        'IixmbGV4OjF9fT4KICAgICAgPGRpdiBzdHlsZT17e2hlaWdodDoiMTAwJSIsd2lkdGg6YCR7cGN0'
        'fSVgLGJhY2tncm91bmQ6Yyxib3JkZXJSYWRpdXM6Mix0cmFuc2l0aW9uOiJ3aWR0aCAwLjhzIGN1'
        'YmljLWJlemllcigwLjQsMCwwLjIsMSkifX0vPgogICAgPC9kaXY+CiAgKTsKfQoKZnVuY3Rpb24g'
        'QmFkZ2UoeyBsYWJlbCwgY29sb3IsIGJnLCBzdHlsZTpzeD17fSB9KSB7CiAgcmV0dXJuICgKICAg'
        'IDxzcGFuIGNsYXNzTmFtZT0ibW9ubyIgc3R5bGU9e3tmb250U2l6ZTo4LGxldHRlclNwYWNpbmc6'
        'IjAuMWVtIixmb250V2VpZ2h0OjUwMCxwYWRkaW5nOiIzcHggOXB4Iixib3JkZXJSYWRpdXM6NCxj'
        'b2xvcixiYWNrZ3JvdW5kOmJnLHdoaXRlU3BhY2U6Im5vd3JhcCIsLi4uc3h9fT4KICAgICAge2xh'
        'YmVsfQogICAgPC9zcGFuPgogICk7Cn0KCmZ1bmN0aW9uIEJ0bih7IG9uQ2xpY2ssIGRpc2FibGVk'
        'LCBjaGlsZHJlbiwgdmFyaWFudD0icHJpbWFyeSIsIHQsIHN0eWxlOnN4PXt9IH0pIHsKICBjb25z'
        'dCB2YXJpYW50cyA9IHsKICAgIHByaW1hcnk6eyBiYWNrZ3JvdW5kOmBsaW5lYXItZ3JhZGllbnQo'
        'MTM1ZGVnLCAke3Quc2Vjb25kYXJ5fSwgJHt0LnNlY29uZGFyeURlZXB9KWAsIGNvbG9yOiIjZmZm'
        'IiwgYm9yZGVyOiJub25lIiB9LAogICAgZGFuZ2VyOiB7IGJhY2tncm91bmQ6YGxpbmVhci1ncmFk'
        'aWVudCgxMzVkZWcsICR7dC5hY2NlbnR9LCAke3QuYWNjZW50RGVlcH0pYCwgY29sb3I6IiNmZmYi'
        'LCBib3JkZXI6Im5vbmUiIH0sCiAgICBnaG9zdDogIHsgYmFja2dyb3VuZDoidHJhbnNwYXJlbnQi'
        'LCBjb2xvcjp0Lmlua011dGVkLCBib3JkZXI6YDFweCBzb2xpZCAke3QuZGl2fWAgfSwKICAgIGdv'
        'bGQ6ICAgeyBiYWNrZ3JvdW5kOmBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAke3QuZ29sZH0sICR7'
        'dC5nb2xkQnJpZ2h0fSlgLCBjb2xvcjoiI2ZmZiIsIGJvcmRlcjoibm9uZSIgfSwKICB9OwogIHJl'
        'dHVybiAoCiAgICA8YnV0dG9uIGRpc2FibGVkPXtkaXNhYmxlZH0gb25DbGljaz17b25DbGlja30g'
        'c3R5bGU9e3sKICAgICAgcGFkZGluZzoiOHB4IDE4cHgiLGJvcmRlclJhZGl1czo4LGN1cnNvcjpk'
        'aXNhYmxlZD8ibm90LWFsbG93ZWQiOiJwb2ludGVyIiwKICAgICAgZm9udFNpemU6MTAsZm9udEZh'
        'bWlseToidmFyKC0tbW9ubykiLGZvbnRXZWlnaHQ6NTAwLGxldHRlclNwYWNpbmc6IjAuMDhlbSIs'
        'CiAgICAgIG9wYWNpdHk6ZGlzYWJsZWQ/MC40NToxLHRyYW5zaXRpb246ImFsbCAwLjJzIiwuLi52'
        'YXJpYW50c1t2YXJpYW50XSwuLi5zeCwKICAgIH19CiAgICBvbk1vdXNlRW50ZXI9e2U9PntpZigh'
        'ZGlzYWJsZWQpZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmZpbHRlcj0iYnJpZ2h0bmVzcygxLjA4KSI7'
        'fX0KICAgIG9uTW91c2VMZWF2ZT17ZT0+e2UuY3VycmVudFRhcmdldC5zdHlsZS5maWx0ZXI9Im5v'
        'bmUiO319CiAgICA+e2NoaWxkcmVufTwvYnV0dG9uPgogICk7Cn0KCmZ1bmN0aW9uIEx1eElucHV0'
        'KHsgdmFsdWUsIG9uQ2hhbmdlLCBwbGFjZWhvbGRlciwgdHlwZT0idGV4dCIsIHQsIHN0eWxlOnN4'
        'PXt9IH0pIHsKICByZXR1cm4gKAogICAgPGlucHV0IHZhbHVlPXt2YWx1ZX0gb25DaGFuZ2U9e29u'
        'Q2hhbmdlfSB0eXBlPXt0eXBlfSBwbGFjZWhvbGRlcj17cGxhY2Vob2xkZXJ9CiAgICAgIHN0eWxl'
        'PXt7CiAgICAgICAgd2lkdGg6IjEwMCUiLHBhZGRpbmc6IjlweCAxNHB4Iixib3JkZXJSYWRpdXM6'
        'OCxmb250U2l6ZToxMixmb250RmFtaWx5OiJ2YXIoLS1zZXJpZikiLAogICAgICAgIGJhY2tncm91'
        'bmQ6dC5iZ0NhcmRBbHQsY29sb3I6dC5pbmssYm9yZGVyOmAxcHggc29saWQgJHt0LmRpdn1gLG91'
        'dGxpbmU6Im5vbmUiLAogICAgICAgIHRyYW5zaXRpb246ImJvcmRlci1jb2xvciAwLjJzIiwuLi5z'
        'eCwKICAgICAgfX0KICAgICAgb25Gb2N1cz17ZT0+ZS50YXJnZXQuc3R5bGUuYm9yZGVyQ29sb3I9'
        'dC5nb2xkfQogICAgICBvbkJsdXI9e2U9PmUudGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yPXQuZGl2'
        'fQogICAgLz4KICApOwp9CgpmdW5jdGlvbiBMdXhTZWxlY3QoeyB2YWx1ZSwgb25DaGFuZ2UsIGNo'
        'aWxkcmVuLCB0LCBzdHlsZTpzeD17fSB9KSB7CiAgcmV0dXJuICgKICAgIDxzZWxlY3QgdmFsdWU9'
        'e3ZhbHVlfSBvbkNoYW5nZT17b25DaGFuZ2V9IHN0eWxlPXt7CiAgICAgIHdpZHRoOiIxMDAlIixw'
        'YWRkaW5nOiI5cHggMTRweCIsYm9yZGVyUmFkaXVzOjgsZm9udFNpemU6MTIsZm9udEZhbWlseToi'
        'dmFyKC0tbW9ubykiLAogICAgICBiYWNrZ3JvdW5kOnQuYmdDYXJkQWx0LGNvbG9yOnQuaW5rLGJv'
        'cmRlcjpgMXB4IHNvbGlkICR7dC5kaXZ9YCxvdXRsaW5lOiJub25lIixjdXJzb3I6InBvaW50ZXIi'
        'LC4uLnN4LAogICAgfX0+e2NoaWxkcmVufTwvc2VsZWN0PgogICk7Cn0KCmZ1bmN0aW9uIFZvaWNl'
        'QnRuKHsgdCwgb25SZXN1bHQgfSkgewogIGNvbnN0IHNwZWVjaCA9IHVzZVNwZWVjaChvblJlc3Vs'
        'dCk7CiAgaWYoIXNwZWVjaC5zdXBwb3J0ZWQpIHJldHVybiBudWxsOwogIHJldHVybiAoCiAgICA8'
        'YnV0dG9uIG9uQ2xpY2s9e3NwZWVjaC5saXN0ZW5pbmc/c3BlZWNoLnN0b3A6c3BlZWNoLnN0YXJ0'
        'fSBzdHlsZT17ewogICAgICB3aWR0aDozNCxoZWlnaHQ6MzQsYm9yZGVyUmFkaXVzOiI1MCUiLGJv'
        'cmRlcjoibm9uZSIsY3Vyc29yOiJwb2ludGVyIiwKICAgICAgYmFja2dyb3VuZDpzcGVlY2gubGlz'
        'dGVuaW5nP2BsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCR7dC5hY2NlbnR9LCR7dC5hY2NlbnREZWVw'
        'fSlgOmAke3QuZGl2fWAsCiAgICAgIGRpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIs'
        'anVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsZm9udFNpemU6MTQsCiAgICAgIGZsZXhTaHJpbms6MCx0'
        'cmFuc2l0aW9uOiJhbGwgMC4ycyIsCiAgICAgIGFuaW1hdGlvbjpzcGVlY2gubGlzdGVuaW5nPyJw'
        'dWxzZSAxcyBlYXNlLWluLW91dCBpbmZpbml0ZSI6Im5vbmUiLAogICAgfX0gdGl0bGU9e3NwZWVj'
        'aC5saXN0ZW5pbmc/IlN0b3AiOiJQYXJsYSJ9PvCfjqQ8L2J1dHRvbj4KICApOwp9CgpmdW5jdGlv'
        'biBDYXJkKHsgY2hpbGRyZW4sIHQsIHN0eWxlOnN4PXt9LCBnbG93PWZhbHNlIH0pIHsKICByZXR1'
        'cm4gKAogICAgPGRpdiBzdHlsZT17ewogICAgICBiYWNrZ3JvdW5kOnQuYmdDYXJkLGJvcmRlclJh'
        'ZGl1czoxNCxib3JkZXI6YDFweCBzb2xpZCAke2dsb3c/dC5hY2NlbnQrIjMwIjp0LmRpdn1gLAog'
        'ICAgICBib3hTaGFkb3c6Z2xvdz9gMCA0cHggMjBweCAke3QuYWNjZW50R2xvd31gOmAwIDJweCAx'
        'MnB4ICR7dC5zaGFkb3d9YCwKICAgICAgb3ZlcmZsb3c6ImhpZGRlbiIsdHJhbnNpdGlvbjoiYWxs'
        'IDAuM3MiLC4uLnN4LAogICAgfX0+e2NoaWxkcmVufTwvZGl2PgogICk7Cn0KCmZ1bmN0aW9uIENh'
        'cmRIZWFkZXIoeyB0aXRsZSwgcmlnaHQsIHQgfSkgewogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxl'
        'PXt7cGFkZGluZzoiMTZweCAyMnB4Iixib3JkZXJCb3R0b206YDFweCBzb2xpZCAke3QuZGl2fWAs'
        'ZGlzcGxheToiZmxleCIsanVzdGlmeUNvbnRlbnQ6InNwYWNlLWJldHdlZW4iLGFsaWduSXRlbXM6'
        'ImNlbnRlciJ9fT4KICAgICAgPHNwYW4gY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXpl'
        'OjksbGV0dGVyU3BhY2luZzoiMC4xNGVtIixjb2xvcjp0Lmlua011dGVkLGZvbnRXZWlnaHQ6NTAw'
        'LHRleHRUcmFuc2Zvcm06InVwcGVyY2FzZSJ9fT57dGl0bGV9PC9zcGFuPgogICAgICB7cmlnaHR9'
        'CiAgICA8L2Rpdj4KICApOwp9CgovKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZAKICAgU0VUVVAgU0NSRUVOCiAgIOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpmdW5jdGlvbiBTZXR1cFNj'
        'cmVlbih7IHQgfSkgewogIGNvbnN0IHsgY3JlYXRlS2l0Y2hlbiB9ID0gdXNlSygpOwogIGNvbnN0'
        'IFtuYW1lLCBzZXROYW1lXSA9IHVzZVN0YXRlKCIiKTsKICBjb25zdCBbb3duZXIsIHNldE93bmVy'
        'XSA9IHVzZVN0YXRlKCIiKTsKICByZXR1cm4gKAogICAgPGRpdiBzdHlsZT17e21pbkhlaWdodDoi'
        'MTAwdmgiLGRpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIsanVzdGlmeUNvbnRlbnQ6'
        'ImNlbnRlciIsYmFja2dyb3VuZDp0LmJnfX0+CiAgICAgIDxDYXJkIHQ9e3R9IHN0eWxlPXt7d2lk'
        'dGg6NDIwLHBhZGRpbmc6NDB9fT4KICAgICAgICA8ZGl2IHN0eWxlPXt7dGV4dEFsaWduOiJjZW50'
        'ZXIiLG1hcmdpbkJvdHRvbTozMn19PgogICAgICAgICAgPGRpdiBzdHlsZT17ewogICAgICAgICAg'
        'ICB3aWR0aDo2NCxoZWlnaHQ6NjQsYm9yZGVyUmFkaXVzOiI1MCUiLG1hcmdpbjoiMCBhdXRvIDE2'
        'cHgiLAogICAgICAgICAgICBiYWNrZ3JvdW5kOmBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCR7dC5z'
        'ZWNvbmRhcnl9LCR7dC5zZWNvbmRhcnlEZWVwfSlgLAogICAgICAgICAgICBib3JkZXI6YDJweCBz'
        'b2xpZCAke3QuZ29sZEJyaWdodH1gLGRpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIs'
        'anVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsCiAgICAgICAgICB9fT4KICAgICAgICAgICAgPHNwYW4g'
        'Y2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjExLGNvbG9yOnQuZ29sZEJyaWdodH19'
        'PuKYheKYheKYhTwvc3Bhbj4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17'
        'e2ZvbnRGYW1pbHk6InZhcigtLXNlcmlmKSIsZm9udFNpemU6MjYsZm9udFdlaWdodDo1MDAsY29s'
        'b3I6dC5pbmssbWFyZ2luQm90dG9tOjZ9fT5LaXRjaGVuIFBybzwvZGl2PgogICAgICAgICAgPGRp'
        'diBjbGFzc05hbWU9Im1vbm8iIHN0eWxlPXt7Zm9udFNpemU6OCxsZXR0ZXJTcGFjaW5nOiIwLjJl'
        'bSIsY29sb3I6dC5pbmtGYWludH19PkNSRUEgTEEgVFVBIENVQ0lOQTwvZGl2PgogICAgICAgIDwv'
        'ZGl2PgogICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixmbGV4RGlyZWN0aW9uOiJj'
        'b2x1bW4iLGdhcDoxNH19PgogICAgICAgICAgPEx1eElucHV0IHZhbHVlPXtuYW1lfSBvbkNoYW5n'
        'ZT17ZT0+c2V0TmFtZShlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPSJOb21lIGN1Y2luYSAv'
        'IHJpc3RvcmFudGUiIHQ9e3R9Lz4KICAgICAgICAgIDxMdXhJbnB1dCB2YWx1ZT17b3duZXJ9IG9u'
        'Q2hhbmdlPXtlPT5zZXRPd25lcihlLnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPSJUdW8gbm9t'
        'ZSAoYWRtaW4pIiB0PXt0fS8+CiAgICAgICAgICA8QnRuIHQ9e3R9IG9uQ2xpY2s9eygpPT5jcmVh'
        'dGVLaXRjaGVuKG5hbWUsb3duZXIpfSBkaXNhYmxlZD17IW5hbWUudHJpbSgpfSB2YXJpYW50PSJw'
        'cmltYXJ5IiBzdHlsZT17e21hcmdpblRvcDo4fX0+CiAgICAgICAgICAgIENyZWEgQ3VjaW5hCiAg'
        'ICAgICAgICA8L0J0bj4KICAgICAgICA8L2Rpdj4KICAgICAgPC9DYXJkPgogICAgPC9kaXY+CiAg'
        'KTsKfQoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQCiAgIERBU0hCT0FSRAogICDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZAgKi8KZnVuY3Rpb24gRGFzaGJvYXJkVmlldyh7IHQgfSkgewog'
        'IGNvbnN0IHsga2l0Y2hlbiwgYWxsSXRlbXMgfSA9IHVzZUsoKTsKICBpZiAoIWtpdGNoZW4pIHJl'
        'dHVybiBudWxsOwoKICBjb25zdCBpdGVtcyA9IGFsbEl0ZW1zKCk7CiAgY29uc3Qgbm93ID0gbmV3'
        'IERhdGUoKTsKICBjb25zdCBleHBpcmVkICA9IGl0ZW1zLmZpbHRlcih4PT54LmV4cGlyZXNBdCAm'
        'JiBuZXcgRGF0ZSh4LmV4cGlyZXNBdCk8bm93KTsKICBjb25zdCB1cmdlbnQgICA9IGl0ZW1zLmZp'
        'bHRlcih4PT57IGNvbnN0IGg9aG91cnNVbnRpbCh4LmV4cGlyZXNBdCk7IHJldHVybiBoIT09bnVs'
        'bCYmaD4wJiZoPD03MjsgfSk7CiAgY29uc3QgayA9IGtpdGNoZW47CiAgY29uc3QgcGFyS2V5cyAg'
        'PSBPYmplY3Qua2V5cyhQQVJfUFJFU0VUKTsKICBjb25zdCBsb3dJdGVtcyA9IGl0ZW1zLmZpbHRl'
        'cih4PT57CiAgICBjb25zdCBwYXIgPSB4LnBhckxldmVsID8/ICh4LmNhdGVnb3J5ID8gUEFSX1BS'
        'RVNFVFt4LmNhdGVnb3J5XSA6IG51bGwpID8/IChrLnBhckJ5Q2F0ZWdvcnlbeC5jYXRlZ29yeV18'
        'fDApOwogICAgcmV0dXJuIHBhcj4wICYmIHgucXVhbnRpdHk8cGFyOwogIH0pOwoKICBjb25zdCBr'
        'cGlzID0gWwogICAge2xhYmVsOiJSRUZFUkVOWkUiLHZhbDppdGVtcy5sZW5ndGgsc3ViOiJ0b3Rh'
        'bGkiLGljb246IuKXhiJ9LAogICAge2xhYmVsOiJTQ0FEVVRJIix2YWw6ZXhwaXJlZC5sZW5ndGgs'
        'c3ViOiJhcnRpY29saSIsaWNvbjoi4pqgIixoaTpleHBpcmVkLmxlbmd0aD4wfSwKICAgIHtsYWJl'
        'bDoiVVJHRU5USSDiiaQ3MmgiLHZhbDp1cmdlbnQubGVuZ3RoLHN1YjoiYXJ0aWNvbGkiLGljb246'
        'IuKPsSIsaGk6dXJnZW50Lmxlbmd0aD4wfSwKICAgIHtsYWJlbDoiU09UVE8gUEFSIix2YWw6bG93'
        'SXRlbXMubGVuZ3RoLHN1YjoiYXJ0aWNvbGkiLGljb246IuKGkyIsaGk6bG93SXRlbXMubGVuZ3Ro'
        'PjB9LAogIF07CgogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxleCIsZmxl'
        'eERpcmVjdGlvbjoiY29sdW1uIixnYXA6MjR9fT4KICAgICAgey8qIEtQSSAqL30KICAgICAgPGRp'
        'diBzdHlsZT17e2Rpc3BsYXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6InJlcGVhdCg0LDFm'
        'cikiLGdhcDoxNH19PgogICAgICAgIHtrcGlzLm1hcCgoa3BpLGkpPT4oCiAgICAgICAgICA8Q2Fy'
        'ZCBrZXk9e2l9IHQ9e3R9IGdsb3c9e2twaS5oaX0gc3R5bGU9e3twYWRkaW5nOiIyMHB4IDIycHgi'
        'fX0+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixqdXN0aWZ5Q29udGVu'
        'dDoic3BhY2UtYmV0d2VlbiIsYWxpZ25JdGVtczoiZmxleC1zdGFydCIsbWFyZ2luQm90dG9tOjEy'
        'fX0+CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXpl'
        'OjgsbGV0dGVyU3BhY2luZzoiMC4xNmVtIixjb2xvcjp0Lmlua0ZhaW50fX0+e2twaS5sYWJlbH08'
        'L3NwYW4+CiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3tmb250U2l6ZToxNixjb2xvcjprcGku'
        'aGk/dC5hY2NlbnQ6dC5nb2xkRGltLGxpbmVIZWlnaHQ6MX19PntrcGkuaWNvbn08L3NwYW4+CiAg'
        'ICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxleCIs'
        'YWxpZ25JdGVtczoiYmFzZWxpbmUiLGdhcDo2fX0+CiAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9'
        'e3tmb250U2l6ZTozMixmb250V2VpZ2h0OjQwMCxmb250RmFtaWx5OiJ2YXIoLS1zZXJpZikiLGNv'
        'bG9yOmtwaS5oaT90LmFjY2VudDp0LmluayxsaW5lSGVpZ2h0OjF9fT57a3BpLnZhbH08L3NwYW4+'
        'CiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjEw'
        'LGNvbG9yOnQuaW5rRmFpbnR9fT57a3BpLnN1Yn08L3NwYW4+CiAgICAgICAgICAgIDwvZGl2Pgog'
        'ICAgICAgICAgPC9DYXJkPgogICAgICAgICkpfQogICAgICA8L2Rpdj4KCiAgICAgIHsvKiBVcmdl'
        'bnRpICsgU2hvcHBpbmcgcHJldmlldyAqL30KICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6Imdy'
        'aWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6IjFmciAxZnIiLGdhcDoxNH19PgogICAgICAgIHsvKiBT'
        'Y2FkZW56ZSB1cmdlbnRpICovfQogICAgICAgIDxDYXJkIHQ9e3R9PgogICAgICAgICAgPENhcmRI'
        'ZWFkZXIgdD17dH0gdGl0bGU9IlNjYWRlbnplIHVyZ2VudGkiCiAgICAgICAgICAgIHJpZ2h0PXs8'
        'QmFkZ2UgbGFiZWw9e2Ake3VyZ2VudC5sZW5ndGgrZXhwaXJlZC5sZW5ndGh9YH0gY29sb3I9e3Qu'
        'ZGFuZ2VyfSBiZz17dC5hY2NlbnRHbG93fS8+fS8+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7cGFk'
        'ZGluZzoiOHB4IDAifX0+CiAgICAgICAgICAgIHtbLi4uZXhwaXJlZCwuLi51cmdlbnRdLmxlbmd0'
        'aD09PTAgPyAoCiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e3BhZGRpbmc6IjIwcHggMjJweCIs'
        'Y29sb3I6dC5pbmtGYWludCxmb250U2l6ZToxMixmb250RmFtaWx5OiJ2YXIoLS1zZXJpZikiLGZv'
        'bnRTdHlsZToiaXRhbGljIn19PuKckyBOZXNzdW4gYXJ0aWNvbG8gaW4gc2NhZGVuemE8L2Rpdj4K'
        'ICAgICAgICAgICAgKSA6IFsuLi5leHBpcmVkLC4uLnVyZ2VudF0uc2xpY2UoMCw2KS5tYXAoKGl0'
        'ZW0saSk9PnsKICAgICAgICAgICAgICBjb25zdCBiYWRnZSA9IGV4cGlyeUJhZGdlKGl0ZW0uZXhw'
        'aXJlc0F0KTsKICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgPGRpdiBrZXk9'
        'e2l0ZW0uaWR9IHN0eWxlPXt7cGFkZGluZzoiMTFweCAyMnB4IixkaXNwbGF5OiJmbGV4IixhbGln'
        'bkl0ZW1zOiJjZW50ZXIiLGdhcDoxMixib3JkZXJCb3R0b206aTw1P2AxcHggc29saWQgJHt0LmRp'
        'dn1gOiJub25lIn19PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZmxleDoxfX0+CiAg'
        'ICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2ZvbnRTaXplOjEzLGZvbnRGYW1pbHk6InZh'
        'cigtLXNlcmlmKSIsY29sb3I6dC5pbmssZm9udFdlaWdodDo1MDB9fT57aXRlbS5uYW1lfTwvZGl2'
        'PgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRT'
        'aXplOjksY29sb3I6dC5pbmtGYWludH19PntpdGVtLmxvY2F0aW9ufSDCtyB7aXRlbS5xdWFudGl0'
        'eX0ge2l0ZW0udW5pdH08L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAg'
        'ICAgICAgIHtiYWRnZSYmPEJhZGdlIGxhYmVsPXtiYWRnZS5sYWJlbH0gY29sb3I9e2JhZGdlLmNv'
        'bG9yfSBiZz17YmFkZ2UuYmd9Lz59CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAg'
        'ICApOwogICAgICAgICAgICB9KX0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvQ2FyZD4KCiAg'
        'ICAgICAgey8qIFNvdHRvIHBhciAqL30KICAgICAgICA8Q2FyZCB0PXt0fT4KICAgICAgICAgIDxD'
        'YXJkSGVhZGVyIHQ9e3R9IHRpdGxlPSJTb3R0byBsaXZlbGxvIFBBUiIKICAgICAgICAgICAgcmln'
        'aHQ9ezxCYWRnZSBsYWJlbD17YCR7bG93SXRlbXMubGVuZ3RofWB9IGNvbG9yPXt0Lndhcm5pbmd9'
        'IGJnPXt0LmdvbGRGYWludH0vPn0vPgogICAgICAgICAgPGRpdiBzdHlsZT17e3BhZGRpbmc6Ijhw'
        'eCAwIn19PgogICAgICAgICAgICB7bG93SXRlbXMubGVuZ3RoPT09MCA/ICgKICAgICAgICAgICAg'
        'ICA8ZGl2IHN0eWxlPXt7cGFkZGluZzoiMjBweCAyMnB4Iixjb2xvcjp0Lmlua0ZhaW50LGZvbnRT'
        'aXplOjEyLGZvbnRGYW1pbHk6InZhcigtLXNlcmlmKSIsZm9udFN0eWxlOiJpdGFsaWMifX0+4pyT'
        'IFR1dHRpIGkgbGl2ZWxsaSBuZWxsYSBub3JtYTwvZGl2PgogICAgICAgICAgICApIDogbG93SXRl'
        'bXMuc2xpY2UoMCw2KS5tYXAoKGl0ZW0saSk9PnsKICAgICAgICAgICAgICBjb25zdCBwYXIgPSBp'
        'dGVtLnBhckxldmVsID8/IFBBUl9QUkVTRVRbaXRlbS5jYXRlZ29yeV0gPz8gMDsKICAgICAgICAg'
        'ICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW0uaWR9IHN0eWxlPXt7'
        'cGFkZGluZzoiMTFweCAyMnB4IixkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJjZW50ZXIiLGdh'
        'cDoxMixib3JkZXJCb3R0b206aTw1P2AxcHggc29saWQgJHt0LmRpdn1gOiJub25lIn19PgogICAg'
        'ICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZmxleDoxfX0+CiAgICAgICAgICAgICAgICAgICAg'
        'PGRpdiBzdHlsZT17e2ZvbnRTaXplOjEzLGZvbnRGYW1pbHk6InZhcigtLXNlcmlmKSIsY29sb3I6'
        'dC5pbmssZm9udFdlaWdodDo1MDB9fT57aXRlbS5uYW1lfTwvZGl2PgogICAgICAgICAgICAgICAg'
        'ICAgIDxkaXYgY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjksY29sb3I6dC5pbmtG'
        'YWludH19PntpdGVtLnF1YW50aXR5fS97cGFyfSB7aXRlbS51bml0fTwvZGl2PgogICAgICAgICAg'
        'ICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPEJhck1pbmkgdmFsdWU9e2l0ZW0ucXVh'
        'bnRpdHl9IG1heD17cGFyfHwxfSB0PXt0fS8+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAg'
        'ICAgICAgICApOwogICAgICAgICAgICB9KX0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvQ2Fy'
        'ZD4KICAgICAgPC9kaXY+CgogICAgICB7LyogU2hvcHBpbmcgbGlzdCBwcmV2aWV3ICovfQogICAg'
        'ICB7KGtpdGNoZW4uc2hvcHBpbmd8fFtdKS5sZW5ndGg+MCAmJiAoCiAgICAgICAgPENhcmQgdD17'
        'dH0+CiAgICAgICAgICA8Q2FyZEhlYWRlciB0PXt0fSB0aXRsZT0iTGlzdGEgZGVsbGEgc3Blc2Ei'
        'CiAgICAgICAgICAgIHJpZ2h0PXs8QmFkZ2UgbGFiZWw9e2Ake2tpdGNoZW4uc2hvcHBpbmcuZmls'
        'dGVyKHg9PiF4LmNoZWNrZWQpLmxlbmd0aH0gZGEgZmFyZWB9IGNvbG9yPXt0LnNlY29uZGFyeX0g'
        'Ymc9e3QuZ29sZEZhaW50fS8+fS8+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7cGFkZGluZzoiMTJw'
        'eCAyMnB4IixkaXNwbGF5OiJmbGV4IixmbGV4V3JhcDoid3JhcCIsZ2FwOjh9fT4KICAgICAgICAg'
        'ICAge2tpdGNoZW4uc2hvcHBpbmcuZmlsdGVyKHg9PiF4LmNoZWNrZWQpLnNsaWNlKDAsMTIpLm1h'
        'cCh4PT4oCiAgICAgICAgICAgICAgPEJhZGdlIGtleT17eC5pZH0gbGFiZWw9e2Ake3gubmFtZX0g'
        'w5cke3gucXVhbnRpdHl9JHt4LnVuaXR9YH0gY29sb3I9e3QuaW5rU29mdH0gYmc9e3QuYmdBbHR9'
        'Lz4KICAgICAgICAgICAgKSl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L0NhcmQ+CiAgICAg'
        'ICl9CiAgICA8L2Rpdj4KICApOwp9CgovKiDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZAKICAgSU5WRU5UT1JZIFZJRVcKICAg4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmZ1bmN0aW9uIElu'
        'dmVudG9yeVZpZXcoeyB0IH0pIHsKICBjb25zdCB7IGtpdGNoZW4sIHN0b2NrQWRkLCBhZGp1c3RJ'
        'dGVtLCByZW1vdmVJdGVtLCBzZXRJdGVtUGFyLCBjdXJyZW50Um9sZSB9ID0gdXNlSygpOwogIGNv'
        'bnN0IHRvYXN0ID0gdXNlVG9hc3QoKTsKICBjb25zdCBjYW5FZGl0ID0gQ0FOX0VESVQuaW5jbHVk'
        'ZXMoY3VycmVudFJvbGUoKSk7CgogIGNvbnN0IFtsb2MsICAgIHNldExvY10gICAgPSB1c2VTdGF0'
        'ZSgiZnJpZGdlIik7CiAgY29uc3QgW3NlYXJjaCwgc2V0U2VhcmNoXSA9IHVzZVN0YXRlKCIiKTsK'
        'ICBjb25zdCBbc2hvd0Zvcm0sIHNldFNob3dGb3JtXSA9IHVzZVN0YXRlKGZhbHNlKTsKCiAgLy8g'
        'Rm9ybSBzdGF0ZQogIGNvbnN0IFtmTmFtZSwgICAgIHNldEZOYW1lXSAgICAgPSB1c2VTdGF0ZSgi'
        'Iik7CiAgY29uc3QgW2ZRdHksICAgICAgc2V0RlF0eV0gICAgICA9IHVzZVN0YXRlKCIxIik7CiAg'
        'Y29uc3QgW2ZVbml0LCAgICAgc2V0RlVuaXRdICAgICA9IHVzZVN0YXRlKCJweiIpOwogIGNvbnN0'
        'IFtmQ2F0LCAgICAgIHNldEZDYXRdICAgICAgPSB1c2VTdGF0ZSgicHJvdGVpbmUiKTsKICBjb25z'
        'dCBbZkxvdCwgICAgICBzZXRGTG90XSAgICAgID0gdXNlU3RhdGUoIiIpOwogIGNvbnN0IFtmRXhw'
        'aXJ5LCAgIHNldEZFeHBpcnldICAgPSB1c2VTdGF0ZSgiIik7CiAgY29uc3QgW2ZOb3RlcywgICAg'
        'c2V0Rk5vdGVzXSAgICA9IHVzZVN0YXRlKCIiKTsKCiAgdXNlU3BlZWNoKHI9PnNldEZOYW1lKHIp'
        'KTsKCiAgY29uc3QgTE9DUyA9IFsKICAgIHtrZXk6ImZyaWRnZSIsICAgbGFiZWw6IkZyaWdvIiwg'
        'ICAgICAgaWNvbjoi4p2E77iPIiwgdGVtcDoiMi00wrBDIn0sCiAgICB7a2V5OiJmcmVlemVyIiwg'
        'IGxhYmVsOiJDb25nZWxhdG9yZSIsIGljb246IvCfp4oiLCB0ZW1wOiItMTjCsEMifSwKICAgIHtr'
        'ZXk6ImRyeSIsICAgICAgbGFiZWw6IkRpc3BlbnNhIiwgICAgaWNvbjoi8J+PuiIsIHRlbXA6IkFt'
        'YmllbnRlIn0sCiAgICB7a2V5OiJjb3VudGVyIiwgIGxhYmVsOiJCYW5jbyIsICAgICAgIGljb246'
        'IvCfjb3vuI8iLCB0ZW1wOiJTZXJ2aXppbyJ9LAogIF07CgogIGNvbnN0IGl0ZW1zID0gKChraXRj'
        'aGVufHx7fSlbbG9jXXx8W10pLmZpbHRlcihpdGVtPT57CiAgICBpZighc2VhcmNoKSByZXR1cm4g'
        'dHJ1ZTsKICAgIHJldHVybiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2gu'
        'dG9Mb3dlckNhc2UoKSkgfHwgKGl0ZW0ubG90fHwiIikudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhz'
        'ZWFyY2gudG9Mb3dlckNhc2UoKSk7CiAgfSk7CgogIGZ1bmN0aW9uIHN1Ym1pdFN0b2NrKCkgewog'
        'ICAgY29uc3QgcXR5PXBhcnNlRmxvYXQoZlF0eSk7CiAgICBpZighZk5hbWUudHJpbSgpfHwhaXNG'
        'aW5pdGUocXR5KXx8cXR5PD0wKSB7IHRvYXN0KCJDb21waWxhIG5vbWUgZSBxdWFudGl0w6AiLCJl'
        'cnJvciIpOyByZXR1cm47IH0KICAgIHN0b2NrQWRkKHsKICAgICAgbmFtZTpmTmFtZSxxdWFudGl0'
        'eTpxdHksdW5pdDpmVW5pdCxsb2NhdGlvbjpsb2MsY2F0ZWdvcnk6ZkNhdCwKICAgICAgbG90OmZM'
        'b3R8fHVuZGVmaW5lZCxleHBpcmVzQXQ6ZkV4cGlyeT9uZXcgRGF0ZShmRXhwaXJ5KS50b0lTT1N0'
        'cmluZygpOnVuZGVmaW5lZCwKICAgICAgbm90ZXM6Zk5vdGVzfHx1bmRlZmluZWQsaW5zZXJ0ZWRE'
        'YXRlOnRvZGF5RGF0ZSgpLAogICAgfSk7CiAgICB0b2FzdChgJHtmTmFtZX0gYWdnaXVudG8vYWAs'
        'InN1Y2Nlc3MiKTsKICAgIHNldEZOYW1lKCIiKTsgc2V0RlF0eSgiMSIpOyBzZXRGTG90KCIiKTsg'
        'c2V0RkV4cGlyeSgiIik7IHNldEZOb3RlcygiIik7CiAgfQoKICByZXR1cm4gKAogICAgPGRpdiBz'
        'dHlsZT17e2Rpc3BsYXk6ImZsZXgiLGZsZXhEaXJlY3Rpb246ImNvbHVtbiIsZ2FwOjIwfX0+CiAg'
        'ICAgIHsvKiBMb2NhdGlvbiB0YWJzICovfQogICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxl'
        'eCIsZ2FwOjEwLGZsZXhXcmFwOiJ3cmFwIn19PgogICAgICAgIHtMT0NTLm1hcChsPT4oCiAgICAg'
        'ICAgICA8YnV0dG9uIGtleT17bC5rZXl9IG9uQ2xpY2s9eygpPT5zZXRMb2MobC5rZXkpfSBzdHls'
        'ZT17ewogICAgICAgICAgICBwYWRkaW5nOiIxMHB4IDIwcHgiLGJvcmRlclJhZGl1czoxMixib3Jk'
        'ZXI6Im5vbmUiLGN1cnNvcjoicG9pbnRlciIsCiAgICAgICAgICAgIGRpc3BsYXk6ImZsZXgiLGFs'
        'aWduSXRlbXM6ImNlbnRlciIsZ2FwOjgsZm9udEZhbWlseToidmFyKC0tbW9ubykiLGZvbnRTaXpl'
        'OjEwLGxldHRlclNwYWNpbmc6IjAuMDhlbSIsCiAgICAgICAgICAgIGJhY2tncm91bmQ6bG9jPT09'
        'bC5rZXk/YGxpbmVhci1ncmFkaWVudCgxMzVkZWcsJHt0LnNlY29uZGFyeX0sJHt0LnNlY29uZGFy'
        'eURlZXB9KWA6dC5iZ0NhcmQsCiAgICAgICAgICAgIGNvbG9yOmxvYz09PWwua2V5PyIjZmZmIjp0'
        'Lmlua011dGVkLAogICAgICAgICAgICBib3hTaGFkb3c6bG9jPT09bC5rZXk/YDAgNHB4IDIwcHgg'
        'JHt0LnNoYWRvd31gOmAwIDFweCA0cHggJHt0LnNoYWRvd31gLAogICAgICAgICAgICBib3JkZXI6'
        'bG9jPT09bC5rZXk/Im5vbmUiOmAxcHggc29saWQgJHt0LmRpdn1gLAogICAgICAgICAgICB0cmFu'
        'c2Zvcm06bG9jPT09bC5rZXk/InNjYWxlKDEuMDIpIjoic2NhbGUoMSkiLHRyYW5zaXRpb246ImFs'
        'bCAwLjNzIiwKICAgICAgICAgIH19PgogICAgICAgICAgICA8c3BhbiBzdHlsZT17e2ZvbnRTaXpl'
        'OjE2fX0+e2wuaWNvbn08L3NwYW4+e2wubGFiZWx9CiAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7'
        'Zm9udFNpemU6OCxvcGFjaXR5OjAuN319PntsLnRlbXB9PC9zcGFuPgogICAgICAgICAgICA8c3Bh'
        'biBzdHlsZT17e2JhY2tncm91bmQ6bG9jPT09bC5rZXk/InJnYmEoMjU1LDI1NSwyNTUsMC4yKSI6'
        'dC5kaXYscGFkZGluZzoiMnB4IDhweCIsYm9yZGVyUmFkaXVzOjEwLGZvbnRTaXplOjl9fT4KICAg'
        'ICAgICAgICAgICB7KGtpdGNoZW4/Lltsb2NdfHxbXSkubGVuZ3RofQogICAgICAgICAgICA8L3Nw'
        'YW4+CiAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICApKX0KICAgICAgPC9kaXY+CgogICAgICB7'
        'LyogU2VhcmNoICsgQWRkICovfQogICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxleCIsZ2Fw'
        'OjEwfX0+CiAgICAgICAgPEx1eElucHV0IHZhbHVlPXtzZWFyY2h9IG9uQ2hhbmdlPXtlPT5zZXRT'
        'ZWFyY2goZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj0iQ2VyY2EgcGVyIG5vbWUgbyBsb3R0'
        'b+KApiIgdD17dH0gc3R5bGU9e3tmbGV4OjF9fS8+CiAgICAgICAge2NhbkVkaXQmJjxCdG4gdD17'
        'dH0gdmFyaWFudD17c2hvd0Zvcm0/Imdob3N0IjoicHJpbWFyeSJ9IG9uQ2xpY2s9eygpPT5zZXRT'
        'aG93Rm9ybSghc2hvd0Zvcm0pfT4KICAgICAgICAgIHtzaG93Rm9ybT8i4pyVIENoaXVkaSI6Iisg'
        'QWdnaXVuZ2kifQogICAgICAgIDwvQnRuPn0KICAgICAgPC9kaXY+CgogICAgICB7LyogQWRkIGZv'
        'cm0gKi99CiAgICAgIHtzaG93Rm9ybSYmY2FuRWRpdCYmKAogICAgICAgIDxDYXJkIHQ9e3R9IHN0'
        'eWxlPXt7cGFkZGluZzoyMH19PgogICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImdyaWQi'
        'LGdyaWRUZW1wbGF0ZUNvbHVtbnM6IjFmciAxZnIiLGdhcDoxMixtYXJnaW5Cb3R0b206MTJ9fT4K'
        'ICAgICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGdhcDo4fX0+CiAgICAgICAg'
        'ICAgICAgPEx1eElucHV0IHZhbHVlPXtmTmFtZX0gb25DaGFuZ2U9e2U9PnNldEZOYW1lKGUudGFy'
        'Z2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9Ik5vbWUgcHJvZG90dG8iIHQ9e3R9IHN0eWxlPXt7Zmxl'
        'eDoxfX0vPgogICAgICAgICAgICAgIDxWb2ljZUJ0biB0PXt0fSBvblJlc3VsdD17cj0+c2V0Rk5h'
        'bWUocil9Lz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNw'
        'bGF5OiJncmlkIixncmlkVGVtcGxhdGVDb2x1bW5zOiIxZnIgMWZyIixnYXA6OH19PgogICAgICAg'
        'ICAgICAgIDxMdXhJbnB1dCB2YWx1ZT17ZlF0eX0gb25DaGFuZ2U9e2U9PnNldEZRdHkoZS50YXJn'
        'ZXQudmFsdWUpfSB0eXBlPSJudW1iZXIiIHBsYWNlaG9sZGVyPSJRdMOgIiB0PXt0fS8+CiAgICAg'
        'ICAgICAgICAgPEx1eFNlbGVjdCB2YWx1ZT17ZlVuaXR9IG9uQ2hhbmdlPXtlPT5zZXRGVW5pdChl'
        'LnRhcmdldC52YWx1ZSl9IHQ9e3R9PgogICAgICAgICAgICAgICAge1VOSVRTLm1hcCh1PT48b3B0'
        'aW9uIGtleT17dX0gdmFsdWU9e3V9Pnt1fTwvb3B0aW9uPil9CiAgICAgICAgICAgICAgPC9MdXhT'
        'ZWxlY3Q+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8THV4U2VsZWN0IHZhbHVlPXtm'
        'Q2F0fSBvbkNoYW5nZT17ZT0+c2V0RkNhdChlLnRhcmdldC52YWx1ZSl9IHQ9e3R9PgogICAgICAg'
        'ICAgICAgIHtPYmplY3QuZW50cmllcyhDQVRFR09SSUVTKS5tYXAoKFtrLHZdKT0+PG9wdGlvbiBr'
        'ZXk9e2t9IHZhbHVlPXtrfT57dn08L29wdGlvbj4pfQogICAgICAgICAgICA8L0x1eFNlbGVjdD4K'
        'ICAgICAgICAgICAgPEx1eElucHV0IHZhbHVlPXtmTG90fSBvbkNoYW5nZT17ZT0+c2V0RkxvdChl'
        'LnRhcmdldC52YWx1ZSl9IHBsYWNlaG9sZGVyPSJMb3R0byAoSEFDQ1ApIiB0PXt0fS8+CiAgICAg'
        'ICAgICAgIDxMdXhJbnB1dCB2YWx1ZT17ZkV4cGlyeX0gb25DaGFuZ2U9e2U9PnNldEZFeHBpcnko'
        'ZS50YXJnZXQudmFsdWUpfSB0eXBlPSJkYXRlIiB0PXt0fS8+CiAgICAgICAgICAgIDxMdXhJbnB1'
        'dCB2YWx1ZT17Zk5vdGVzfSBvbkNoYW5nZT17ZT0+c2V0Rk5vdGVzKGUudGFyZ2V0LnZhbHVlKX0g'
        'cGxhY2Vob2xkZXI9Ik5vdGUiIHQ9e3R9Lz4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPEJ0'
        'biB0PXt0fSB2YXJpYW50PSJnb2xkIiBvbkNsaWNrPXtzdWJtaXRTdG9ja30gZGlzYWJsZWQ9eyFm'
        'TmFtZS50cmltKCl9PkNhcmljYSBpbiB7TE9DUy5maW5kKGw9Pmwua2V5PT09bG9jKT8ubGFiZWx9'
        'PC9CdG4+CiAgICAgICAgPC9DYXJkPgogICAgICApfQoKICAgICAgey8qIEl0ZW1zIGdyaWQgKi99'
        'CiAgICAgIHtpdGVtcy5sZW5ndGg9PT0wID8gKAogICAgICAgIDxkaXYgc3R5bGU9e3t0ZXh0QWxp'
        'Z246ImNlbnRlciIscGFkZGluZzoiNDhweCAwIixjb2xvcjp0Lmlua0ZhaW50fX0+CiAgICAgICAg'
        'ICA8ZGl2IHN0eWxlPXt7Zm9udEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U2l6ZToyMCxmb250'
        'U3R5bGU6Iml0YWxpYyIsbWFyZ2luQm90dG9tOjh9fT5OZXNzdW4gYXJ0aWNvbG88L2Rpdj4KICAg'
        'ICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjksbGV0dGVyU3Bh'
        'Y2luZzoiMC4xNGVtIn19PgogICAgICAgICAgICB7c2VhcmNoPyJORVNTVU4gUklTVUxUQVRPIFBF'
        'UiBMQSBSSUNFUkNBIjoiU0VaSU9ORSBWVU9UQSDigJQgQUdHSVVOR0kgUFJPRE9UVEkifQogICAg'
        'ICAgICAgPC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICkgOiAoCiAgICAgICAgPGRpdiBzdHls'
        'ZT17e2Rpc3BsYXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6InJlcGVhdCgyLDFmcikiLGdh'
        'cDoxMn19PgogICAgICAgICAge2l0ZW1zLm1hcCgoaXRlbSxpZHgpPT57CiAgICAgICAgICAgIGNv'
        'bnN0IGJhZGdlICA9IGV4cGlyeUJhZGdlKGl0ZW0uZXhwaXJlc0F0KTsKICAgICAgICAgICAgY29u'
        'c3QgcGFyICAgID0gaXRlbS5wYXJMZXZlbCA/PyBQQVJfUFJFU0VUW2l0ZW0uY2F0ZWdvcnldID8/'
        'IDA7CiAgICAgICAgICAgIGNvbnN0IGlzTG93ICA9IHBhcj4wICYmIGl0ZW0ucXVhbnRpdHk8cGFy'
        'OwogICAgICAgICAgICBjb25zdCBbc20sbGddID0gc3RlcEZvcihpdGVtLnVuaXQpOwogICAgICAg'
        'ICAgICByZXR1cm4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXtpdGVtLmlkfSBzdHlsZT17ewog'
        'ICAgICAgICAgICAgICAgYmFja2dyb3VuZDp0LmJnQ2FyZCxib3JkZXJSYWRpdXM6MTIsb3ZlcmZs'
        'b3c6ImhpZGRlbiIsCiAgICAgICAgICAgICAgICBib3JkZXI6YDFweCBzb2xpZCAke2JhZGdlJiZi'
        'YWRnZS5iZz09PSIjOEIxRTJGIj90LmFjY2VudCsiNDAiOnQuZGl2fWAsCiAgICAgICAgICAgICAg'
        'ICBib3hTaGFkb3c6YmFkZ2U/YDAgNHB4IDIwcHggJHt0LmFjY2VudEdsb3d9YDpgMCAxcHggNnB4'
        'ICR7dC5zaGFkb3d9YCwKICAgICAgICAgICAgICAgIGFuaW1hdGlvbjpgY2FyZEluIDAuNHMgY3Vi'
        'aWMtYmV6aWVyKDAuNCwwLDAuMiwxKSAke2lkeCowLjA0fXMgYm90aGAsCiAgICAgICAgICAgICAg'
        'ICB0cmFuc2l0aW9uOiJhbGwgMC4zcyIsCiAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgICBv'
        'bk1vdXNlRW50ZXI9e2U9PmUuY3VycmVudFRhcmdldC5zdHlsZS50cmFuc2Zvcm09InRyYW5zbGF0'
        'ZVkoLTJweCkifQogICAgICAgICAgICAgIG9uTW91c2VMZWF2ZT17ZT0+ZS5jdXJyZW50VGFyZ2V0'
        'LnN0eWxlLnRyYW5zZm9ybT0idHJhbnNsYXRlWSgwKSJ9PgogICAgICAgICAgICAgICAgey8qIHRp'
        'bWUgcHJvZ3Jlc3MgYmFyIGF0IHRvcCAqL30KICAgICAgICAgICAgICAgIHtpdGVtLmV4cGlyZXNB'
        'dCYmKCgpPT57CiAgICAgICAgICAgICAgICAgIGNvbnN0IGg9aG91cnNVbnRpbChpdGVtLmV4cGly'
        'ZXNBdCk7CiAgICAgICAgICAgICAgICAgIGNvbnN0IG1heEg9NzI7CiAgICAgICAgICAgICAgICAg'
        'IGNvbnN0IHBjdCA9IGg9PT1udWxsPzEwMDpNYXRoLm1pbihNYXRoLm1heCgoMS1oL21heEgpKjEw'
        'MCwwKSwxMDApOwogICAgICAgICAgICAgICAgICBjb25zdCBiYXJDb2xvciA9ICFofHxoPD0wP3Qu'
        'ZGFuZ2VyOmg8PTI0P3QuZGFuZ2VyOmg8PTcyP3Qud2FybmluZzp0LnN1Y2Nlc3M7CiAgICAgICAg'
        'ICAgICAgICAgIHJldHVybiA8ZGl2IHN0eWxlPXt7aGVpZ2h0OjMsYmFja2dyb3VuZDp0LmJnQWx0'
        'fX0+PGRpdiBzdHlsZT17e2hlaWdodDoiMTAwJSIsd2lkdGg6YCR7cGN0fSVgLGJhY2tncm91bmQ6'
        'YmFyQ29sb3IsdHJhbnNpdGlvbjoid2lkdGggMXMifX0vPjwvZGl2PjsKICAgICAgICAgICAgICAg'
        'IH0pKCl9CgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e3BhZGRpbmc6IjE2cHggMjBweCJ9'
        'fT4KICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGp1c3RpZnlD'
        'b250ZW50OiJzcGFjZS1iZXR3ZWVuIixhbGlnbkl0ZW1zOiJmbGV4LXN0YXJ0IixtYXJnaW5Cb3R0'
        'b206MTB9fT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZmxleDoxLG1pbldpZHRo'
        'OjB9fT4KICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tmb250U2l6ZToxNCxmb250'
        'V2VpZ2h0OjUwMCxmb250RmFtaWx5OiJ2YXIoLS1zZXJpZikiLGNvbG9yOnQuaW5rLG1hcmdpbkJv'
        'dHRvbTozLGZvbnRTdHlsZToiaXRhbGljIn19PntpdGVtLm5hbWV9PC9kaXY+CiAgICAgICAgICAg'
        'ICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibW9ubyIgc3R5bGU9e3tmb250U2l6ZTo5LGNvbG9y'
        'OnQuaW5rRmFpbnR9fT4KICAgICAgICAgICAgICAgICAgICAgICAge0NBVEVHT1JJRVNbaXRlbS5j'
        'YXRlZ29yeV18fGl0ZW0uY2F0ZWdvcnl8fCLigJQifQogICAgICAgICAgICAgICAgICAgICAgICB7'
        'aXRlbS5sb3QmJmAgwrcgJHtpdGVtLmxvdH1gfQogICAgICAgICAgICAgICAgICAgICAgICB7aXRl'
        'bS5leHBpcmVzQXQmJmAgwrcgU2NhZC4gJHtmbXREYXRlKGl0ZW0uZXhwaXJlc0F0KX1gfQogICAg'
        'ICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAg'
        'ICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e3RleHRBbGlnbjoicmlnaHQiLGZsZXhTaHJpbms6'
        'MCxtYXJnaW5MZWZ0OjEyfX0+CiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e2Zv'
        'bnRTaXplOjI0LGZvbnRXZWlnaHQ6MzAwLGZvbnRGYW1pbHk6InZhcigtLXNlcmlmKSIsY29sb3I6'
        'aXNMb3c/dC5kYW5nZXI6dC5pbmssbGluZUhlaWdodDoxfX0+e2l0ZW0ucXVhbnRpdHl9PC9zcGFu'
        'PgogICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2Zv'
        'bnRTaXplOjksY29sb3I6dC5pbmtGYWludCxkaXNwbGF5OiJibG9jayJ9fT57aXRlbS51bml0fTwv'
        'c3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgPC9kaXY+'
        'CgogICAgICAgICAgICAgICAgICB7cGFyPjAmJjxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4Iixh'
        'bGlnbkl0ZW1zOiJjZW50ZXIiLGdhcDo4LG1hcmdpbkJvdHRvbTo4fX0+CiAgICAgICAgICAgICAg'
        'ICAgICAgPEJhck1pbmkgdmFsdWU9e2l0ZW0ucXVhbnRpdHl9IG1heD17cGFyfSB0PXt0fS8+CiAg'
        'ICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXpl'
        'OjgsY29sb3I6dC5pbmtGYWludCxtaW5XaWR0aDo0OCx0ZXh0QWxpZ246InJpZ2h0In19PnBhciB7'
        'cGFyfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgPC9kaXY+fQoKICAgICAgICAgICAgICAgICAg'
        'PGRpdiBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGdhcDo2LGZsZXhXcmFwOiJ3cmFwIixtYXJnaW5C'
        'b3R0b206OH19PgogICAgICAgICAgICAgICAgICAgIHtiYWRnZSYmPEJhZGdlIGxhYmVsPXtiYWRn'
        'ZS5sYWJlbH0gY29sb3I9e2JhZGdlLmNvbG9yfSBiZz17YmFkZ2UuYmd9Lz59CiAgICAgICAgICAg'
        'ICAgICAgICAge2lzTG93JiY8QmFkZ2UgbGFiZWw9IuKGkyBTQ09SVEEiIGNvbG9yPXt0Lndhcm5p'
        'bmd9IGJnPXt0LmdvbGRGYWludH0vPn0KICAgICAgICAgICAgICAgICAgPC9kaXY+CgogICAgICAg'
        'ICAgICAgICAgICB7Y2FuRWRpdCYmKAogICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tk'
        'aXNwbGF5OiJmbGV4IixnYXA6NixhbGlnbkl0ZW1zOiJjZW50ZXIifX0+CiAgICAgICAgICAgICAg'
        'ICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5hZGp1c3RJdGVtKGl0ZW0uaWQsLXNtKX0gc3R5'
        'bGU9e2J0blNtYWxsKHQpfT7iiJJ7c219PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICA8'
        'YnV0dG9uIG9uQ2xpY2s9eygpPT5hZGp1c3RJdGVtKGl0ZW0uaWQsLWxnKX0gc3R5bGU9e2J0blNt'
        'YWxsKHQpfT7iiJJ7bGd9PC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9u'
        'Q2xpY2s9eygpPT5hZGp1c3RJdGVtKGl0ZW0uaWQsK3NtKX0gc3R5bGU9e3suLi5idG5TbWFsbCh0'
        'KSxiYWNrZ3JvdW5kOnQuc3VjY2VzcysiMjAiLGNvbG9yOnQuc3VjY2Vzc319Pit7c219PC9idXR0'
        'b24+CiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5hZGp1c3RJdGVt'
        'KGl0ZW0uaWQsK2xnKX0gc3R5bGU9e3suLi5idG5TbWFsbCh0KSxiYWNrZ3JvdW5kOnQuc3VjY2Vz'
        'cysiMjAiLGNvbG9yOnQuc3VjY2Vzc319Pit7bGd9PC9idXR0b24+CiAgICAgICAgICAgICAgICAg'
        'ICAgICA8ZGl2IHN0eWxlPXt7ZmxleDoxfX0vPgogICAgICAgICAgICAgICAgICAgICAgPGJ1dHRv'
        'biBvbkNsaWNrPXsoKT0+eyBjb25zdCBwPXByb21wdCgiU2V0IHBhciBsZXZlbDoiLGl0ZW0ucGFy'
        'TGV2ZWx8fCIiKTsgaWYocCE9PW51bGwpc2V0SXRlbVBhcihpdGVtLmlkLHA9PT0iIj9udWxsOk51'
        'bWJlcihwKSk7IH19IHN0eWxlPXt7Li4uYnRuU21hbGwodCksZm9udFNpemU6OH19PlBBUjwvYnV0'
        'dG9uPgogICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+eyBpZihjb25m'
        'aXJtKGBSaW11b3ZpICR7aXRlbS5uYW1lfT9gKSlyZW1vdmVJdGVtKGl0ZW0uaWQpOyB9fSBzdHls'
        'ZT17ey4uLmJ0blNtYWxsKHQpLGJhY2tncm91bmQ6dC5hY2NlbnRHbG93LGNvbG9yOnQuZGFuZ2Vy'
        'fX0+4pyVPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAg'
        'ICAgICl9CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICA8L2Rpdj4KICAgICAg'
        'ICAgICAgKTsKICAgICAgICAgIH0pfQogICAgICAgIDwvZGl2PgogICAgICApfQogICAgPC9kaXY+'
        'CiAgKTsKfQoKZnVuY3Rpb24gYnRuU21hbGwodCkgewogIHJldHVybiB7CiAgICBwYWRkaW5nOiI0'
        'cHggMTBweCIsYm9yZGVyUmFkaXVzOjYsYm9yZGVyOmAxcHggc29saWQgJHt0LmRpdn1gLGN1cnNv'
        'cjoicG9pbnRlciIsCiAgICBmb250U2l6ZToxMCxmb250RmFtaWx5OiJ2YXIoLS1tb25vKSIsYmFj'
        'a2dyb3VuZDp0LmJnQWx0LGNvbG9yOnQuaW5rTXV0ZWQsCiAgICB0cmFuc2l0aW9uOiJhbGwgMC4x'
        'NXMiLAogIH07Cn0KCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkAogICBTVEFUSU9OUyDigJQgcGFydGl0ZSBkaSBjdWNpbmEKICAg4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmNvbnN0'
        'IFNUQVRJT05TID0gWwogIHtrZXk6InNhdWNpZXIiLCAgICBsYWJlbDoiU2F1Y2llciIsICAgICAg'
        'IGljb246IvCfq5UiLCBjb2xvcjoiIzhCMUUyRiJ9LAogIHtrZXk6InBvaXNzb25uaWVyIixsYWJl'
        'bDoiUG9pc3Nvbm5pZXIiLCAgIGljb246IvCfkJ8iLCBjb2xvcjoiIzJBNEZBNSJ9LAogIHtrZXk6'
        'InJvdGlzc2V1ciIsICBsYWJlbDoiUsO0dGlzc2V1ciIsICAgICBpY29uOiLwn6WpIiwgY29sb3I6'
        'IiM4QjRBMUUifSwKICB7a2V5OiJnYXJkZSIsICAgICAgbGFiZWw6IkdhcmRlIE1hbmdlciIsICBp'
        'Y29uOiLwn6WXIiwgY29sb3I6IiMzRDdBNEEifSwKICB7a2V5OiJwYXRpc3NpZXIiLCAgbGFiZWw6'
        'IlDDonRpc3NpZXIiLCAgICAgaWNvbjoi8J+NriIsIGNvbG9yOiIjN0E1QTFFIn0sCiAge2tleToi'
        'Y29tbXVuYXJkIiwgIGxhYmVsOiJDb21tdW5hcmQiLCAgICAgaWNvbjoi8J+NsiIsIGNvbG9yOiIj'
        'NTU1In0sCiAge2tleToiYWxsIiwgICAgICAgIGxhYmVsOiJUdXR0YSBsYSBicmlnYXRhIiwgaWNv'
        'bjoi4q2QIiwgY29sb3I6IiNDMTlBM0UifSwKXTsKCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBNRVAgVklFVyDigJQgQUktcG93ZXJl'
        'ZDogZm90byAvIGZpbGUgLyB2b2NlIOKGkiB0YXNrcyBwZXIgcGFydGl0YQogICDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDi'
        'lZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAgKi8KZnVuY3Rpb24g'
        'TWVwVmlldyh7IHQgfSkgewogIGNvbnN0IHsga2l0Y2hlbiwgc3RvY2tBZGQsIGN1cnJlbnRSb2xl'
        'IH0gPSB1c2VLKCk7CiAgY29uc3QgdG9hc3QgPSB1c2VUb2FzdCgpOwogIGNvbnN0IGNhbkVkaXQg'
        'PSBDQU5fRURJVC5pbmNsdWRlcyhjdXJyZW50Um9sZSgpKTsKICBjb25zdCBraWQgPSBraXRjaGVu'
        'Py5pZDsKCiAgLy8g4pSA4pSAIFBlcnNpc3RlbnQgdGFzayBsaXN0IOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgAogIGNvbnN0IFNUT1JBR0UgPSBgbWVwLXRhc2tzLSR7a2lkfWA7CiAg'
        'Y29uc3QgW3Rhc2tzLCBzZXRUYXNrc10gPSB1c2VTdGF0ZSgoKSA9PiB7CiAgICB0cnkgeyByZXR1'
        'cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFKSB8fCAiW10iKTsgfSBj'
        'YXRjaCB7IHJldHVybiBbXTsgfQogIH0pOwogIHVzZUVmZmVjdCgoKSA9PiB7IGxvY2FsU3RvcmFn'
        'ZS5zZXRJdGVtKFNUT1JBR0UsIEpTT04uc3RyaW5naWZ5KHRhc2tzKSk7IH0sIFt0YXNrcywgU1RP'
        'UkFHRV0pOwoKICAvLyDilIDilIAgRmlsdGVycyDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICBjb25zdCBbZmls'
        'dGVyU3RhdGlvbiwgc2V0RmlsdGVyU3RhdGlvbl0gPSB1c2VTdGF0ZSgiYWxsIik7CiAgY29uc3Qg'
        'W2ZpbHRlckRvbmUsICAgIHNldEZpbHRlckRvbmVdICAgID0gdXNlU3RhdGUoZmFsc2UpOwoKICAv'
        'LyDilIDilIAgTWFudWFsIGFkZCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIAKICBjb25zdCBbbWFudWFsVGV4dCwgICAgc2V0TWFu'
        'dWFsVGV4dF0gICAgPSB1c2VTdGF0ZSgiIik7CiAgY29uc3QgW21hbnVhbFN0YXRpb24sIHNldE1h'
        'bnVhbFN0YXRpb25dID0gdXNlU3RhdGUoInNhdWNpZXIiKTsKICAvLyDilIDilIAgTG9hZC1pbiBt'
        'b2RhbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIAKICBjb25zdCBbbW92ZU1vZGFsLCBzZXRNb3ZlTW9kYWxdID0gdXNlU3RhdGUobnVsbCk7CiAg'
        'Y29uc3QgW21vdmVRdHksICAgc2V0TW92ZVF0eV0gICA9IHVzZVN0YXRlKCIxIik7CiAgY29uc3Qg'
        'W21vdmVEZXN0LCAgc2V0TW92ZURlc3RdICA9IHVzZVN0YXRlKCJmcmlkZ2UiKTsKCiAgLy8g4pSA'
        '4pSAIEFJIGltcG9ydCBwYW5lbCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIAKICBjb25zdCBbc2hvd0FJSW1wb3J0LCAgc2V0U2hvd0FJSW1wb3J0XSAgPSB1'
        'c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgW2FpTW9kZSwgICAgICAgIHNldEFpTW9kZV0gICAgICAg'
        'ID0gdXNlU3RhdGUoInZvaWNlIik7IC8vIHZvaWNlIHwgZmlsZSB8IHRleHQKICBjb25zdCBbYWlU'
        'ZXh0LCAgICAgICAgc2V0QWlUZXh0XSAgICAgICAgPSB1c2VTdGF0ZSgiIik7CiAgY29uc3QgW2Fp'
        'RmlsZSwgICAgICAgIHNldEFpRmlsZV0gICAgICAgID0gdXNlU3RhdGUobnVsbCk7ICAgLy8ge25h'
        'bWUsIGJhc2U2NCwgbWltZVR5cGV9CiAgY29uc3QgW2FpTG9hZGluZywgICAgIHNldEFpTG9hZGlu'
        'Z10gICAgID0gdXNlU3RhdGUoZmFsc2UpOwogIGNvbnN0IFthaVByZXZpZXcsICAgICBzZXRBaVBy'
        'ZXZpZXddICAgICA9IHVzZVN0YXRlKG51bGwpOyAgIC8vIFt7c3RhdGlvbiwgdGV4dH1dIGFmdGVy'
        'IHBhcnNlCiAgY29uc3QgW2FpUHJldmlld1NlbCwgIHNldEFpUHJldmlld1NlbF0gID0gdXNlU3Rh'
        'dGUoe30pOyAgICAgLy8gaWQg4oaSIGJvb2wgZm9yIHNlbGVjdGlvbgogIGNvbnN0IGZpbGVJbnB1'
        'dFJlZiA9IHVzZVJlZihudWxsKTsKCiAgLy8g4pSA4pSAIFRhc2sgaGVscGVycyDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKICBmdW5jdGlv'
        'biBhZGRUYXNrKHRleHQsIHN0YXRpb24pIHsKICAgIGNvbnN0IHR4ID0gdGV4dC50cmltKCk7IGlm'
        'ICghdHgpIHJldHVybjsKICAgIHNldFRhc2tzKHAgPT4gWy4uLnAsIHsgaWQ6Z2VuSWQoKSwgdGV4'
        'dDp0eCwgc3RhdGlvbjpzdGF0aW9ufHwiYWxsIiwgZG9uZTpmYWxzZSwgY3JlYXRlZEF0Om5vd0lT'
        'TygpIH1dKTsKICB9CiAgZnVuY3Rpb24gdG9nZ2xlVGFzayhpZCkgeyBzZXRUYXNrcyhwID0+IHAu'
        'bWFwKHggPT4geC5pZCAhPT0gaWQgPyB4IDogey4uLngsIGRvbmU6IXguZG9uZX0pKTsgfQogIGZ1'
        'bmN0aW9uIHJlbW92ZVRhc2soaWQpIHsgc2V0VGFza3MocCA9PiBwLmZpbHRlcih4ID0+IHguaWQg'
        'IT09IGlkKSk7IH0KCiAgZnVuY3Rpb24gZG9NYW51YWxBZGQoKSB7CiAgICBpZiAoIW1hbnVhbFRl'
        'eHQudHJpbSgpKSB7IHRvYXN0KCJTY3JpdmkgbGEgcHJlcGFyYXppb25lIiwiZXJyb3IiKTsgcmV0'
        'dXJuOyB9CiAgICBhZGRUYXNrKG1hbnVhbFRleHQsIG1hbnVhbFN0YXRpb24pOwogICAgdG9hc3Qo'
        'YEFnZ2l1bnRvIGEgJHtTVEFUSU9OUy5maW5kKHM9PnMua2V5PT09bWFudWFsU3RhdGlvbik/Lmxh'
        'YmVsfWAsInN1Y2Nlc3MiKTsKICAgIHNldE1hbnVhbFRleHQoIiIpOwogIH0KCiAgZnVuY3Rpb24g'
        'ZG9Mb2FkSW4oKSB7CiAgICBpZiAoIW1vdmVNb2RhbCkgcmV0dXJuOwogICAgY29uc3QgcXR5ID0g'
        'cGFyc2VGbG9hdChtb3ZlUXR5KTsKICAgIGlmICghaXNGaW5pdGUocXR5KSB8fCBxdHkgPD0gMCkg'
        'eyB0b2FzdCgiSW5zZXJpc2NpIHF1YW50aXTDoCB2YWxpZGEiLCJlcnJvciIpOyByZXR1cm47IH0K'
        'ICAgIHN0b2NrQWRkKHsgbmFtZTptb3ZlTW9kYWwudGV4dCwgcXVhbnRpdHk6cXR5LCB1bml0OiJw'
        'eiIsIGxvY2F0aW9uOm1vdmVEZXN0LCBsb3Q6YE1FUC0ke3RvZGF5RGF0ZSgpfWAgfSk7CiAgICBz'
        'ZXRUYXNrcyhwID0+IHAubWFwKHggPT4geC5pZCAhPT0gbW92ZU1vZGFsLmlkID8geCA6IHsuLi54'
        'LCBkb25lOnRydWV9KSk7CiAgICBzZXRNb3ZlTW9kYWwobnVsbCk7CiAgICB0b2FzdChgJHttb3Zl'
        'TW9kYWwudGV4dH0g4oaSICR7bW92ZURlc3R9YCwic3VjY2VzcyIpOwogIH0KCiAgLy8g4pSA4pSA'
        'IEZpbGUg4oaSIGJhc2U2NCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIAKICBmdW5jdGlvbiBoYW5kbGVGaWxlKGUpIHsKICAgIGNvbnN0IGZpbGUg'
        'PSBlLnRhcmdldC5maWxlcz8uWzBdOyBpZiAoIWZpbGUpIHJldHVybjsKICAgIGNvbnN0IGFsbG93'
        'ZWQgPSBbImltYWdlL2pwZWciLCJpbWFnZS9wbmciLCJpbWFnZS93ZWJwIiwiaW1hZ2UvZ2lmIiwi'
        'YXBwbGljYXRpb24vcGRmIiwidGV4dC9wbGFpbiIsInRleHQvY3N2Il07CiAgICBpZiAoIWFsbG93'
        'ZWQuaW5jbHVkZXMoZmlsZS50eXBlKSkgeyB0b2FzdCgiRm9ybWF0byBub24gc3VwcG9ydGF0by4g'
        'VXNhOiBmb3RvLCBQREYsIHRlc3RvIiwiZXJyb3IiKTsgcmV0dXJuOyB9CiAgICBjb25zdCByZWFk'
        'ZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgcmVhZGVyLm9ubG9hZCA9IGV2ID0+IHsKICAgICAg'
        'Y29uc3QgYjY0ID0gZXYudGFyZ2V0LnJlc3VsdC5zcGxpdCgiLCIpWzFdOwogICAgICBzZXRBaUZp'
        'bGUoeyBuYW1lOmZpbGUubmFtZSwgYmFzZTY0OmI2NCwgbWltZVR5cGU6ZmlsZS50eXBlIH0pOwog'
        'ICAgICB0b2FzdChgRmlsZSBjYXJpY2F0bzogJHtmaWxlLm5hbWV9YCwic3VjY2VzcyIpOwogICAg'
        'fTsKICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGZpbGUpOwogIH0KCiAgLy8g4pSA4pSAIEFJIHBh'
        'cnNlIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgAogIGFzeW5jIGZ1bmN0aW9uIHJ1bkFJKCkgewogICAgY29uc3QgaGFz'
        'SW5wdXQgPSAoYWlNb2RlPT09ImZpbGUiICYmIGFpRmlsZSkgfHwgKGFpTW9kZSE9PSJmaWxlIiAm'
        'JiBhaVRleHQudHJpbSgpKTsKICAgIGlmICghaGFzSW5wdXQpIHsgdG9hc3QoIkluc2VyaXNjaSBj'
        'b250ZW51dG8gZGEgYW5hbGl6emFyZSIsImVycm9yIik7IHJldHVybjsgfQoKICAgIHNldEFpTG9h'
        'ZGluZyh0cnVlKTsKICAgIHNldEFpUHJldmlldyhudWxsKTsKCiAgICBjb25zdCBicmlnYXRhQ29u'
        'dGV4dCA9IChraXRjaGVuPy5tZW1iZXJzfHxbXSkKICAgICAgLm1hcChtID0+IGAke20ubmFtZX0g'
        'KCR7bS5yb2xlfSlgKS5qb2luKCIsICIpOwoKICAgIGNvbnN0IHN5c3RlbVByb21wdCA9IGBTZWkg'
        'dW4gYXNzaXN0ZW50ZSBwZXIgY3VjaW5lIHByb2Zlc3Npb25hbGkgTWljaGVsaW4uIElsIHR1byBj'
        'b21waXRvIMOoIGFuYWxpenphcmUgZG9jdW1lbnRpIChyaWNldHRlLCBwaWFuaSBkaSBwcm9kdXpp'
        'b25lLCBmb2dsaWV0dGkgaW50ZXJuaSwgbWVudSwgYXBwdW50aSBzY3JpdHRpIGEgbWFubykgZWQg'
        'ZXN0cmFycmUgbGUgcHJlcGFyYXppb25pIE1FUCAobWlzZSBlbiBwbGFjZSkgcGVyIG9nbmkgcGFy'
        'dGl0YS4KCkJyaWdhdGEgYXR0dWFsZTogJHticmlnYXRhQ29udGV4dCB8fCAibm9uIHNwZWNpZmlj'
        'YXRhIn0uClBhcnRpdGUgZGlzcG9uaWJpbGk6ICR7U1RBVElPTlMuZmlsdGVyKHM9PnMua2V5IT09'
        'ImFsbCIpLm1hcChzPT5zLmxhYmVsKS5qb2luKCIsICIpfS4KClJpc3BvbmRpIFNPTE8gY29uIHVu'
        'IEpTT04gYXJyYXksIHNlbnphIG1hcmtkb3duLCBzZW56YSB0ZXN0byBleHRyYS4gRm9ybWF0bzoK'
        'WwogIHsic3RhdGlvbiI6ICJzYXVjaWVyIiwgInRhc2tzIjogWyJGb25kbyBicnVubyByaWRvdHRv'
        'IiwgIlNhbHNhIFDDqXJpZ3VldXgiXX0sCiAgeyJzdGF0aW9uIjogInBvaXNzb25uaWVyIiwgInRh'
        'c2tzIjogWyJTZmlsZXR0YXJlIHJvbWJvIiwgIlB1bGlyZSB2b25nb2xlIl19LAogIC4uLgpdCgpV'
        'c2EgaSB2YWxvcmkgZGkgc3RhdGlvbjogc2F1Y2llciwgcG9pc3Nvbm5pZXIsIHJvdGlzc2V1ciwg'
        'Z2FyZGUsIHBhdGlzc2llciwgY29tbXVuYXJkLgpTZSBub24gcmllc2NpIGFkIGFzc2VnbmFyZSB1'
        'bmEgc3RhemlvbmUsIHVzYSAiYWxsIi4KU2Ugbm9uIHRyb3ZpIHByZXBhcmF6aW9uaSwgcmlzcG9u'
        'ZGkgW10uCk5vbiBpbnZlbnRhcmUgbnVsbGEgY2hlIG5vbiBzaWEgbmVsIGRvY3VtZW50by5gOwoK'
        'ICAgIHRyeSB7CiAgICAgIGxldCB1c2VyQ29udGVudDsKCiAgICAgIGlmIChhaU1vZGUgPT09ICJm'
        'aWxlIiAmJiBhaUZpbGUpIHsKICAgICAgICBpZiAoYWlGaWxlLm1pbWVUeXBlLnN0YXJ0c1dpdGgo'
        'ImltYWdlLyIpKSB7CiAgICAgICAgICB1c2VyQ29udGVudCA9IFsKICAgICAgICAgICAgeyB0eXBl'
        'OiJpbWFnZSIsIHNvdXJjZTp7IHR5cGU6ImJhc2U2NCIsIG1lZGlhX3R5cGU6YWlGaWxlLm1pbWVU'
        'eXBlLCBkYXRhOmFpRmlsZS5iYXNlNjQgfSB9LAogICAgICAgICAgICB7IHR5cGU6InRleHQiLCAg'
        'dGV4dDoiQW5hbGl6emEgcXVlc3RhIGltbWFnaW5lIGVkIGVzdHJhaSBsZSBwcmVwYXJhemlvbmkg'
        'TUVQIHBlciBwYXJ0aXRhLiIgfSwKICAgICAgICAgIF07CiAgICAgICAgfSBlbHNlIGlmIChhaUZp'
        'bGUubWltZVR5cGUgPT09ICJhcHBsaWNhdGlvbi9wZGYiKSB7CiAgICAgICAgICB1c2VyQ29udGVu'
        'dCA9IFsKICAgICAgICAgICAgeyB0eXBlOiJkb2N1bWVudCIsIHNvdXJjZTp7IHR5cGU6ImJhc2U2'
        'NCIsIG1lZGlhX3R5cGU6ImFwcGxpY2F0aW9uL3BkZiIsIGRhdGE6YWlGaWxlLmJhc2U2NCB9IH0s'
        'CiAgICAgICAgICAgIHsgdHlwZToidGV4dCIsIHRleHQ6IkFuYWxpenphIHF1ZXN0byBkb2N1bWVu'
        'dG8gZWQgZXN0cmFpIGxlIHByZXBhcmF6aW9uaSBNRVAgcGVyIHBhcnRpdGEuIiB9LAogICAgICAg'
        'ICAgXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gcGxhaW4gdGV4dCBmaWxlCiAgICAg'
        'ICAgICBjb25zdCBkZWNvZGVkID0gYXRvYihhaUZpbGUuYmFzZTY0KTsKICAgICAgICAgIHVzZXJD'
        'b250ZW50ID0gYEFuYWxpenphIHF1ZXN0byBkb2N1bWVudG8gZWQgZXN0cmFpIGxlIHByZXBhcmF6'
        'aW9uaSBNRVAgcGVyIHBhcnRpdGE6XG5cbiR7ZGVjb2RlZH1gOwogICAgICAgIH0KICAgICAgfSBl'
        'bHNlIHsKICAgICAgICB1c2VyQ29udGVudCA9IGBBbmFsaXp6YSBxdWVzdG8gdGVzdG8gZWQgZXN0'
        'cmFpIGxlIHByZXBhcmF6aW9uaSBNRVAgcGVyIHBhcnRpdGE6XG5cbiR7YWlUZXh0LnRyaW0oKX1g'
        'OwogICAgICB9CgogICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCgiaHR0cHM6Ly9hcGkuYW50'
        'aHJvcGljLmNvbS92MS9tZXNzYWdlcyIsIHsKICAgICAgICBtZXRob2Q6IlBPU1QiLAogICAgICAg'
        'IGhlYWRlcnM6eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi9qc29uIn0sCiAgICAgICAgYm9k'
        'eTogSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgbW9kZWw6ImNsYXVkZS1zb25uZXQtNC0yMDI1'
        'MDUxNCIsCiAgICAgICAgICBtYXhfdG9rZW5zOjEwMDAsCiAgICAgICAgICBzeXN0ZW06IHN5c3Rl'
        'bVByb21wdCwKICAgICAgICAgIG1lc3NhZ2VzOlt7IHJvbGU6InVzZXIiLCBjb250ZW50OnVzZXJD'
        'b250ZW50IH1dLAogICAgICAgIH0pLAogICAgICB9KTsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0'
        'IHJlcy5qc29uKCk7CiAgICAgIGNvbnN0IHJhdyAgPSAoZGF0YS5jb250ZW50fHxbXSkubWFwKGI9'
        'PmIudGV4dHx8IiIpLmpvaW4oIiIpLnRyaW0oKTsKCiAgICAgIGxldCBwYXJzZWQ7CiAgICAgIHRy'
        'eSB7CiAgICAgICAgY29uc3QgY2xlYW4gPSByYXcucmVwbGFjZSgvYGBganNvbnxgYGAvZywiIiku'
        'dHJpbSgpOwogICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UoY2xlYW4pOwogICAgICB9IGNhdGNo'
        'IHsKICAgICAgICB0b2FzdCgiUmlzcG9zdGEgQUkgbm9uIHZhbGlkYS4gUmlwcm92YS4iLCJlcnJv'
        'ciIpOwogICAgICAgIHNldEFpTG9hZGluZyhmYWxzZSk7IHJldHVybjsKICAgICAgfQoKICAgICAg'
        'aWYgKCFBcnJheS5pc0FycmF5KHBhcnNlZCkgfHwgcGFyc2VkLmxlbmd0aCA9PT0gMCkgewogICAg'
        'ICAgIHRvYXN0KCJOZXNzdW5hIHByZXBhcmF6aW9uZSB0cm92YXRhIG5lbCBkb2N1bWVudG8iLCJl'
        'cnJvciIpOwogICAgICAgIHNldEFpTG9hZGluZyhmYWxzZSk7IHJldHVybjsKICAgICAgfQoKICAg'
        'ICAgLy8gRmxhdHRlbiB0byBwcmV2aWV3IGl0ZW1zIHdpdGggc2VsZWN0aW9uIHN0YXRlCiAgICAg'
        'IGNvbnN0IGl0ZW1zID0gW107CiAgICAgIHBhcnNlZC5mb3JFYWNoKGdyb3VwID0+IHsKICAgICAg'
        'ICBjb25zdCBzdGF0aW9uS2V5ID0gU1RBVElPTlMuZmluZChzPT5zLmtleT09PWdyb3VwLnN0YXRp'
        'b258fHMubGFiZWwudG9Mb3dlckNhc2UoKT09PWdyb3VwLnN0YXRpb24/LnRvTG93ZXJDYXNlKCkp'
        'Py5rZXkgfHwgImFsbCI7CiAgICAgICAgKGdyb3VwLnRhc2tzfHxbXSkuZm9yRWFjaCh0YXNrVGV4'
        'dCA9PiB7CiAgICAgICAgICBpZiAodHlwZW9mIHRhc2tUZXh0PT09InN0cmluZyIgJiYgdGFza1Rl'
        'eHQudHJpbSgpKSB7CiAgICAgICAgICAgIGl0ZW1zLnB1c2goeyBpZDpnZW5JZCgpLCBzdGF0aW9u'
        'OnN0YXRpb25LZXksIHRleHQ6dGFza1RleHQudHJpbSgpIH0pOwogICAgICAgICAgfQogICAgICAg'
        'IH0pOwogICAgICB9KTsKCiAgICAgIGlmIChpdGVtcy5sZW5ndGg9PT0wKSB7IHRvYXN0KCJOZXNz'
        'dW5hIHByZXBhcmF6aW9uZSBlc3RyYXR0YSIsImVycm9yIik7IHNldEFpTG9hZGluZyhmYWxzZSk7'
        'IHJldHVybjsgfQoKICAgICAgc2V0QWlQcmV2aWV3KGl0ZW1zKTsKICAgICAgLy8gc2VsZWN0IGFs'
        'bCBieSBkZWZhdWx0CiAgICAgIGNvbnN0IHNlbCA9IHt9OwogICAgICBpdGVtcy5mb3JFYWNoKHgg'
        'PT4geyBzZWxbeC5pZF09dHJ1ZTsgfSk7CiAgICAgIHNldEFpUHJldmlld1NlbChzZWwpOwogICAg'
        'ICB0b2FzdChgJHtpdGVtcy5sZW5ndGh9IHByZXBhcmF6aW9uaSB0cm92YXRlIOKAlCBjb25mZXJt'
        'YSBwcmltYSBkaSBpbnNlcmlyZWAsInN1Y2Nlc3MiKTsKCiAgICB9IGNhdGNoKGVycikgewogICAg'
        'ICB0b2FzdCgiRXJyb3JlIEFQSTogIiArIChlcnIubWVzc2FnZXx8InJldGUiKSwgImVycm9yIik7'
        'CiAgICB9CiAgICBzZXRBaUxvYWRpbmcoZmFsc2UpOwogIH0KCiAgZnVuY3Rpb24gY29uZmlybUlu'
        'c2VydCgpIHsKICAgIGNvbnN0IHRvSW5zZXJ0ID0gKGFpUHJldmlld3x8W10pLmZpbHRlcih4PT5h'
        'aVByZXZpZXdTZWxbeC5pZF0pOwogICAgaWYgKCF0b0luc2VydC5sZW5ndGgpIHsgdG9hc3QoIk5l'
        'c3N1bmEgc2VsZXppb25lIiwiZXJyb3IiKTsgcmV0dXJuOyB9CiAgICB0b0luc2VydC5mb3JFYWNo'
        'KHggPT4gYWRkVGFzayh4LnRleHQsIHguc3RhdGlvbikpOwogICAgdG9hc3QoYCR7dG9JbnNlcnQu'
        'bGVuZ3RofSBwcmVwYXJhemlvbmkgaW5zZXJpdGUgaW4gbGlzdGFgLCJzdWNjZXNzIik7CiAgICBz'
        'ZXRBaVByZXZpZXcobnVsbCk7CiAgICBzZXRBaVByZXZpZXdTZWwoe30pOwogICAgc2V0QWlUZXh0'
        'KCIiKTsKICAgIHNldEFpRmlsZShudWxsKTsKICAgIHNldFNob3dBSUltcG9ydChmYWxzZSk7CiAg'
        'fQoKICAvLyDilIDilIAgRmlsdGVyZWQgdGFzayBsaXN0IOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgAogIGNvbnN0IHZpc2libGVUYXNrcyA9IHRhc2tzLmZpbHRlcih4ID0+'
        'IHsKICAgIGlmICghZmlsdGVyRG9uZSAmJiB4LmRvbmUpIHJldHVybiBmYWxzZTsKICAgIGlmIChm'
        'aWx0ZXJTdGF0aW9uICE9PSAiYWxsIiAmJiB4LnN0YXRpb24gIT09IGZpbHRlclN0YXRpb24pIHJl'
        'dHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH0pOwogIGNvbnN0IHRvZG8gPSB2aXNpYmxl'
        'VGFza3MuZmlsdGVyKHg9PiF4LmRvbmUpOwogIGNvbnN0IGRvbmUgPSB2aXNpYmxlVGFza3MuZmls'
        'dGVyKHg9PnguZG9uZSk7CgogIC8vIOKUgOKUgCBTdGF0aW9uIGdyb3VwIGNvdW50cyBmb3IgYmFk'
        'Z2Ug4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSACiAgY29uc3QgY291bnRCeVN0YXRpb24gPSB7fTsKICBTVEFUSU9OUy5mb3JFYWNoKHMg'
        'PT4geyBjb3VudEJ5U3RhdGlvbltzLmtleV0gPSB0YXNrcy5maWx0ZXIoeD0+IXguZG9uZSYmKHMu'
        'a2V5PT09ImFsbCJ8fHguc3RhdGlvbj09PXMua2V5KSkubGVuZ3RoOyB9KTsKCiAgcmV0dXJuICgK'
        'ICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixmbGV4RGlyZWN0aW9uOiJjb2x1bW4iLGdh'
        'cDoyMH19PgoKICAgICAgey8qIOKUgOKUgCBBSSBJTVBPUlQgUEFORUwg4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovfQogICAgICB7c2hvd0FJSW1wb3J0ICYmICgKICAgICAg'
        'ICA8Q2FyZCB0PXt0fSBnbG93IHN0eWxlPXt7cGFkZGluZzowLG92ZXJmbG93OiJ2aXNpYmxlIn19'
        'PgogICAgICAgICAgey8qIFBhbmVsIGhlYWRlciAqL30KICAgICAgICAgIDxkaXYgc3R5bGU9e3sK'
        'ICAgICAgICAgICAgcGFkZGluZzoiMTZweCAyMnB4IiwKICAgICAgICAgICAgYmFja2dyb3VuZDpg'
        'bGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHt0LnNlY29uZGFyeX0sICR7dC5zZWNvbmRhcnlEZWVw'
        'fSlgLAogICAgICAgICAgICBkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJjZW50ZXIiLGp1c3Rp'
        'ZnlDb250ZW50OiJzcGFjZS1iZXR3ZWVuIiwKICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiIxNHB4'
        'IDE0cHggMCAwIiwKICAgICAgICAgIH19PgogICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxh'
        'eToiZmxleCIsYWxpZ25JdGVtczoiY2VudGVyIixnYXA6MTJ9fT4KICAgICAgICAgICAgICA8c3Bh'
        'biBzdHlsZT17e2ZvbnRTaXplOjIwfX0+8J+kljwvc3Bhbj4KICAgICAgICAgICAgICA8ZGl2Pgog'
        'ICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2NvbG9yOiIjZmZmIixmb250RmFtaWx5OiJ2YXIo'
        'LS1zZXJpZikiLGZvbnRTaXplOjE1LGZvbnRXZWlnaHQ6NTAwfX0+SW1wb3J0YSBwcmVwYXJhemlv'
        'bmkgY29uIEFJPC9kaXY+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibW9ubyIgc3R5'
        'bGU9e3tmb250U2l6ZTo3LGNvbG9yOiJyZ2JhKDI1NSwyNTUsMjU1LDAuNDUpIixsZXR0ZXJTcGFj'
        'aW5nOiIwLjE2ZW0iLG1hcmdpblRvcDoxfX0+CiAgICAgICAgICAgICAgICAgIEZPVE8gwrcgRklM'
        'RSDCtyBURVNUTyDCtyBWT0NFIOKGkiBMSVNUQSBNRVAKICAgICAgICAgICAgICAgIDwvZGl2Pgog'
        'ICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGJ1dHRv'
        'biBvbkNsaWNrPXsoKT0+e3NldFNob3dBSUltcG9ydChmYWxzZSk7c2V0QWlQcmV2aWV3KG51bGwp'
        'O319IHN0eWxlPXt7YmFja2dyb3VuZDoibm9uZSIsYm9yZGVyOiJub25lIixjb2xvcjoicmdiYSgy'
        'NTUsMjU1LDI1NSwwLjUpIixmb250U2l6ZToyMCxjdXJzb3I6InBvaW50ZXIiLGxpbmVIZWlnaHQ6'
        'MX19PuKclTwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CgogICAgICAgICAgPGRpdiBzdHlsZT17'
        'e3BhZGRpbmc6MjIsZGlzcGxheToiZmxleCIsZmxleERpcmVjdGlvbjoiY29sdW1uIixnYXA6MTh9'
        'fT4KICAgICAgICAgICAgey8qIE1vZGUgc2VsZWN0b3IgKi99CiAgICAgICAgICAgIDxkaXYgc3R5'
        'bGU9e3tkaXNwbGF5OiJmbGV4IixnYXA6OH19PgogICAgICAgICAgICAgIHtbCiAgICAgICAgICAg'
        'ICAgICB7a2V5OiJ2b2ljZSIsIGxhYmVsOiLwn46kIFZvY2UgLyBUZXN0byIsIGRlc2M6IkRpdHRh'
        'IG8gc2NyaXZpIn0sCiAgICAgICAgICAgICAgICB7a2V5OiJmaWxlIiwgIGxhYmVsOiLwn5OEIEZv'
        'dG8gLyBGaWxlIiwgIGRlc2M6IkltbWFnaW5lLCBQREYsIC50eHQifSwKICAgICAgICAgICAgICBd'
        'Lm1hcChtPT4oCiAgICAgICAgICAgICAgICA8YnV0dG9uIGtleT17bS5rZXl9IG9uQ2xpY2s9eygp'
        'PT57c2V0QWlNb2RlKG0ua2V5KTtzZXRBaVByZXZpZXcobnVsbCk7fX0gc3R5bGU9e3sKICAgICAg'
        'ICAgICAgICAgICAgZmxleDoxLHBhZGRpbmc6IjEycHggMTZweCIsYm9yZGVyUmFkaXVzOjEwLGJv'
        'cmRlcjoibm9uZSIsY3Vyc29yOiJwb2ludGVyIiwKICAgICAgICAgICAgICAgICAgYmFja2dyb3Vu'
        'ZDphaU1vZGU9PT1tLmtleT9gbGluZWFyLWdyYWRpZW50KDEzNWRlZywke3QuZ29sZH0sJHt0Lmdv'
        'bGRCcmlnaHR9KWA6dC5iZ0FsdCwKICAgICAgICAgICAgICAgICAgY29sb3I6YWlNb2RlPT09bS5r'
        'ZXk/IiNmZmYiOnQuaW5rTXV0ZWQsCiAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6InZhcigt'
        'LW1vbm8pIixmb250U2l6ZToxMCxsZXR0ZXJTcGFjaW5nOiIwLjA2ZW0iLAogICAgICAgICAgICAg'
        'ICAgICBib3hTaGFkb3c6YWlNb2RlPT09bS5rZXk/YDAgNHB4IDE2cHggJHt0LmdvbGRGYWludH1g'
        'OmAwIDFweCA0cHggJHt0LnNoYWRvd31gLAogICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiJh'
        'bGwgMC4yNXMiLAogICAgICAgICAgICAgICAgICBib3JkZXI6YWlNb2RlPT09bS5rZXk/Im5vbmUi'
        'OmAxcHggc29saWQgJHt0LmRpdn1gLAogICAgICAgICAgICAgICAgfX0+CiAgICAgICAgICAgICAg'
        'ICAgIDxkaXYgc3R5bGU9e3tmb250U2l6ZToxNCxtYXJnaW5Cb3R0b206NH19PnttLmxhYmVsfTwv'
        'ZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7Zm9udFNpemU6OCxvcGFjaXR5OjAu'
        'N319PnttLmRlc2N9PC9kaXY+CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAg'
        'ICApKX0KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICB7LyogVm9pY2UgLyB0ZXh0IG1v'
        'ZGUgKi99CiAgICAgICAgICAgIHthaU1vZGU9PT0idm9pY2UiICYmICFhaVByZXZpZXcgJiYgKAog'
        'ICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixmbGV4RGlyZWN0aW9uOiJj'
        'b2x1bW4iLGdhcDoxMH19PgogICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2ZvbnRTaXplOjEx'
        'LGZvbnRGYW1pbHk6InZhcigtLXNlcmlmKSIsZm9udFN0eWxlOiJpdGFsaWMiLGNvbG9yOnQuaW5r'
        'TXV0ZWR9fT4KICAgICAgICAgICAgICAgICAgRGl0dGEgbGUgcHJlcGFyYXppb25pLCBvcHB1cmUg'
        'aW5jb2xsYSBpbCB0ZXN0byBkZWwgZm9nbGlvIGN1Y2luYS4gTCdBSSBsZSBhc3NlZ25lcsOgIGFs'
        'bGUgcGFydGl0ZS4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBz'
        'dHlsZT17e2Rpc3BsYXk6ImZsZXgiLGdhcDo4LGFsaWduSXRlbXM6ImZsZXgtc3RhcnQifX0+CiAg'
        'ICAgICAgICAgICAgICAgIDx0ZXh0YXJlYQogICAgICAgICAgICAgICAgICAgIHZhbHVlPXthaVRl'
        'eHR9CiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2U9PnNldEFpVGV4dChlLnRhcmdldC52'
        'YWx1ZSl9CiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9eyJFczogU2F1Y2llciDigJQg'
        'Zm9uZG8gYnJ1bm8gcmlkb3R0bywgc2Fsc2EgUMOpcmlndWV1eC5cblBvaXNzb25uaWVyIOKAlCBz'
        'ZmlsZXR0YXJlIDggcm9tYmksIGFwcmlyZSAya2cgdm9uZ29sZS5cblDDonRpc3NpZXIg4oCUIGNy'
        'ZW1hIHBhc3RpY2NlcmEgeDQwLCBtaWduYXJkaXNlcy4ifQogICAgICAgICAgICAgICAgICAgIHN0'
        'eWxlPXt7CiAgICAgICAgICAgICAgICAgICAgICBmbGV4OjEsbWluSGVpZ2h0OjEyMCxwYWRkaW5n'
        'OiIxMnB4IDE0cHgiLGJvcmRlclJhZGl1czoxMCwKICAgICAgICAgICAgICAgICAgICAgIGZvbnRT'
        'aXplOjEyLGZvbnRGYW1pbHk6InZhcigtLXNlcmlmKSIsZm9udFN0eWxlOiJpdGFsaWMiLAogICAg'
        'ICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDp0LmJnQ2FyZEFsdCxjb2xvcjp0Lmluayxib3Jk'
        'ZXI6YDFweCBzb2xpZCAke3QuZGl2fWAsCiAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiJu'
        'b25lIixyZXNpemU6InZlcnRpY2FsIixsaW5lSGVpZ2h0OjEuNiwKICAgICAgICAgICAgICAgICAg'
        'ICB9fQogICAgICAgICAgICAgICAgICAgIG9uRm9jdXM9e2U9PmUudGFyZ2V0LnN0eWxlLmJvcmRl'
        'ckNvbG9yPXQuZ29sZH0KICAgICAgICAgICAgICAgICAgICBvbkJsdXI9e2U9PmUudGFyZ2V0LnN0'
        'eWxlLmJvcmRlckNvbG9yPXQuZGl2fQogICAgICAgICAgICAgICAgICAvPgogICAgICAgICAgICAg'
        'ICAgICA8Vm9pY2VCdG4gdD17dH0gb25SZXN1bHQ9e3I9PnNldEFpVGV4dChwPT5wPyhwKyIgIity'
        'KTpyKX0vPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAg'
        'ICAgICAgICl9CgogICAgICAgICAgICB7LyogRmlsZSBtb2RlICovfQogICAgICAgICAgICB7YWlN'
        'b2RlPT09ImZpbGUiICYmICFhaVByZXZpZXcgJiYgKAogICAgICAgICAgICAgIDxkaXYgc3R5bGU9'
        'e3tkaXNwbGF5OiJmbGV4IixmbGV4RGlyZWN0aW9uOiJjb2x1bW4iLGdhcDoxMn19PgogICAgICAg'
        'ICAgICAgICAgPGRpdiBzdHlsZT17e2ZvbnRTaXplOjExLGZvbnRGYW1pbHk6InZhcigtLXNlcmlm'
        'KSIsZm9udFN0eWxlOiJpdGFsaWMiLGNvbG9yOnQuaW5rTXV0ZWR9fT4KICAgICAgICAgICAgICAg'
        'ICAgQ2FyaWNhIGxhIGZvdG8gZGVsIGZvZ2xpbyBNRVAsIHVuIFBERiBzdGFtcGF0bywgbyB1biBm'
        'aWxlIGRpIHRlc3RvLiBGdW56aW9uYSBhbmNoZSBjb24gc2NyaXR0dXJhIGEgbWFuby4KICAgICAg'
        'ICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGlucHV0IHJlZj17ZmlsZUlucHV0UmVm'
        'fSB0eXBlPSJmaWxlIiBhY2NlcHQ9ImltYWdlLyosLnBkZix0ZXh0L3BsYWluIiBzdHlsZT17e2Rp'
        'c3BsYXk6Im5vbmUifX0gb25DaGFuZ2U9e2hhbmRsZUZpbGV9Lz4KICAgICAgICAgICAgICAgIDxk'
        'aXYKICAgICAgICAgICAgICAgICAgb25DbGljaz17KCk9PmZpbGVJbnB1dFJlZi5jdXJyZW50Py5j'
        'bGljaygpfQogICAgICAgICAgICAgICAgICBzdHlsZT17ewogICAgICAgICAgICAgICAgICAgIGJv'
        'cmRlcjpgMnB4IGRhc2hlZCAke2FpRmlsZT90LmdvbGQ6dC5kaXZ9YCxib3JkZXJSYWRpdXM6MTIs'
        'CiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzoiMjhweCAyMnB4Iix0ZXh0QWxpZ246ImNlbnRl'
        'ciIsY3Vyc29yOiJwb2ludGVyIiwKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOmFpRmls'
        'ZT90LmdvbGRGYWludDp0LmJnQWx0LHRyYW5zaXRpb246ImFsbCAwLjI1cyIsCiAgICAgICAgICAg'
        'ICAgICAgIH19CiAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e2U9PntlLnByZXZlbnREZWZh'
        'dWx0KCk7ZS5jdXJyZW50VGFyZ2V0LnN0eWxlLmJvcmRlckNvbG9yPXQuZ29sZDt9fQogICAgICAg'
        'ICAgICAgICAgICBvbkRyYWdMZWF2ZT17ZT0+e2UuY3VycmVudFRhcmdldC5zdHlsZS5ib3JkZXJD'
        'b2xvcj1haUZpbGU/dC5nb2xkOnQuZGl2O319CiAgICAgICAgICAgICAgICAgIG9uRHJvcD17ZT0+'
        'ewogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICAg'
        'ICAgICBjb25zdCBmPWUuZGF0YVRyYW5zZmVyLmZpbGVzPy5bMF07CiAgICAgICAgICAgICAgICAg'
        'ICAgaWYoZil7IGNvbnN0IGZha2VFdj17dGFyZ2V0OntmaWxlczpbZl19fTsgaGFuZGxlRmlsZShm'
        'YWtlRXYpOyB9CiAgICAgICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICA+CiAgICAgICAg'
        'ICAgICAgICAgIHthaUZpbGUgPyAoCiAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAg'
        'ICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tmb250U2l6ZToyOCxtYXJnaW5Cb3R0b206Nn19PuKc'
        'kzwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2ZvbnRGYW1pbHk6InZh'
        'cigtLXNlcmlmKSIsZm9udFNpemU6MTQsY29sb3I6dC5nb2xkLGZvbnRTdHlsZToiaXRhbGljIn19'
        'PnthaUZpbGUubmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1l'
        'PSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjksY29sb3I6dC5pbmtGYWludCxtYXJnaW5Ub3A6NH19'
        'PkNsaWNjYSBwZXIgc29zdGl0dWlyZTwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2Pgog'
        'ICAgICAgICAgICAgICAgICApIDogKAogICAgICAgICAgICAgICAgICAgIDxkaXY+CiAgICAgICAg'
        'ICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7Zm9udFNpemU6MzIsbWFyZ2luQm90dG9tOjh9fT7w'
        'n5O4PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7Zm9udEZhbWlseToi'
        'dmFyKC0tc2VyaWYpIixmb250U2l6ZToxMyxmb250U3R5bGU6Iml0YWxpYyIsY29sb3I6dC5pbmtN'
        'dXRlZH19PlRyYXNjaW5hIHF1aSBvIGNsaWNjYSBwZXIgc2NlZ2xpZXJlPC9kaXY+CiAgICAgICAg'
        'ICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibW9ubyIgc3R5bGU9e3tmb250U2l6ZTo5LGNv'
        'bG9yOnQuaW5rRmFpbnQsbWFyZ2luVG9wOjR9fT5KUEcgwrcgUE5HIMK3IFdFQlAgwrcgUERGIMK3'
        'IFRYVDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAp'
        'fQogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAg'
        'ICl9CgogICAgICAgICAgICB7LyogUHJldmlldyBleHRyYWN0ZWQgdGFza3MgKi99CiAgICAgICAg'
        'ICAgIHthaVByZXZpZXcgJiYgKAogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJm'
        'bGV4IixmbGV4RGlyZWN0aW9uOiJjb2x1bW4iLGdhcDoxMn19PgogICAgICAgICAgICAgICAgPGRp'
        'diBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIsanVzdGlmeUNvbnRl'
        'bnQ6InNwYWNlLWJldHdlZW4ifX0+CiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tmb250'
        'RmFtaWx5OiJ2YXIoLS1zZXJpZikiLGZvbnRTaXplOjEzLGZvbnRTdHlsZToiaXRhbGljIixjb2xv'
        'cjp0Lmlua319PgogICAgICAgICAgICAgICAgICAgIHthaVByZXZpZXcubGVuZ3RofSBwcmVwYXJh'
        'emlvbmkgZXN0cmF0dGUg4oCUIHNlbGV6aW9uYSBxdWVsbGUgZGEgaW5zZXJpcmU6CiAgICAgICAg'
        'ICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToi'
        'ZmxleCIsZ2FwOjh9fT4KICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT57'
        'Y29uc3Qgcz17fTthaVByZXZpZXcuZm9yRWFjaCh4PT57c1t4LmlkXT10cnVlO30pO3NldEFpUHJl'
        'dmlld1NlbChzKTt9fSBzdHlsZT17ey4uLmJ0blNtYWxsKHQpLGZvbnRTaXplOjh9fT5UdXR0bzwv'
        'YnV0dG9uPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PnNldEFpUHJl'
        'dmlld1NlbCh7fSl9IHN0eWxlPXt7Li4uYnRuU21hbGwodCksZm9udFNpemU6OH19Pk5pZW50ZTwv'
        'YnV0dG9uPgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgoK'
        'ICAgICAgICAgICAgICAgIHsvKiBHcm91cCBieSBzdGF0aW9uICovfQogICAgICAgICAgICAgICAg'
        'e1NUQVRJT05TLmZpbHRlcihzPT5zLmtleSE9PSJhbGwiKS5tYXAoc3RhdGlvbj0+ewogICAgICAg'
        'ICAgICAgICAgICBjb25zdCBzdFRhc2tzID0gYWlQcmV2aWV3LmZpbHRlcih4PT54LnN0YXRpb249'
        'PT1zdGF0aW9uLmtleSk7CiAgICAgICAgICAgICAgICAgIGlmICghc3RUYXNrcy5sZW5ndGgpIHJl'
        'dHVybiBudWxsOwogICAgICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgICAg'
        'IDxkaXYga2V5PXtzdGF0aW9uLmtleX0gc3R5bGU9e3tib3JkZXJSYWRpdXM6MTAsb3ZlcmZsb3c6'
        'ImhpZGRlbiIsYm9yZGVyOmAxcHggc29saWQgJHt0LmRpdn1gfX0+CiAgICAgICAgICAgICAgICAg'
        'ICAgICA8ZGl2IHN0eWxlPXt7CiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IjlweCAx'
        'NHB4IixkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJjZW50ZXIiLGdhcDoxMCwKICAgICAgICAg'
        'ICAgICAgICAgICAgICAgYmFja2dyb3VuZDpgbGluZWFyLWdyYWRpZW50KDEzNWRlZywgJHtzdGF0'
        'aW9uLmNvbG9yfTIyLCAke3N0YXRpb24uY29sb3J9MTEpYCwKICAgICAgICAgICAgICAgICAgICAg'
        'ICAgYm9yZGVyQm90dG9tOmAxcHggc29saWQgJHt0LmRpdn1gLAogICAgICAgICAgICAgICAgICAg'
        'ICAgfX0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7Zm9udFNpemU6MTR9'
        'fT57c3RhdGlvbi5pY29ufTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xh'
        'c3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjksbGV0dGVyU3BhY2luZzoiMC4xZW0iLGNv'
        'bG9yOnN0YXRpb24uY29sb3IsZm9udFdlaWdodDo2MDB9fT57c3RhdGlvbi5sYWJlbC50b1VwcGVy'
        'Q2FzZSgpfTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3ttYXJn'
        'aW5MZWZ0OiJhdXRvIixmb250U2l6ZTo5LGZvbnRGYW1pbHk6InZhcigtLW1vbm8pIixjb2xvcjp0'
        'Lmlua0ZhaW50fX0+e3N0VGFza3MuZmlsdGVyKHg9PmFpUHJldmlld1NlbFt4LmlkXSkubGVuZ3Ro'
        'fS97c3RUYXNrcy5sZW5ndGh9IHNlbGV6aW9uYXRlPC9zcGFuPgogICAgICAgICAgICAgICAgICAg'
        'ICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICB7c3RUYXNrcy5tYXAoKGl0ZW0saSk9PigK'
        'ICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW0uaWR9IHN0eWxlPXt7CiAgICAg'
        'ICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzoiMTBweCAxNHB4IixkaXNwbGF5OiJmbGV4Iixh'
        'bGlnbkl0ZW1zOiJjZW50ZXIiLGdhcDoxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICBib3Jk'
        'ZXJCb3R0b206aTxzdFRhc2tzLmxlbmd0aC0xP2AxcHggc29saWQgJHt0LmRpdn1gOiJub25lIiwK'
        'ICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOmFpUHJldmlld1NlbFtpdGVtLmlk'
        'XT90LmJnQWx0OnQuYmdDYXJkLAogICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjoicG9p'
        'bnRlciIsdHJhbnNpdGlvbjoiYmFja2dyb3VuZCAwLjE1cyIsCiAgICAgICAgICAgICAgICAgICAg'
        'ICAgIH19CiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpPT5zZXRBaVByZXZpZXdT'
        'ZWwocD0+KHsuLi5wLFtpdGVtLmlkXTohcFtpdGVtLmlkXX0pKX0+CiAgICAgICAgICAgICAgICAg'
        'ICAgICAgICAgPGRpdiBzdHlsZT17ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6'
        'MTgsaGVpZ2h0OjE4LGJvcmRlclJhZGl1czo0LGJvcmRlcjpgMS41cHggc29saWQgJHthaVByZXZp'
        'ZXdTZWxbaXRlbS5pZF0/dC5nb2xkOnQuZGl2fWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAg'
        'ICBiYWNrZ3JvdW5kOmFpUHJldmlld1NlbFtpdGVtLmlkXT90LmdvbGQ6InRyYW5zcGFyZW50IiwK'
        'ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNl'
        'bnRlciIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsCiAgICAgICAgICAgICAgICAgICAgICAgICAg'
        'ICBmbGV4U2hyaW5rOjAsdHJhbnNpdGlvbjoiYWxsIDAuMTVzIiwKICAgICAgICAgICAgICAgICAg'
        'ICAgICAgICB9fT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHthaVByZXZpZXdTZWxbaXRl'
        'bS5pZF0mJjxzcGFuIHN0eWxlPXt7Y29sb3I6IiNmZmYiLGZvbnRTaXplOjEwLGxpbmVIZWlnaHQ6'
        'MX19PuKckzwvc3Bhbj59CiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAg'
        'ICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3tmb250RmFtaWx5OiJ2YXIoLS1zZXJpZiki'
        'LGZvbnRTaXplOjEzLGZvbnRTdHlsZToiaXRhbGljIixjb2xvcjp0LmluayxmbGV4OjF9fT57aXRl'
        'bS50ZXh0fTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAg'
        'ICAgICAgICAgICApKX0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAg'
        'ICAgKTsKICAgICAgICAgICAgICAgIH0pfQoKICAgICAgICAgICAgICAgIHsvKiBBbHNvIHNob3cg'
        'ImFsbCIgaXRlbXMgKi99CiAgICAgICAgICAgICAgICB7YWlQcmV2aWV3LmZpbHRlcih4PT54LnN0'
        'YXRpb249PT0iYWxsIikubGVuZ3RoPjAmJigKICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17'
        'e2JvcmRlclJhZGl1czoxMCxvdmVyZmxvdzoiaGlkZGVuIixib3JkZXI6YDFweCBzb2xpZCAke3Qu'
        'ZGl2fWB9fT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7cGFkZGluZzoiOXB4IDE0'
        'cHgiLGJhY2tncm91bmQ6dC5iZ0FsdCxib3JkZXJCb3R0b206YDFweCBzb2xpZCAke3QuZGl2fWB9'
        'fT4KICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0ibW9ubyIgc3R5bGU9e3tm'
        'b250U2l6ZTo5LGxldHRlclNwYWNpbmc6IjAuMWVtIixjb2xvcjp0Lmlua011dGVkfX0+U1RBWklP'
        'TkUgTk9OIFNQRUNJRklDQVRBPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAg'
        'ICAgICAgICAgICAgICAgIHthaVByZXZpZXcuZmlsdGVyKHg9Pnguc3RhdGlvbj09PSJhbGwiKS5t'
        'YXAoKGl0ZW0saSxhcnIpPT4oCiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGtleT17aXRlbS5p'
        'ZH0gc3R5bGU9e3sKICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzoiMTBweCAxNHB4Iixk'
        'aXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJjZW50ZXIiLGdhcDoxMiwKICAgICAgICAgICAgICAg'
        'ICAgICAgICAgYm9yZGVyQm90dG9tOmk8YXJyLmxlbmd0aC0xP2AxcHggc29saWQgJHt0LmRpdn1g'
        'OiJub25lIiwKICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDphaVByZXZpZXdTZWxb'
        'aXRlbS5pZF0/dC5iZ0FsdDp0LmJnQ2FyZCxjdXJzb3I6InBvaW50ZXIiLHRyYW5zaXRpb246ImJh'
        'Y2tncm91bmQgMC4xNXMiLAogICAgICAgICAgICAgICAgICAgICAgfX0KICAgICAgICAgICAgICAg'
        'ICAgICAgIG9uQ2xpY2s9eygpPT5zZXRBaVByZXZpZXdTZWwocD0+KHsuLi5wLFtpdGVtLmlkXToh'
        'cFtpdGVtLmlkXX0pKX0+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3t3aWR0'
        'aDoxOCxoZWlnaHQ6MTgsYm9yZGVyUmFkaXVzOjQsYm9yZGVyOmAxLjVweCBzb2xpZCAke2FpUHJl'
        'dmlld1NlbFtpdGVtLmlkXT90LmdvbGQ6dC5kaXZ9YCxiYWNrZ3JvdW5kOmFpUHJldmlld1NlbFtp'
        'dGVtLmlkXT90LmdvbGQ6InRyYW5zcGFyZW50IixkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJj'
        'ZW50ZXIiLGp1c3RpZnlDb250ZW50OiJjZW50ZXIiLGZsZXhTaHJpbms6MCx0cmFuc2l0aW9uOiJh'
        'bGwgMC4xNXMifX0+CiAgICAgICAgICAgICAgICAgICAgICAgICAge2FpUHJldmlld1NlbFtpdGVt'
        'LmlkXSYmPHNwYW4gc3R5bGU9e3tjb2xvcjoiI2ZmZiIsZm9udFNpemU6MTB9fT7inJM8L3NwYW4+'
        'fQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAg'
        'PHNwYW4gc3R5bGU9e3tmb250RmFtaWx5OiJ2YXIoLS1zZXJpZikiLGZvbnRTaXplOjEzLGZvbnRT'
        'dHlsZToiaXRhbGljIixjb2xvcjp0LmluayxmbGV4OjF9fT57aXRlbS50ZXh0fTwvc3Bhbj4KICAg'
        'ICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICkpfQogICAgICAg'
        'ICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICl9CgogICAgICAgICAgICAgICAgPGRp'
        'diBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGdhcDoxMH19PgogICAgICAgICAgICAgICAgICA8QnRu'
        'IHQ9e3R9IHZhcmlhbnQ9ImdvbGQiIG9uQ2xpY2s9e2NvbmZpcm1JbnNlcnR9IGRpc2FibGVkPXsh'
        'T2JqZWN0LnZhbHVlcyhhaVByZXZpZXdTZWwpLnNvbWUoQm9vbGVhbil9PgogICAgICAgICAgICAg'
        'ICAgICAgIOKckyBJbnNlcmlzY2kge09iamVjdC52YWx1ZXMoYWlQcmV2aWV3U2VsKS5maWx0ZXIo'
        'Qm9vbGVhbikubGVuZ3RofSBwcmVwYXJhemlvbmkgaW4gbGlzdGEKICAgICAgICAgICAgICAgICAg'
        'PC9CdG4+CiAgICAgICAgICAgICAgICAgIDxCdG4gdD17dH0gdmFyaWFudD0iZ2hvc3QiIG9uQ2xp'
        'Y2s9eygpPT57c2V0QWlQcmV2aWV3KG51bGwpO3NldEFpUHJldmlld1NlbCh7fSk7fX0+4oaQIFJp'
        'YW5hbGl6emE8L0J0bj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDwvZGl2'
        'PgogICAgICAgICAgICApfQoKICAgICAgICAgICAgey8qIEFuYWx5emUgYnV0dG9uICovfQogICAg'
        'ICAgICAgICB7IWFpUHJldmlldyAmJiAoCiAgICAgICAgICAgICAgPEJ0biB0PXt0fSB2YXJpYW50'
        'PSJwcmltYXJ5IgogICAgICAgICAgICAgICAgb25DbGljaz17cnVuQUl9CiAgICAgICAgICAgICAg'
        'ICBkaXNhYmxlZD17YWlMb2FkaW5nIHx8IChhaU1vZGU9PT0iZmlsZSI/IWFpRmlsZTohYWlUZXh0'
        'LnRyaW0oKSl9CiAgICAgICAgICAgICAgICBzdHlsZT17e2FsaWduU2VsZjoiZmxleC1zdGFydCJ9'
        'fQogICAgICAgICAgICAgID4KICAgICAgICAgICAgICAgIHthaUxvYWRpbmcKICAgICAgICAgICAg'
        'ICAgICAgPyA8c3BhbiBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIs'
        'Z2FwOjh9fT48c3BhbiBzdHlsZT17e2FuaW1hdGlvbjoiYmxpbmsgMXMgZWFzZS1pbi1vdXQgaW5m'
        'aW5pdGUifX0+4pe3PC9zcGFuPiBBbmFsaXNpIGluIGNvcnNv4oCmPC9zcGFuPgogICAgICAgICAg'
        'ICAgICAgICA6ICLwn6SWIEFuYWxpenphIGVkIGVzdHJhaSBwcmVwYXJhemlvbmkifQogICAgICAg'
        'ICAgICAgIDwvQnRuPgogICAgICAgICAgICApfQogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9D'
        'YXJkPgogICAgICApfQoKICAgICAgey8qIOKUgOKUgCBNQU5VQUwgQUREICsgQUkgQlVUVE9OIOKU'
        'gOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKU'
        'gOKUgOKUgOKUgOKUgOKUgCAqL30KICAgICAge2NhbkVkaXQgJiYgIXNob3dBSUltcG9ydCAmJiAo'
        'CiAgICAgICAgPENhcmQgdD17dH0gc3R5bGU9e3twYWRkaW5nOjIwfX0+CiAgICAgICAgICA8ZGl2'
        'IHN0eWxlPXt7ZGlzcGxheToiZmxleCIsZ2FwOjEwLGZsZXhXcmFwOiJ3cmFwIn19PgogICAgICAg'
        'ICAgICA8THV4SW5wdXQgdmFsdWU9e21hbnVhbFRleHR9IG9uQ2hhbmdlPXtlPT5zZXRNYW51YWxU'
        'ZXh0KGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9IlByZXBhcmF6aW9uZSBtYW51YWxlIChl'
        'czogQnJ1bm9pc2Ugc2NhbG9nbm8pIiB0PXt0fSBzdHlsZT17e2ZsZXg6IjEgMSAyMDBweCJ9fQog'
        'ICAgICAgICAgICAgIG9uS2V5RG93bj17ZT0+ZS5rZXk9PT0iRW50ZXIiJiZkb01hbnVhbEFkZCgp'
        'fS8+CiAgICAgICAgICAgIDxMdXhTZWxlY3QgdmFsdWU9e21hbnVhbFN0YXRpb259IG9uQ2hhbmdl'
        'PXtlPT5zZXRNYW51YWxTdGF0aW9uKGUudGFyZ2V0LnZhbHVlKX0gdD17dH0gc3R5bGU9e3t3aWR0'
        'aDoxNjB9fT4KICAgICAgICAgICAgICB7U1RBVElPTlMuZmlsdGVyKHM9PnMua2V5IT09ImFsbCIp'
        'Lm1hcChzPT48b3B0aW9uIGtleT17cy5rZXl9IHZhbHVlPXtzLmtleX0+e3MuaWNvbn0ge3MubGFi'
        'ZWx9PC9vcHRpb24+KX0KICAgICAgICAgICAgPC9MdXhTZWxlY3Q+CiAgICAgICAgICAgIDxWb2lj'
        'ZUJ0biB0PXt0fSBvblJlc3VsdD17cj0+c2V0TWFudWFsVGV4dChyKX0vPgogICAgICAgICAgICA8'
        'QnRuIHQ9e3R9IG9uQ2xpY2s9e2RvTWFudWFsQWRkfSBkaXNhYmxlZD17IW1hbnVhbFRleHQudHJp'
        'bSgpfT4rIEFnZ2l1bmdpPC9CdG4+CiAgICAgICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PnNl'
        'dFNob3dBSUltcG9ydCh0cnVlKX0gc3R5bGU9e3sKICAgICAgICAgICAgICBwYWRkaW5nOiI4cHgg'
        'MThweCIsYm9yZGVyUmFkaXVzOjgsYm9yZGVyOiJub25lIixjdXJzb3I6InBvaW50ZXIiLAogICAg'
        'ICAgICAgICAgIGJhY2tncm91bmQ6YGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICR7dC5nb2xkfSwg'
        'JHt0LmdvbGRCcmlnaHR9KWAsCiAgICAgICAgICAgICAgY29sb3I6IiNmZmYiLGZvbnRGYW1pbHk6'
        'InZhcigtLW1vbm8pIixmb250U2l6ZToxMCxsZXR0ZXJTcGFjaW5nOiIwLjA4ZW0iLAogICAgICAg'
        'ICAgICAgIGJveFNoYWRvdzpgMCAzcHggMTRweCAke3QuZ29sZEZhaW50fWAsZGlzcGxheToiZmxl'
        'eCIsYWxpZ25JdGVtczoiY2VudGVyIixnYXA6OCwKICAgICAgICAgICAgfX0+CiAgICAgICAgICAg'
        'ICAgPHNwYW4+8J+kljwvc3Bhbj4gSW1wb3J0YSBkYSBmb3RvIC8gZmlsZSAvIHZvY2UKICAgICAg'
        'ICAgICAgPC9idXR0b24+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L0NhcmQ+CiAgICAgICl9'
        'CiAgICAgIHtjYW5FZGl0ICYmIHNob3dBSUltcG9ydCAmJiAhYWlQcmV2aWV3ICYmICgKICAgICAg'
        'ICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxleCIsanVzdGlmeUNvbnRlbnQ6ImZsZXgtZW5kIn19'
        'PgogICAgICAgICAgPEJ0biB0PXt0fSB2YXJpYW50PSJnaG9zdCIgb25DbGljaz17KCk9PnNldFNo'
        'b3dBSUltcG9ydChmYWxzZSl9PuKGkCBUb3JuYSBhbGxhIGxpc3RhPC9CdG4+CiAgICAgICAgPC9k'
        'aXY+CiAgICAgICl9CgogICAgICB7Lyog4pSA4pSAIFNUQVRJT04gRklMVEVSIFRBQlMg4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovfQogICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxl'
        'eCIsZ2FwOjgsZmxleFdyYXA6IndyYXAifX0+CiAgICAgICAge1NUQVRJT05TLm1hcChzPT57CiAg'
        'ICAgICAgICBjb25zdCBjbnQgPSBjb3VudEJ5U3RhdGlvbltzLmtleV07CiAgICAgICAgICBjb25z'
        'dCBhY3RpdmUgPSBmaWx0ZXJTdGF0aW9uPT09cy5rZXk7CiAgICAgICAgICByZXR1cm4gKAogICAg'
        'ICAgICAgICA8YnV0dG9uIGtleT17cy5rZXl9IG9uQ2xpY2s9eygpPT5zZXRGaWx0ZXJTdGF0aW9u'
        'KHMua2V5KX0gc3R5bGU9e3sKICAgICAgICAgICAgICBwYWRkaW5nOiI4cHggMTZweCIsYm9yZGVy'
        'UmFkaXVzOjEwLGJvcmRlcjoibm9uZSIsY3Vyc29yOiJwb2ludGVyIiwKICAgICAgICAgICAgICBm'
        'b250RmFtaWx5OiJ2YXIoLS1tb25vKSIsZm9udFNpemU6OSxsZXR0ZXJTcGFjaW5nOiIwLjA2ZW0i'
        'LAogICAgICAgICAgICAgIGJhY2tncm91bmQ6YWN0aXZlP2BsaW5lYXItZ3JhZGllbnQoMTM1ZGVn'
        'LCR7cy5jb2xvcn0sJHtzLmNvbG9yfUNDKWA6dC5iZ0NhcmQsCiAgICAgICAgICAgICAgY29sb3I6'
        'YWN0aXZlPyIjZmZmIjp0Lmlua011dGVkLAogICAgICAgICAgICAgIGJvcmRlcjphY3RpdmU/Im5v'
        'bmUiOmAxcHggc29saWQgJHt0LmRpdn1gLAogICAgICAgICAgICAgIGRpc3BsYXk6ImZsZXgiLGFs'
        'aWduSXRlbXM6ImNlbnRlciIsZ2FwOjYsdHJhbnNpdGlvbjoiYWxsIDAuMjVzIiwKICAgICAgICAg'
        'ICAgICBib3hTaGFkb3c6YWN0aXZlP2AwIDRweCAxNnB4ICR7cy5jb2xvcn0zMGA6YDAgMXB4IDRw'
        'eCAke3Quc2hhZG93fWAsCiAgICAgICAgICAgIH19PgogICAgICAgICAgICAgIDxzcGFuIHN0eWxl'
        'PXt7Zm9udFNpemU6MTJ9fT57cy5pY29ufTwvc3Bhbj4KICAgICAgICAgICAgICB7cy5sYWJlbH0K'
        'ICAgICAgICAgICAgICB7Y250PjAmJjxzcGFuIHN0eWxlPXt7YmFja2dyb3VuZDphY3RpdmU/InJn'
        'YmEoMjU1LDI1NSwyNTUsMC4yNSkiOnMuY29sb3IrIjI1Iixjb2xvcjphY3RpdmU/IiNmZmYiOnMu'
        'Y29sb3IscGFkZGluZzoiMXB4IDdweCIsYm9yZGVyUmFkaXVzOjgsZm9udFNpemU6OH19PntjbnR9'
        'PC9zcGFuPn0KICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICApOwogICAgICAgIH0pfQog'
        'ICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PnNldEZpbHRlckRvbmUoIWZpbHRlckRvbmUpfSBz'
        'dHlsZT17ewogICAgICAgICAgcGFkZGluZzoiOHB4IDE0cHgiLGJvcmRlclJhZGl1czoxMCxib3Jk'
        'ZXI6YDFweCBzb2xpZCAke3QuZGl2fWAsY3Vyc29yOiJwb2ludGVyIiwKICAgICAgICAgIGZvbnRG'
        'YW1pbHk6InZhcigtLW1vbm8pIixmb250U2l6ZTo5LGxldHRlclNwYWNpbmc6IjAuMDZlbSIsCiAg'
        'ICAgICAgICBiYWNrZ3JvdW5kOmZpbHRlckRvbmU/dC5iZ0FsdDp0LmJnQ2FyZCxjb2xvcjp0Lmlu'
        'a011dGVkLG1hcmdpbkxlZnQ6ImF1dG8iLAogICAgICAgIH19PgogICAgICAgICAge2ZpbHRlckRv'
        'bmU/Ik5hc2NvbmRpIGNvbXBsZXRhdGUiOiJNb3N0cmEgY29tcGxldGF0ZSJ9CiAgICAgICAgPC9i'
        'dXR0b24+CiAgICAgIDwvZGl2PgoKICAgICAgey8qIOKUgOKUgCBUQVNLIENPTFVNTlMg4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA'
        '4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAICovfQogICAgICA8ZGl2'
        'IHN0eWxlPXt7ZGlzcGxheToiZ3JpZCIsZ3JpZFRlbXBsYXRlQ29sdW1uczoiMWZyIDFmciIsZ2Fw'
        'OjE2fX0+CiAgICAgICAgey8qIERhIGZhcmUgKi99CiAgICAgICAgPENhcmQgdD17dH0+CiAgICAg'
        'ICAgICA8Q2FyZEhlYWRlciB0PXt0fSB0aXRsZT17YERhIGZhcmUgKCR7dG9kby5sZW5ndGh9KWB9'
        'Lz4KICAgICAgICAgIDxkaXY+CiAgICAgICAgICAgIHt0b2RvLmxlbmd0aD09PTAgJiYgKAogICAg'
        'ICAgICAgICAgIDxkaXYgc3R5bGU9e3twYWRkaW5nOiIyNHB4IDIycHgiLGNvbG9yOnQuaW5rRmFp'
        'bnQsZm9udFNpemU6MTIsZm9udEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U3R5bGU6Iml0YWxp'
        'YyIsdGV4dEFsaWduOiJjZW50ZXIifX0+CiAgICAgICAgICAgICAgICDinJMgVHV0dG8gY29tcGxl'
        'dGF0bwogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApfQogICAgICAgICAgICB7dG9k'
        'by5tYXAoKHRhc2ssaSk9PnsKICAgICAgICAgICAgICBjb25zdCBzdGF0aW9uID0gU1RBVElPTlMu'
        'ZmluZChzPT5zLmtleT09PXRhc2suc3RhdGlvbil8fFNUQVRJT05TW1NUQVRJT05TLmxlbmd0aC0x'
        'XTsKICAgICAgICAgICAgICByZXR1cm4gKAogICAgICAgICAgICAgICAgPGRpdiBrZXk9e3Rhc2su'
        'aWR9IHN0eWxlPXt7CiAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IjEycHggMjJweCIsZGlzcGxh'
        'eToiZmxleCIsYWxpZ25JdGVtczoiZmxleC1zdGFydCIsZ2FwOjEyLAogICAgICAgICAgICAgICAg'
        'ICBib3JkZXJCb3R0b206aTx0b2RvLmxlbmd0aC0xP2AxcHggc29saWQgJHt0LmRpdn1gOiJub25l'
        'IiwKICAgICAgICAgICAgICAgICAgYm9yZGVyTGVmdDpgM3B4IHNvbGlkICR7c3RhdGlvbi5jb2xv'
        'cn1gLAogICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiJiYWNrZ3JvdW5kIDAuMTVzIiwKICAg'
        'ICAgICAgICAgICAgIH19CiAgICAgICAgICAgICAgICBvbk1vdXNlRW50ZXI9e2U9PmUuY3VycmVu'
        'dFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kPXQuYmdBbHR9CiAgICAgICAgICAgICAgICBvbk1vdXNl'
        'TGVhdmU9e2U9PmUuY3VycmVudFRhcmdldC5zdHlsZS5iYWNrZ3JvdW5kPSJ0cmFuc3BhcmVudCJ9'
        'PgogICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT17e2ZvbnRTaXplOjEyLG1hcmdpblRvcDoy'
        'LGZsZXhTaHJpbms6MH19PntzdGF0aW9uLmljb259PC9zcGFuPgogICAgICAgICAgICAgICAgICA8'
        'ZGl2IHN0eWxlPXt7ZmxleDoxLG1pbldpZHRoOjB9fT4KICAgICAgICAgICAgICAgICAgICA8ZGl2'
        'IHN0eWxlPXt7Zm9udFNpemU6MTMsZm9udEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U3R5bGU6'
        'Iml0YWxpYyIsY29sb3I6dC5pbmssbGluZUhlaWdodDoxLjR9fT57dGFzay50ZXh0fTwvZGl2Pgog'
        'ICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXpl'
        'OjgsY29sb3I6c3RhdGlvbi5jb2xvcixtYXJnaW5Ub3A6MyxvcGFjaXR5OjAuOH19PntzdGF0aW9u'
        'LmxhYmVsfTwvZGl2PgogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgICAg'
        'e2NhbkVkaXQmJigKICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxl'
        'eCIsZ2FwOjUsZmxleFNocmluazowfX0+CiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIG9u'
        'Q2xpY2s9eygpPT5zZXRNb3ZlTW9kYWwodGFzayl9IHN0eWxlPXt7Li4uYnRuU21hbGwodCksYmFj'
        'a2dyb3VuZDp0LnN1Y2Nlc3MrIjIwIixjb2xvcjp0LnN1Y2Nlc3MsZm9udFNpemU6OCxwYWRkaW5n'
        'OiIzcHggOHB4In19PuKGkSBDYXJpY2E8L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICAgIDxi'
        'dXR0b24gb25DbGljaz17KCk9PnRvZ2dsZVRhc2sodGFzay5pZCl9IHN0eWxlPXt7Li4uYnRuU21h'
        'bGwodCksZm9udFNpemU6OCxwYWRkaW5nOiIzcHggOHB4In19PuKckzwvYnV0dG9uPgogICAgICAg'
        'ICAgICAgICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+cmVtb3ZlVGFzayh0YXNrLmlkKX0g'
        'c3R5bGU9e3suLi5idG5TbWFsbCh0KSxiYWNrZ3JvdW5kOnQuYWNjZW50R2xvdyxjb2xvcjp0LmRh'
        'bmdlcixmb250U2l6ZTo4LHBhZGRpbmc6IjNweCA4cHgifX0+4pyVPC9idXR0b24+CiAgICAgICAg'
        'ICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICAgICAgICl9CiAgICAgICAgICAgICAgICA8'
        'L2Rpdj4KICAgICAgICAgICAgICApOwogICAgICAgICAgICB9KX0KICAgICAgICAgIDwvZGl2Pgog'
        'ICAgICAgIDwvQ2FyZD4KCiAgICAgICAgey8qIENvbXBsZXRhdGUgKi99CiAgICAgICAgPENhcmQg'
        'dD17dH0+CiAgICAgICAgICA8Q2FyZEhlYWRlciB0PXt0fSB0aXRsZT17YENvbXBsZXRhdGUgKCR7'
        'ZG9uZS5sZW5ndGh9KWB9CiAgICAgICAgICAgIHJpZ2h0PXtkb25lLmxlbmd0aD4wJiZjYW5FZGl0'
        'PygKICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpPT5zZXRUYXNrcyhwPT5wLmZpbHRl'
        'cih4PT4heC5kb25lKSl9IHN0eWxlPXt7Li4uYnRuU21hbGwodCksZm9udFNpemU6OH19PlB1bGlz'
        'Y2k8L2J1dHRvbj4KICAgICAgICAgICAgKTpudWxsfS8+CiAgICAgICAgICA8ZGl2PgogICAgICAg'
        'ICAgICB7ZG9uZS5sZW5ndGg9PT0wICYmICgKICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7cGFk'
        'ZGluZzoiMjRweCAyMnB4Iixjb2xvcjp0Lmlua0ZhaW50LGZvbnRTaXplOjEyLGZvbnRGYW1pbHk6'
        'InZhcigtLXNlcmlmKSIsZm9udFN0eWxlOiJpdGFsaWMiLHRleHRBbGlnbjoiY2VudGVyIn19Pgog'
        'ICAgICAgICAgICAgICAgTmVzc3VuYSBjb21wbGV0YXRhCiAgICAgICAgICAgICAgPC9kaXY+CiAg'
        'ICAgICAgICAgICl9CiAgICAgICAgICAgIHtkb25lLm1hcCgodGFzayxpKT0+ewogICAgICAgICAg'
        'ICAgIGNvbnN0IHN0YXRpb24gPSBTVEFUSU9OUy5maW5kKHM9PnMua2V5PT09dGFzay5zdGF0aW9u'
        'KXx8U1RBVElPTlNbU1RBVElPTlMubGVuZ3RoLTFdOwogICAgICAgICAgICAgIHJldHVybiAoCiAg'
        'ICAgICAgICAgICAgICA8ZGl2IGtleT17dGFzay5pZH0gc3R5bGU9e3sKICAgICAgICAgICAgICAg'
        'ICAgcGFkZGluZzoiMTJweCAyMnB4IixkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJjZW50ZXIi'
        'LGdhcDoxMiwKICAgICAgICAgICAgICAgICAgYm9yZGVyQm90dG9tOmk8ZG9uZS5sZW5ndGgtMT9g'
        'MXB4IHNvbGlkICR7dC5kaXZ9YDoibm9uZSIsCiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6MC41'
        'NSwgYm9yZGVyTGVmdDpgM3B4IHNvbGlkICR7c3RhdGlvbi5jb2xvcn00NGAsCiAgICAgICAgICAg'
        'ICAgICB9fT4KICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3tmb250U2l6ZToxMixjb2xv'
        'cjp0LnN1Y2Nlc3N9fT7inJM8L3NwYW4+CiAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tm'
        'bGV4OjF9fT4KICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7Zm9udFNpemU6MTMsZm9u'
        'dEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U3R5bGU6Iml0YWxpYyIsY29sb3I6dC5pbmtNdXRl'
        'ZCx0ZXh0RGVjb3JhdGlvbjoibGluZS10aHJvdWdoIn19Pnt0YXNrLnRleHR9PC9kaXY+CiAgICAg'
        'ICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9Im1vbm8iIHN0eWxlPXt7Zm9udFNpemU6OCxj'
        'b2xvcjpzdGF0aW9uLmNvbG9yLG1hcmdpblRvcDoyLG9wYWNpdHk6MC43fX0+e3N0YXRpb24ubGFi'
        'ZWx9PC9kaXY+CiAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICB7Y2Fu'
        'RWRpdCYmPGJ1dHRvbiBvbkNsaWNrPXsoKT0+dG9nZ2xlVGFzayh0YXNrLmlkKX0gc3R5bGU9e3su'
        'Li5idG5TbWFsbCh0KSxmb250U2l6ZTo4fX0+QW5udWxsYTwvYnV0dG9uPn0KICAgICAgICAgICAg'
        'ICAgIDwvZGl2PgogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0pfQogICAgICAgICAgPC9k'
        'aXY+CiAgICAgICAgPC9DYXJkPgogICAgICA8L2Rpdj4KCiAgICAgIHsvKiDilIDilIAgTE9BRC1J'
        'TiBNT0RBTCDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDi'
        'lIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgKi99'
        'CiAgICAgIHttb3ZlTW9kYWwmJigKICAgICAgICA8ZGl2IHN0eWxlPXt7cG9zaXRpb246ImZpeGVk'
        'IixpbnNldDowLGJhY2tncm91bmQ6InJnYmEoMCwwLDAsMC41NSkiLHpJbmRleDo5MDAwLGRpc3Bs'
        'YXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIsanVzdGlmeUNvbnRlbnQ6ImNlbnRlciJ9fT4K'
        'ICAgICAgICAgIDxDYXJkIHQ9e3R9IHN0eWxlPXt7d2lkdGg6MzgwLHBhZGRpbmc6Mjh9fT4KICAg'
        'ICAgICAgICAgPGRpdiBjbGFzc05hbWU9Im1vbm8iIHN0eWxlPXt7Zm9udFNpemU6OCxsZXR0ZXJT'
        'cGFjaW5nOiIwLjE0ZW0iLGNvbG9yOnQuaW5rRmFpbnQsbWFyZ2luQm90dG9tOjh9fT5DQVJJQ0Eg'
        'SU4gR0lBQ0VOWkE8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT17e2ZvbnRGYW1pbHk6InZh'
        'cigtLXNlcmlmKSIsZm9udFNpemU6MTcsZm9udFN0eWxlOiJpdGFsaWMiLGNvbG9yOnQuaW5rLG1h'
        'cmdpbkJvdHRvbToyMCxsaW5lSGVpZ2h0OjEuNH19Pnttb3ZlTW9kYWwudGV4dH08L2Rpdj4KICAg'
        'ICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGZsZXhEaXJlY3Rpb246ImNvbHVt'
        'biIsZ2FwOjEyfX0+CiAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImdyaWQiLGdy'
        'aWRUZW1wbGF0ZUNvbHVtbnM6IjFmciAxZnIiLGdhcDoxMH19PgogICAgICAgICAgICAgICAgPEx1'
        'eElucHV0IHZhbHVlPXttb3ZlUXR5fSBvbkNoYW5nZT17ZT0+c2V0TW92ZVF0eShlLnRhcmdldC52'
        'YWx1ZSl9IHR5cGU9Im51bWJlciIgcGxhY2Vob2xkZXI9IlF1YW50aXTDoCIgdD17dH0vPgogICAg'
        'ICAgICAgICAgICAgPEx1eFNlbGVjdCB2YWx1ZT17bW92ZURlc3R9IG9uQ2hhbmdlPXtlPT5zZXRN'
        'b3ZlRGVzdChlLnRhcmdldC52YWx1ZSl9IHQ9e3R9PgogICAgICAgICAgICAgICAgICA8b3B0aW9u'
        'IHZhbHVlPSJmcmlkZ2UiPkZyaWdvPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgIDxvcHRpb24g'
        'dmFsdWU9ImZyZWV6ZXIiPkNvbmdlbGF0b3JlPC9vcHRpb24+CiAgICAgICAgICAgICAgICAgIDxv'
        'cHRpb24gdmFsdWU9ImRyeSI+RGlzcGVuc2E8L29wdGlvbj4KICAgICAgICAgICAgICAgICAgPG9w'
        'dGlvbiB2YWx1ZT0iY291bnRlciI+QmFuY288L29wdGlvbj4KICAgICAgICAgICAgICAgIDwvTHV4'
        'U2VsZWN0PgogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tk'
        'aXNwbGF5OiJmbGV4IixnYXA6OH19PgogICAgICAgICAgICAgICAgPEJ0biB0PXt0fSB2YXJpYW50'
        'PSJnb2xkIiBvbkNsaWNrPXtkb0xvYWRJbn0+4oaRIENhcmljYSBpbiBnaWFjZW56YTwvQnRuPgog'
        'ICAgICAgICAgICAgICAgPEJ0biB0PXt0fSB2YXJpYW50PSJnaG9zdCIgb25DbGljaz17KCk9PnNl'
        'dE1vdmVNb2RhbChudWxsKX0+QW5udWxsYTwvQnRuPgogICAgICAgICAgICAgIDwvZGl2PgogICAg'
        'ICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvQ2FyZD4KICAgICAgICA8L2Rpdj4KICAgICAgKX0K'
        'ICAgIDwvZGl2PgogICk7Cn0KCi8qIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkAogICBTSE9QUElORyBWSUVXCiAgIOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpmdW5jdGlvbiBTaG9wcGlu'
        'Z1ZpZXcoeyB0IH0pIHsKICBjb25zdCB7IGtpdGNoZW4sIHNob3BBZGQsIHNob3BUb2dnbGUsIHNo'
        'b3BSZW1vdmUsIHNob3BDbGVhciwgY3VycmVudFJvbGUgfSA9IHVzZUsoKTsKICBjb25zdCB0b2Fz'
        'dCA9IHVzZVRvYXN0KCk7CiAgY29uc3QgY2FuRWRpdCA9IENBTl9FRElULmluY2x1ZGVzKGN1cnJl'
        'bnRSb2xlKCkpOwoKICBjb25zdCBbbmFtZSwgc2V0TmFtZV0gID0gdXNlU3RhdGUoIiIpOwogIGNv'
        'bnN0IFtxdHksICBzZXRRdHldICAgPSB1c2VTdGF0ZSgiMSIpOwogIGNvbnN0IFt1bml0LCBzZXRV'
        'bml0XSAgPSB1c2VTdGF0ZSgicHoiKTsKICBjb25zdCBbY2F0LCAgc2V0Q2F0XSAgID0gdXNlU3Rh'
        'dGUoImVjb25vbWF0byIpOwogIGNvbnN0IFtub3RlcyxzZXROb3Rlc10gPSB1c2VTdGF0ZSgiIik7'
        'CiAgdXNlU3BlZWNoKHI9PnNldE5hbWUocikpOwoKICBjb25zdCBDQVRTID0gWyJlY29ub21hdG8i'
        'LCJnaW9ybmFsaWVybyIsInNldHRpbWFuYWxlIiwiYWx0cm8iXTsKICBjb25zdCBpdGVtcyA9IChr'
        'aXRjaGVuPy5zaG9wcGluZ3x8W10pOwoKICBmdW5jdGlvbiBhZGQoKSB7CiAgICBpZighbmFtZS50'
        'cmltKCl8fHBhcnNlRmxvYXQocXR5KTw9MCkgeyB0b2FzdCgiQ29tcGlsYSBub21lIGUgcXVhbnRp'
        'dMOgIiwiZXJyb3IiKTsgcmV0dXJuOyB9CiAgICBzaG9wQWRkKG5hbWUscGFyc2VGbG9hdChxdHkp'
        'LHVuaXQsY2F0LG5vdGVzKTsKICAgIHRvYXN0KGAke25hbWV9IGFnZ2l1bnRvIGFsbGEgbGlzdGFg'
        'LCJzdWNjZXNzIik7CiAgICBzZXROYW1lKCIiKTsgc2V0UXR5KCIxIik7IHNldE5vdGVzKCIiKTsK'
        'ICB9CgogIHJldHVybiAoCiAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheToiZmxleCIsZmxleERpcmVj'
        'dGlvbjoiY29sdW1uIixnYXA6MjB9fT4KICAgICAge2NhbkVkaXQmJigKICAgICAgICA8Q2FyZCB0'
        'PXt0fSBzdHlsZT17e3BhZGRpbmc6MjB9fT4KICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5'
        'OiJncmlkIixncmlkVGVtcGxhdGVDb2x1bW5zOiIxZnIgMWZyIixnYXA6MTAsbWFyZ2luQm90dG9t'
        'OjEyfX0+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixnYXA6OH19Pgog'
        'ICAgICAgICAgICAgIDxMdXhJbnB1dCB2YWx1ZT17bmFtZX0gb25DaGFuZ2U9e2U9PnNldE5hbWUo'
        'ZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj0iQXJ0aWNvbG8iIHQ9e3R9IHN0eWxlPXt7Zmxl'
        'eDoxfX0vPgogICAgICAgICAgICAgIDxWb2ljZUJ0biB0PXt0fSBvblJlc3VsdD17cj0+c2V0TmFt'
        'ZShyKX0vPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3Bs'
        'YXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6IjFmciAxZnIiLGdhcDo4fX0+CiAgICAgICAg'
        'ICAgICAgPEx1eElucHV0IHZhbHVlPXtxdHl9IG9uQ2hhbmdlPXtlPT5zZXRRdHkoZS50YXJnZXQu'
        'dmFsdWUpfSB0eXBlPSJudW1iZXIiIHBsYWNlaG9sZGVyPSJRdMOgIiB0PXt0fS8+CiAgICAgICAg'
        'ICAgICAgPEx1eFNlbGVjdCB2YWx1ZT17dW5pdH0gb25DaGFuZ2U9e2U9PnNldFVuaXQoZS50YXJn'
        'ZXQudmFsdWUpfSB0PXt0fT4KICAgICAgICAgICAgICAgIHtVTklUUy5tYXAodT0+PG9wdGlvbiBr'
        'ZXk9e3V9IHZhbHVlPXt1fT57dX08L29wdGlvbj4pfQogICAgICAgICAgICAgIDwvTHV4U2VsZWN0'
        'PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPEx1eFNlbGVjdCB2YWx1ZT17Y2F0fSBv'
        'bkNoYW5nZT17ZT0+c2V0Q2F0KGUudGFyZ2V0LnZhbHVlKX0gdD17dH0+CiAgICAgICAgICAgICAg'
        'e0NBVFMubWFwKGM9PjxvcHRpb24ga2V5PXtjfSB2YWx1ZT17Y30+e2MuY2hhckF0KDApLnRvVXBw'
        'ZXJDYXNlKCkrYy5zbGljZSgxKX08L29wdGlvbj4pfQogICAgICAgICAgICA8L0x1eFNlbGVjdD4K'
        'ICAgICAgICAgICAgPEx1eElucHV0IHZhbHVlPXtub3Rlc30gb25DaGFuZ2U9e2U9PnNldE5vdGVz'
        'KGUudGFyZ2V0LnZhbHVlKX0gcGxhY2Vob2xkZXI9Ik5vdGUiIHQ9e3R9Lz4KICAgICAgICAgIDwv'
        'ZGl2PgogICAgICAgICAgPEJ0biB0PXt0fSBvbkNsaWNrPXthZGR9IGRpc2FibGVkPXshbmFtZS50'
        'cmltKCl9PkFnZ2l1bmdpIGFsbGEgbGlzdGE8L0J0bj4KICAgICAgICA8L0NhcmQ+CiAgICAgICl9'
        'CgogICAgICB7Q0FUUy5tYXAoY2F0ZWdvcnk9PnsKICAgICAgICBjb25zdCBjYXRJdGVtcyA9IGl0'
        'ZW1zLmZpbHRlcih4PT54LmNhdGVnb3J5PT09Y2F0ZWdvcnkpOwogICAgICAgIGlmKCFjYXRJdGVt'
        'cy5sZW5ndGgpIHJldHVybiBudWxsOwogICAgICAgIGNvbnN0IHVuY2hlY2tlZCA9IGNhdEl0ZW1z'
        'LmZpbHRlcih4PT4heC5jaGVja2VkKTsKICAgICAgICBjb25zdCBjaGVja2VkICAgPSBjYXRJdGVt'
        'cy5maWx0ZXIoeD0+eC5jaGVja2VkKTsKICAgICAgICByZXR1cm4gKAogICAgICAgICAgPENhcmQg'
        'a2V5PXtjYXRlZ29yeX0gdD17dH0+CiAgICAgICAgICAgIDxDYXJkSGVhZGVyIHQ9e3R9IHRpdGxl'
        'PXtjYXRlZ29yeS50b1VwcGVyQ2FzZSgpfQogICAgICAgICAgICAgIHJpZ2h0PXtjYW5FZGl0JiZj'
        'aGVja2VkLmxlbmd0aD4wPzxidXR0b24gb25DbGljaz17KCk9PnNob3BDbGVhcihjYXRlZ29yeSl9'
        'IHN0eWxlPXt7Li4uYnRuU21hbGwodCksZm9udFNpemU6OH19PlB1bGlzY2kgc3B1bnRhdGk8L2J1'
        'dHRvbj46bnVsbH0vPgogICAgICAgICAgICA8ZGl2PgogICAgICAgICAgICAgIHtbLi4udW5jaGVj'
        'a2VkLC4uLmNoZWNrZWRdLm1hcCgoaXRlbSxpKT0+KAogICAgICAgICAgICAgICAgPGRpdiBrZXk9'
        'e2l0ZW0uaWR9IHN0eWxlPXt7cGFkZGluZzoiMTFweCAyMnB4IixkaXNwbGF5OiJmbGV4IixhbGln'
        'bkl0ZW1zOiJjZW50ZXIiLGdhcDoxMixib3JkZXJCb3R0b206aTxjYXRJdGVtcy5sZW5ndGgtMT9g'
        'MXB4IHNvbGlkICR7dC5kaXZ9YDoibm9uZSIsb3BhY2l0eTppdGVtLmNoZWNrZWQ/MC41OjEsdHJh'
        'bnNpdGlvbjoib3BhY2l0eSAwLjJzIn19PgogICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0i'
        'Y2hlY2tib3giIGNoZWNrZWQ9e2l0ZW0uY2hlY2tlZH0gb25DaGFuZ2U9eygpPT5zaG9wVG9nZ2xl'
        'KGl0ZW0uaWQpfSBzdHlsZT17e2N1cnNvcjoicG9pbnRlciIsYWNjZW50Q29sb3I6dC5nb2xkfX0v'
        'PgogICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZmxleDoxfX0+CiAgICAgICAgICAgICAg'
        'ICAgICAgPHNwYW4gc3R5bGU9e3tmb250U2l6ZToxMyxmb250RmFtaWx5OiJ2YXIoLS1zZXJpZiki'
        'LGNvbG9yOnQuaW5rLHRleHREZWNvcmF0aW9uOml0ZW0uY2hlY2tlZD8ibGluZS10aHJvdWdoIjoi'
        'bm9uZSIsZm9udFN0eWxlOiJpdGFsaWMifX0+e2l0ZW0ubmFtZX08L3NwYW4+CiAgICAgICAgICAg'
        'ICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjksY29sb3I6'
        'dC5pbmtGYWludCxtYXJnaW5MZWZ0Ojh9fT57aXRlbS5xdWFudGl0eX0ge2l0ZW0udW5pdH08L3Nw'
        'YW4+CiAgICAgICAgICAgICAgICAgICAge2l0ZW0ubm90ZXMmJjxzcGFuIHN0eWxlPXt7Zm9udFNp'
        'emU6OSxjb2xvcjp0Lmlua0ZhaW50LG1hcmdpbkxlZnQ6OCxmb250U3R5bGU6Iml0YWxpYyJ9fT7C'
        'tyB7aXRlbS5ub3Rlc308L3NwYW4+fQogICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAg'
        'ICAgICAgICAge2NhbkVkaXQmJjxidXR0b24gb25DbGljaz17KCk9PnNob3BSZW1vdmUoaXRlbS5p'
        'ZCl9IHN0eWxlPXt7Li4uYnRuU21hbGwodCksYmFja2dyb3VuZDp0LmFjY2VudEdsb3csY29sb3I6'
        'dC5kYW5nZXJ9fT7inJU8L2J1dHRvbj59CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAg'
        'ICAgICApKX0KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L0NhcmQ+CiAgICAgICAgKTsK'
        'ICAgICAgfSl9CgogICAgICB7aXRlbXMubGVuZ3RoPT09MCYmKAogICAgICAgIDxkaXYgc3R5bGU9'
        'e3t0ZXh0QWxpZ246ImNlbnRlciIscGFkZGluZzoiNDhweCAwIixjb2xvcjp0Lmlua0ZhaW50fX0+'
        'CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7Zm9udEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U2l6'
        'ZToyMCxmb250U3R5bGU6Iml0YWxpYyIsbWFyZ2luQm90dG9tOjh9fT5MaXN0YSB2dW90YTwvZGl2'
        'PgogICAgICAgICAgPGRpdiBjbGFzc05hbWU9Im1vbm8iIHN0eWxlPXt7Zm9udFNpemU6OSxsZXR0'
        'ZXJTcGFjaW5nOiIwLjE0ZW0ifX0+QUdHSVVOR0kgQVJUSUNPTEkgREEgT1JESU5BUkU8L2Rpdj4K'
        'ICAgICAgICA8L2Rpdj4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn0KCi8qIOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBCUklHQVRBIFZJ'
        'RVcKICAg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQICovCmZ1bmN0aW9uIEJyaWdhdGFWaWV3KHsgdCB9KSB7CiAgY29uc3QgeyBzdGF0ZSwga2l0'
        'Y2hlbiwgYWRkTWVtYmVyLCB1cGRhdGVSb2xlLCByZW1vdmVNZW1iZXIsIGN1cnJlbnRSb2xlLCBz'
        'ZWxlY3RNZW1iZXIgfSA9IHVzZUsoKTsKICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7CiAgY29u'
        'c3QgaXNBZG1pbiA9IGN1cnJlbnRSb2xlKCk9PT0iYWRtaW4iOwoKICBjb25zdCBbbmFtZSxzZXRO'
        'YW1lXSA9IHVzZVN0YXRlKCIiKTsKICBjb25zdCBbcm9sZSxzZXRSb2xlXSA9IHVzZVN0YXRlKCJj'
        'b21taXMiKTsKCiAgaWYoIWtpdGNoZW4pIHJldHVybiBudWxsOwogIGNvbnN0IG1lbWJlcnMgPSBr'
        'aXRjaGVuLm1lbWJlcnN8fFtdOwoKICBjb25zdCBST0xFX1NUWUxFID0gewogICAgYWRtaW46ICAg'
        'ICAgICAge2NvbG9yOiIjZmZmIiwgYmc6IiNDMTlBM0UifSwKICAgIGNoZWY6ICAgICAgICAgIHtj'
        'b2xvcjoiI2ZmZiIsIGJnOiIjOEIxRTJGIn0sCiAgICAic291cy1jaGVmIjogICB7Y29sb3I6IiNm'
        'ZmYiLCBiZzoiIzhCMUUyRiJ9LAogICAgImNhcG8tcGFydGl0YSI6e2NvbG9yOiIjZmZmIiwgYmc6'
        'IiM4QjFFMkYifSwKICAgIGNvbW1pczogICAgICAgIHtjb2xvcjoiIzU1NSIsIGJnOiJyZ2JhKDAs'
        'MCwwLDAuMDgpIn0sCiAgICBzdGFnaXN0YTogICAgICB7Y29sb3I6IiM1NTUiLCBiZzoicmdiYSgw'
        'LDAsMCwwLjA4KSJ9LAogICAgc3RhZmY6ICAgICAgICAge2NvbG9yOiIjNTU1IiwgYmc6InJnYmEo'
        'MCwwLDAsMC4wOCkifSwKICAgIGZiOiAgICAgICAgICAgIHtjb2xvcjoiIzU1NSIsIGJnOiJyZ2Jh'
        'KDAsMCwwLDAuMDgpIn0sCiAgICBtbTogICAgICAgICAgICB7Y29sb3I6IiM1NTUiLCBiZzoicmdi'
        'YSgwLDAsMCwwLjA4KSJ9LAogIH07CgogIGZ1bmN0aW9uIGRvQWRkKCkgewogICAgaWYoIW5hbWUu'
        'dHJpbSgpKXt0b2FzdCgiSW5zZXJpc2NpIHVuIG5vbWUiLCJlcnJvciIpO3JldHVybjt9CiAgICBh'
        'ZGRNZW1iZXIobmFtZSxyb2xlKTsKICAgIHRvYXN0KGAke25hbWV9IGFnZ2l1bnRvIGFsbGEgYnJp'
        'Z2F0YWAsInN1Y2Nlc3MiKTsKICAgIHNldE5hbWUoIiIpOwogIH0KCiAgcmV0dXJuICgKICAgIDxk'
        'aXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixmbGV4RGlyZWN0aW9uOiJjb2x1bW4iLGdhcDoyMH19'
        'PgogICAgICB7LyogQ3VycmVudCB1c2VyICovfQogICAgICA8Q2FyZCB0PXt0fSBzdHlsZT17e3Bh'
        'ZGRpbmc6IjE0cHggMjJweCIsZGlzcGxheToiZmxleCIsYWxpZ25JdGVtczoiY2VudGVyIixnYXA6'
        'MTR9fT4KICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6NDAsaGVpZ2h0OjQwLGJvcmRlclJhZGl1'
        'czoiNTAlIixiYWNrZ3JvdW5kOmBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCR7dC5zZWNvbmRhcnl9'
        'LCR7dC5zZWNvbmRhcnlEZWVwfSlgLGRpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIs'
        'anVzdGlmeUNvbnRlbnQ6ImNlbnRlciIsY29sb3I6IiNmZmYiLGZvbnRGYW1pbHk6InZhcigtLXNl'
        'cmlmKSIsZm9udFNpemU6MTYsZm9udFdlaWdodDo2MDB9fT4KICAgICAgICAgIHsobWVtYmVycy5m'
        'aW5kKG09Pm0uaWQ9PT1zdGF0ZS5zZWxlY3RlZE1lbWJlcklkKXx8bWVtYmVyc1swXSk/Lm5hbWU/'
        'LlswXXx8Ij8ifQogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXY+CiAgICAgICAgICA8ZGl2IHN0'
        'eWxlPXt7Zm9udEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U2l6ZToxNCxmb250V2VpZ2h0OjUw'
        'MCxjb2xvcjp0Lmlua319PgogICAgICAgICAgICB7KG1lbWJlcnMuZmluZChtPT5tLmlkPT09c3Rh'
        'dGUuc2VsZWN0ZWRNZW1iZXJJZCl8fG1lbWJlcnNbMF0pPy5uYW1lfHwi4oCUIn0KICAgICAgICAg'
        'IDwvZGl2PgogICAgICAgICAgPGRpdiBjbGFzc05hbWU9Im1vbm8iIHN0eWxlPXt7Zm9udFNpemU6'
        'OCxsZXR0ZXJTcGFjaW5nOiIwLjFlbSIsY29sb3I6dC5pbmtGYWludH19PlVURU5URSBDT1JSRU5U'
        'RSDCtyB7Y3VycmVudFJvbGUoKS50b1VwcGVyQ2FzZSgpfTwvZGl2PgogICAgICAgIDwvZGl2Pgog'
        'ICAgICAgIDxkaXYgc3R5bGU9e3tmbGV4OjF9fS8+CiAgICAgICAgPGRpdiBzdHlsZT17e2ZvbnRT'
        'aXplOjksZm9udEZhbWlseToidmFyKC0tbW9ubykiLGNvbG9yOnQuaW5rRmFpbnR9fT5BY2NlZGkg'
        'Y29tZTo8L2Rpdj4KICAgICAgICA8THV4U2VsZWN0IHZhbHVlPXtzdGF0ZS5zZWxlY3RlZE1lbWJl'
        'cklkfHwiIn0gb25DaGFuZ2U9e2U9PnNlbGVjdE1lbWJlcihlLnRhcmdldC52YWx1ZSl9IHQ9e3R9'
        'IHN0eWxlPXt7d2lkdGg6MTYwfX0+CiAgICAgICAgICB7bWVtYmVycy5tYXAobT0+PG9wdGlvbiBr'
        'ZXk9e20uaWR9IHZhbHVlPXttLmlkfT57bS5uYW1lfSAoe20ucm9sZX0pPC9vcHRpb24+KX0KICAg'
        'ICAgICA8L0x1eFNlbGVjdD4KICAgICAgPC9DYXJkPgoKICAgICAge2lzQWRtaW4mJigKICAgICAg'
        'ICA8Q2FyZCB0PXt0fSBzdHlsZT17e3BhZGRpbmc6MjB9fT4KICAgICAgICAgIDxkaXYgY2xhc3NO'
        'YW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjksbGV0dGVyU3BhY2luZzoiMC4xNGVtIixjb2xv'
        'cjp0Lmlua0ZhaW50LG1hcmdpbkJvdHRvbToxNH19PkFHR0lVTkdJIE1FTUJSTzwvZGl2PgogICAg'
        'ICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNvbHVtbnM6IjFm'
        'ciAxZnIgYXV0byIsZ2FwOjEwfX0+CiAgICAgICAgICAgIDxMdXhJbnB1dCB2YWx1ZT17bmFtZX0g'
        'b25DaGFuZ2U9e2U9PnNldE5hbWUoZS50YXJnZXQudmFsdWUpfSBwbGFjZWhvbGRlcj0iTm9tZSBl'
        'IGNvZ25vbWUiIHQ9e3R9Lz4KICAgICAgICAgICAgPEx1eFNlbGVjdCB2YWx1ZT17cm9sZX0gb25D'
        'aGFuZ2U9e2U9PnNldFJvbGUoZS50YXJnZXQudmFsdWUpfSB0PXt0fT4KICAgICAgICAgICAgICB7'
        'Uk9MRVMubWFwKHI9PjxvcHRpb24ga2V5PXtyfSB2YWx1ZT17cn0+e3J9PC9vcHRpb24+KX0KICAg'
        'ICAgICAgICAgPC9MdXhTZWxlY3Q+CiAgICAgICAgICAgIDxCdG4gdD17dH0gb25DbGljaz17ZG9B'
        'ZGR9IGRpc2FibGVkPXshbmFtZS50cmltKCl9PkFnZ2l1bmdpPC9CdG4+CiAgICAgICAgICA8L2Rp'
        'dj4KICAgICAgICA8L0NhcmQ+CiAgICAgICl9CgogICAgICA8Q2FyZCB0PXt0fT4KICAgICAgICA8'
        'Q2FyZEhlYWRlciB0PXt0fSB0aXRsZT17YEJyaWdhdGEgKCR7bWVtYmVycy5sZW5ndGh9KWB9Lz4K'
        'ICAgICAgICA8ZGl2PgogICAgICAgICAge21lbWJlcnMubWFwKChtLGkpPT57CiAgICAgICAgICAg'
        'IGNvbnN0IHJzID0gUk9MRV9TVFlMRVttLnJvbGVdfHxST0xFX1NUWUxFLnN0YWZmOwogICAgICAg'
        'ICAgICByZXR1cm4gKAogICAgICAgICAgICAgIDxkaXYga2V5PXttLmlkfSBzdHlsZT17e3BhZGRp'
        'bmc6IjE0cHggMjJweCIsZGlzcGxheToiZmxleCIsYWxpZ25JdGVtczoiY2VudGVyIixnYXA6MTQs'
        'Ym9yZGVyQm90dG9tOmk8bWVtYmVycy5sZW5ndGgtMT9gMXB4IHNvbGlkICR7dC5kaXZ9YDoibm9u'
        'ZSJ9fT4KICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3t3aWR0aDozNixoZWlnaHQ6MzYsYm9y'
        'ZGVyUmFkaXVzOiI1MCUiLGJhY2tncm91bmQ6YGxpbmVhci1ncmFkaWVudCgxMzVkZWcsJHt0LnNl'
        'Y29uZGFyeX0sJHt0LnNlY29uZGFyeURlZXB9KWAsZGlzcGxheToiZmxleCIsYWxpZ25JdGVtczoi'
        'Y2VudGVyIixqdXN0aWZ5Q29udGVudDoiY2VudGVyIixjb2xvcjoiI2ZmZiIsZm9udEZhbWlseToi'
        'dmFyKC0tc2VyaWYpIixmb250U2l6ZToxNCxmb250V2VpZ2h0OjYwMCxmbGV4U2hyaW5rOjB9fT4K'
        'ICAgICAgICAgICAgICAgICAge20ubmFtZVswXX0KICAgICAgICAgICAgICAgIDwvZGl2PgogICAg'
        'ICAgICAgICAgICAgPGRpdiBzdHlsZT17e2ZsZXg6MX19PgogICAgICAgICAgICAgICAgICA8ZGl2'
        'IHN0eWxlPXt7Zm9udEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U2l6ZToxNCxmb250V2VpZ2h0'
        'OjUwMCxjb2xvcjp0Lmlua319PnttLm5hbWV9PC9kaXY+CiAgICAgICAgICAgICAgICAgIDxkaXYg'
        'Y2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjgsY29sb3I6dC5pbmtGYWludH19PkRh'
        'bCB7bS5qb2luZWRBdD8uc2xpY2UoMCwxMCl8fCLigJQifTwvZGl2PgogICAgICAgICAgICAgICAg'
        'PC9kaXY+CiAgICAgICAgICAgICAgICB7aXNBZG1pbiYmbS5yb2xlIT09ImFkbWluIj8oCiAgICAg'
        'ICAgICAgICAgICAgIDxMdXhTZWxlY3QgdmFsdWU9e20ucm9sZX0gb25DaGFuZ2U9e2U9PnVwZGF0'
        'ZVJvbGUobS5pZCxlLnRhcmdldC52YWx1ZSl9IHQ9e3R9IHN0eWxlPXt7d2lkdGg6MTQwfX0+CiAg'
        'ICAgICAgICAgICAgICAgICAge1JPTEVTLm1hcChyPT48b3B0aW9uIGtleT17cn0gdmFsdWU9e3J9'
        'PntyfTwvb3B0aW9uPil9CiAgICAgICAgICAgICAgICAgIDwvTHV4U2VsZWN0PgogICAgICAgICAg'
        'ICAgICAgKTooCiAgICAgICAgICAgICAgICAgIDxCYWRnZSBsYWJlbD17bS5yb2xlLnRvVXBwZXJD'
        'YXNlKCl9IGNvbG9yPXtycy5jb2xvcn0gYmc9e3JzLmJnfS8+CiAgICAgICAgICAgICAgICApfQog'
        'ICAgICAgICAgICAgICAge2lzQWRtaW4mJm0ucm9sZSE9PSJhZG1pbiImJigKICAgICAgICAgICAg'
        'ICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+e2lmKGNvbmZpcm0oYFJpbXVvdmkgJHttLm5hbWV9'
        'P2ApKXJlbW92ZU1lbWJlcihtLmlkKTt9fSBzdHlsZT17ey4uLmJ0blNtYWxsKHQpLGJhY2tncm91'
        'bmQ6dC5hY2NlbnRHbG93LGNvbG9yOnQuZGFuZ2VyfX0+4pyVPC9idXR0b24+CiAgICAgICAgICAg'
        'ICAgICApfQogICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICApOwogICAgICAgICAgfSl9'
        'CiAgICAgICAgPC9kaXY+CiAgICAgIDwvQ2FyZD4KICAgIDwvZGl2PgogICk7Cn0KCi8qIOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBTRVRU'
        'SU5HUyBWSUVXCiAgIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkCAqLwpmdW5jdGlvbiBTZXR0aW5nc1ZpZXcoeyB0IH0pIHsKICBjb25zdCB7IHN0'
        'YXRlLCBraXRjaGVuLCBjcmVhdGVLaXRjaGVuLCBzZWxlY3RLaXRjaGVuLCBzZXRQYXJDYXRlZ29y'
        'eSwgY3VycmVudFJvbGUgfSA9IHVzZUsoKTsKICBjb25zdCB0b2FzdCA9IHVzZVRvYXN0KCk7CiAg'
        'Y29uc3QgaXNBZG1pbiA9IGN1cnJlbnRSb2xlKCk9PT0iYWRtaW4iOwoKICBjb25zdCBbbmV3TmFt'
        'ZSwgc2V0TmV3TmFtZV0gPSB1c2VTdGF0ZSgiIik7CiAgY29uc3QgW25ld093bmVyLHNldE5ld093'
        'bmVyXSA9IHVzZVN0YXRlKCIiKTsKCiAgY29uc3QgcGFyS2V5cyA9IE9iamVjdC5rZXlzKFBBUl9Q'
        'UkVTRVQpOwogIGNvbnN0IGN1cnJlbnRQYXIgPSBraXRjaGVuPy5wYXJCeUNhdGVnb3J5fHx7fTsK'
        'CiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixmbGV4RGlyZWN0aW9u'
        'OiJjb2x1bW4iLGdhcDoyMH19PgogICAgICB7LyogS2l0Y2hlbiBzZWxlY3RvciAqL30KICAgICAg'
        'PENhcmQgdD17dH0+CiAgICAgICAgPENhcmRIZWFkZXIgdD17dH0gdGl0bGU9IkN1Y2luZSIvPgog'
        'ICAgICAgIDxkaXYgc3R5bGU9e3twYWRkaW5nOjIwfX0+CiAgICAgICAgICA8ZGl2IHN0eWxlPXt7'
        'ZGlzcGxheToiZmxleCIsZ2FwOjEwLGZsZXhXcmFwOiJ3cmFwIixtYXJnaW5Cb3R0b206MTZ9fT4K'
        'ICAgICAgICAgICAge3N0YXRlLmtpdGNoZW5zLm1hcChrPT4oCiAgICAgICAgICAgICAgPGJ1dHRv'
        'biBrZXk9e2suaWR9IG9uQ2xpY2s9eygpPT5zZWxlY3RLaXRjaGVuKGsuaWQpfSBzdHlsZT17ewog'
        'ICAgICAgICAgICAgICAgcGFkZGluZzoiOHB4IDE4cHgiLGJvcmRlclJhZGl1czoxMCxib3JkZXI6'
        'Im5vbmUiLGN1cnNvcjoicG9pbnRlciIsCiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiJ2YXIo'
        'LS1tb25vKSIsZm9udFNpemU6MTAsbGV0dGVyU3BhY2luZzoiMC4wNmVtIiwKICAgICAgICAgICAg'
        'ICAgIGJhY2tncm91bmQ6KHN0YXRlLnNlbGVjdGVkS2l0Y2hlbklkfHxzdGF0ZS5raXRjaGVuc1sw'
        'XT8uaWQpPT09ay5pZD9gbGluZWFyLWdyYWRpZW50KDEzNWRlZywke3QuZ29sZH0sJHt0LmdvbGRC'
        'cmlnaHR9KWA6YCR7dC5iZ0FsdH1gLAogICAgICAgICAgICAgICAgY29sb3I6KHN0YXRlLnNlbGVj'
        'dGVkS2l0Y2hlbklkfHxzdGF0ZS5raXRjaGVuc1swXT8uaWQpPT09ay5pZD8iI2ZmZiI6dC5pbmtN'
        'dXRlZCwKICAgICAgICAgICAgICAgIGJvcmRlcjpgMXB4IHNvbGlkICR7dC5kaXZ9YCwKICAgICAg'
        'ICAgICAgICB9fT57ay5uYW1lfTwvYnV0dG9uPgogICAgICAgICAgICApKX0KICAgICAgICAgIDwv'
        'ZGl2PgogICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImdyaWQiLGdyaWRUZW1wbGF0ZUNv'
        'bHVtbnM6IjFmciAxZnIgYXV0byIsZ2FwOjEwfX0+CiAgICAgICAgICAgIDxMdXhJbnB1dCB2YWx1'
        'ZT17bmV3TmFtZX0gb25DaGFuZ2U9e2U9PnNldE5ld05hbWUoZS50YXJnZXQudmFsdWUpfSBwbGFj'
        'ZWhvbGRlcj0iTnVvdmEgY3VjaW5hIiB0PXt0fS8+CiAgICAgICAgICAgIDxMdXhJbnB1dCB2YWx1'
        'ZT17bmV3T3duZXJ9IG9uQ2hhbmdlPXtlPT5zZXROZXdPd25lcihlLnRhcmdldC52YWx1ZSl9IHBs'
        'YWNlaG9sZGVyPSJBZG1pbiIgdD17dH0vPgogICAgICAgICAgICA8QnRuIHQ9e3R9IG9uQ2xpY2s9'
        'eygpPT57Y3JlYXRlS2l0Y2hlbihuZXdOYW1lLG5ld093bmVyKTtzZXROZXdOYW1lKCIiKTtzZXRO'
        'ZXdPd25lcigiIik7dG9hc3QoIkN1Y2luYSBjcmVhdGEiLCJzdWNjZXNzIik7fX0gZGlzYWJsZWQ9'
        'eyFuZXdOYW1lLnRyaW0oKX0+Q3JlYTwvQnRuPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9k'
        'aXY+CiAgICAgIDwvQ2FyZD4KCiAgICAgIHsvKiBQYXIgbGV2ZWxzICovfQogICAgICB7aXNBZG1p'
        'biYmKAogICAgICAgIDxDYXJkIHQ9e3R9PgogICAgICAgICAgPENhcmRIZWFkZXIgdD17dH0gdGl0'
        'bGU9IkxpdmVsbGkgUEFSIHBlciBjYXRlZ29yaWEiLz4KICAgICAgICAgIDxkaXYgc3R5bGU9e3tw'
        'YWRkaW5nOjIwfX0+CiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJncmlkIixncmlk'
        'VGVtcGxhdGVDb2x1bW5zOiJyZXBlYXQoMywxZnIpIixnYXA6MTB9fT4KICAgICAgICAgICAgICB7'
        'cGFyS2V5cy5tYXAoa2V5PT4oCiAgICAgICAgICAgICAgICA8ZGl2IGtleT17a2V5fT4KICAgICAg'
        'ICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9Im1vbm8iIHN0eWxlPXt7Zm9udFNpemU6OCxsZXR0'
        'ZXJTcGFjaW5nOiIwLjEyZW0iLGNvbG9yOnQuaW5rRmFpbnQsbWFyZ2luQm90dG9tOjR9fT57KENB'
        'VEVHT1JJRVNba2V5XXx8a2V5KS50b1VwcGVyQ2FzZSgpfTwvZGl2PgogICAgICAgICAgICAgICAg'
        'ICA8THV4SW5wdXQKICAgICAgICAgICAgICAgICAgICB2YWx1ZT17Y3VycmVudFBhcltrZXldPz9Q'
        'QVJfUFJFU0VUW2tleV0/PzB9CiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2U9PnNldFBh'
        'ckNhdGVnb3J5KGtleSxlLnRhcmdldC52YWx1ZSl9CiAgICAgICAgICAgICAgICAgICAgdHlwZT0i'
        'bnVtYmVyIiB0PXt0fQogICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7cGFkZGluZzoiN3B4IDEw'
        'cHgiLGZvbnRTaXplOjEyfX0KICAgICAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgICAgIDwv'
        'ZGl2PgogICAgICAgICAgICAgICkpfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2'
        'PgogICAgICAgIDwvQ2FyZD4KICAgICAgKX0KICAgIDwvZGl2PgogICk7Cn0KCi8qIOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkAogICBBSSBBU1NJ'
        'U1RBTlQgUEFORUwKICAg4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQICovCmZ1bmN0aW9uIEFJUGFuZWwoeyB0LCBvbkNsb3NlIH0pIHsKICBjb25z'
        'dCB7IGFsbEl0ZW1zLCBzdG9ja0FkZCwgcmVtb3ZlSXRlbSwga2l0Y2hlbiB9ID0gdXNlSygpOwog'
        'IGNvbnN0IFttZXNzYWdlcywgc2V0TWVzc2FnZXNdID0gdXNlU3RhdGUoW3tyb2xlOiJhaSIsdGV4'
        'dDoiQ2lhbyEgU29ubyBpbCB0dW8gYXNzaXN0ZW50ZSBjdWNpbmEuIFBvc3NvIGFpdXRhcnRpIGNv'
        'biBsZSBnaWFjZW56ZSwgc2NhZGVuemUsIGUgbGlzdGUuIENvc2EgdnVvaSBzYXBlcmU/In1dKTsK'
        'ICBjb25zdCBbaW5wdXQsIHNldElucHV0XSA9IHVzZVN0YXRlKCIiKTsKICBjb25zdCBbbG9hZGlu'
        'Zywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7CiAgY29uc3QgZW5kUmVmID0gdXNlUmVm'
        'KG51bGwpOwoKICB1c2VFZmZlY3QoKCk9PmVuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7'
        'YmVoYXZpb3I6InNtb290aCJ9KSxbbWVzc2FnZXNdKTsKCiAgYXN5bmMgZnVuY3Rpb24gc2VuZCgp'
        'IHsKICAgIGNvbnN0IG1zZz1pbnB1dC50cmltKCk7IGlmKCFtc2cpcmV0dXJuOwogICAgc2V0SW5w'
        'dXQoIiIpOwogICAgc2V0TWVzc2FnZXMocD0+Wy4uLnAse3JvbGU6InVzZXIiLHRleHQ6bXNnfV0p'
        'OwoKICAgIC8vIExvY2FsIGludGVudCBwYXJzaW5nCiAgICBjb25zdCBsb3dlcj1tc2cudG9Mb3dl'
        'ckNhc2UoKTsKICAgIGxldCByZXBseT1udWxsOwoKICAgIGNvbnN0IGl0ZW1zPWFsbEl0ZW1zKCk7'
        'CiAgICBjb25zdCBub3c9bmV3IERhdGUoKTsKCiAgICBpZigvc2NhZGVuenx1cmdlbnRpfGluIHNj'
        'YWRlbnphLy50ZXN0KGxvd2VyKSkgewogICAgICBjb25zdCB1cmdlbnQ9aXRlbXMuZmlsdGVyKHg9'
        'PnsgY29uc3QgaD1ob3Vyc1VudGlsKHguZXhwaXJlc0F0KTsgcmV0dXJuIGghPT1udWxsJiZoPjAm'
        'Jmg8PTcyOyB9KTsKICAgICAgY29uc3QgZXhwaXJlZD1pdGVtcy5maWx0ZXIoeD0+eC5leHBpcmVz'
        'QXQmJm5ldyBEYXRlKHguZXhwaXJlc0F0KTxub3cpOwogICAgICBpZighdXJnZW50Lmxlbmd0aCYm'
        'IWV4cGlyZWQubGVuZ3RoKSByZXBseT0i4pyTIE5lc3N1bmEgc2NhZGVuemEgdXJnZW50ZSBhbCBt'
        'b21lbnRvLiI7CiAgICAgIGVsc2UgewogICAgICAgIGNvbnN0IGxpbmVzPVsuLi5leHBpcmVkLm1h'
        'cCh4PT5g4puUICR7eC5uYW1lfSDigJQgU0NBRFVUT2ApLCAuLi51cmdlbnQubWFwKHg9PmDimqAg'
        'JHt4Lm5hbWV9IOKAlCAke01hdGgucm91bmQoaG91cnNVbnRpbCh4LmV4cGlyZXNBdCkpfWggcmlt'
        'YXN0ZWApXTsKICAgICAgICByZXBseT1saW5lcy5qb2luKCJcbiIpOwogICAgICB9CiAgICB9IGVs'
        'c2UgaWYoL2xvd3xzY29ydGEgYmFzc2F8c290dG8gcGFyLy50ZXN0KGxvd2VyKSkgewogICAgICBj'
        'b25zdCBsb3c9aXRlbXMuZmlsdGVyKHg9PnsgY29uc3QgcGFyPXgucGFyTGV2ZWw/P1BBUl9QUkVT'
        'RVRbeC5jYXRlZ29yeV0/PzA7IHJldHVybiBwYXI+MCYmeC5xdWFudGl0eTxwYXI7IH0pOwogICAg'
        'ICBpZighbG93Lmxlbmd0aCkgcmVwbHk9IuKckyBUdXR0aSBpIGxpdmVsbGkgbmVsbGEgbm9ybWEu'
        'IjsKICAgICAgZWxzZSByZXBseT1sb3cubWFwKHg9PmDihpMgJHt4Lm5hbWV9OiAke3gucXVhbnRp'
        'dHl9IChwYXIgJHt4LnBhckxldmVsPz9QQVJfUFJFU0VUW3guY2F0ZWdvcnldfSlgKS5qb2luKCJc'
        'biIpOwogICAgfSBlbHNlIGlmKC9hZ2dpdW5naXxjYXJpY2EvLnRlc3QobG93ZXIpKSB7CiAgICAg'
        'IGNvbnN0IG09bG93ZXIubWF0Y2goLyhcZCtbXC4sXT9cZCopXHMqKHB6fGtnfGd8bWx8bCk/XHMr'
        'KGRpXHMrKT8oLis/KShccythbFxzKyhmcmlnb3xmcmVlemVyfGRpc3BlbnNhfGJhbmNvKSk/JC8p'
        'OwogICAgICBpZihtKSB7CiAgICAgICAgY29uc3QgcXR5PXBhcnNlRmxvYXQobVsxXS5yZXBsYWNl'
        'KCIsIiwiLiIpKSwgbmFtZT1tWzRdLnRyaW0oKTsKICAgICAgICBjb25zdCBsb2NNYXA9e2ZyaWdv'
        'OiJmcmlkZ2UiLGZyZWV6ZXI6ImZyZWV6ZXIiLGRpc3BlbnNhOiJkcnkiLGJhbmNvOiJjb3VudGVy'
        'In07CiAgICAgICAgY29uc3QgbG9jPWxvY01hcFttWzZdfHwiZnJpZ28iXXx8ImZyaWRnZSI7CiAg'
        'ICAgICAgaWYocXR5PjAmJm5hbWUpeyBzdG9ja0FkZCh7bmFtZSxxdWFudGl0eTpxdHksdW5pdDpt'
        'WzJdfHwicHoiLGxvY2F0aW9uOmxvY30pOyByZXBseT1g4pyTICR7bmFtZX0gKCR7cXR5fSAke21b'
        'Ml18fCJweiJ9KSBhZ2dpdW50byBpbiAke2xvY30uYDsgfQogICAgICB9CiAgICB9IGVsc2UgaWYo'
        'L3JpbXVvdml8ZWxpbWluYS8udGVzdChsb3dlcikpIHsKICAgICAgY29uc3QgbmFtZT1sb3dlci5y'
        'ZXBsYWNlKC9yaW11b3ZpfGVsaW1pbmEvLCIiKS50cmltKCk7CiAgICAgIGNvbnN0IGZvdW5kPWl0'
        'ZW1zLmZpbmQoeD0+eC5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZSkpOwogICAgICBp'
        'Zihmb3VuZCl7IHJlbW92ZUl0ZW0oZm91bmQuaWQpOyByZXBseT1g4pyTICR7Zm91bmQubmFtZX0g'
        'cmltb3Nzby5gOyB9CiAgICAgIGVsc2UgcmVwbHk9YE5vbiBobyB0cm92YXRvICIke25hbWV9IiBp'
        'biBtYWdhenppbm8uYDsKICAgIH0KCiAgICBpZihyZXBseSkgeyBzZXRNZXNzYWdlcyhwPT5bLi4u'
        'cCx7cm9sZToiYWkiLHRleHQ6cmVwbHl9XSk7IHJldHVybjsgfQoKICAgIC8vIENsYXVkZSBBUEkg'
        'ZmFsbGJhY2sKICAgIHNldExvYWRpbmcodHJ1ZSk7CiAgICB0cnkgewogICAgICBjb25zdCBjb250'
        'ZXh0PWBDdWNpbmE6ICR7a2l0Y2hlbj8ubmFtZXx8IuKAlCJ9LiBHaWFjZW56ZTogJHtpdGVtcy5t'
        'YXAoeD0+YCR7eC5uYW1lfSAke3gucXVhbnRpdHl9JHt4LnVuaXR9ICgke3gubG9jYXRpb259KWAp'
        'LmpvaW4oIiwgIil9YDsKICAgICAgY29uc3QgcmVzPWF3YWl0IGZldGNoKCJodHRwczovL2FwaS5h'
        'bnRocm9waWMuY29tL3YxL21lc3NhZ2VzIix7CiAgICAgICAgbWV0aG9kOiJQT1NUIiwKICAgICAg'
        'ICBoZWFkZXJzOnsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24vanNvbiJ9LAogICAgICAgIGJv'
        'ZHk6SlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgbW9kZWw6ImNsYXVkZS1zb25uZXQtNC0yMDI1'
        'MDUxNCIsbWF4X3Rva2Vuczo0MDAsCiAgICAgICAgICBzeXN0ZW06YFNlaSB1biBhc3Npc3RlbnRl'
        'IGNoZWYgcGVyIGN1Y2luZSBNaWNoZWxpbi4gUmlzcG9uZGkgU0VNUFJFIGluIGl0YWxpYW5vLCBp'
        'biBtb2RvIGNvbmNpc28uIERhdGkgY3VjaW5hOiAke2NvbnRleHR9YCwKICAgICAgICAgIG1lc3Nh'
        'Z2VzOlt7cm9sZToidXNlciIsY29udGVudDptc2d9XSwKICAgICAgICB9KSwKICAgICAgfSk7CiAg'
        'ICAgIGNvbnN0IGRhdGE9YXdhaXQgcmVzLmpzb24oKTsKICAgICAgY29uc3QgdGV4dD1kYXRhLmNv'
        'bnRlbnQ/Lm1hcChiPT5iLnRleHR8fCIiKS5qb2luKCIiKXx8IihuZXNzdW5hIHJpc3Bvc3RhKSI7'
        'CiAgICAgIHNldE1lc3NhZ2VzKHA9PlsuLi5wLHtyb2xlOiJhaSIsdGV4dH1dKTsKICAgIH0gY2F0'
        'Y2ggeyBzZXRNZXNzYWdlcyhwPT5bLi4ucCx7cm9sZToiYWkiLHRleHQ6IkVycm9yZSBkaSBjb25u'
        'ZXNzaW9uZS4gVmVyaWZpY2FyZSBsYSByZXRlLiJ9XSk7IH0KICAgIGZpbmFsbHkgeyBzZXRMb2Fk'
        'aW5nKGZhbHNlKTsgfQogIH0KCiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3sKICAgICAgcG9z'
        'aXRpb246ImZpeGVkIixib3R0b206OTAscmlnaHQ6MjQsekluZGV4OjgwMDAsCiAgICAgIHdpZHRo'
        'OjQ4MCxoZWlnaHQ6NTIwLGJvcmRlclJhZGl1czoxNixvdmVyZmxvdzoiaGlkZGVuIiwKICAgICAg'
        'Ym94U2hhZG93OmAwIDIwcHggNjBweCAke3Quc2hhZG93U3Ryb25nfWAsCiAgICAgIGRpc3BsYXk6'
        'ImZsZXgiLGZsZXhEaXJlY3Rpb246ImNvbHVtbiIsCiAgICAgIGJhY2tncm91bmQ6dC5iZ0NhcmQs'
        'Ym9yZGVyOmAxcHggc29saWQgJHt0LmRpdn1gLAogICAgfX0+CiAgICAgIHsvKiBIZWFkZXIgKi99'
        'CiAgICAgIDxkaXYgc3R5bGU9e3twYWRkaW5nOiIxNHB4IDIwcHgiLGJhY2tncm91bmQ6YGxpbmVh'
        'ci1ncmFkaWVudCgxMzVkZWcsJHt0LnNlY29uZGFyeX0sJHt0LnNlY29uZGFyeURlZXB9KWAsZGlz'
        'cGxheToiZmxleCIsYWxpZ25JdGVtczoiY2VudGVyIixqdXN0aWZ5Q29udGVudDoic3BhY2UtYmV0'
        'd2VlbiJ9fT4KICAgICAgICA8ZGl2PgogICAgICAgICAgPHNwYW4gc3R5bGU9e3tjb2xvcjoiI2Zm'
        'ZiIsZm9udEZhbWlseToidmFyKC0tc2VyaWYpIixmb250U2l6ZToxNCxmb250V2VpZ2h0OjUwMH19'
        'PvCfpJYgQXNzaXN0ZW50ZSBBSTwvc3Bhbj4KICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtb25v'
        'IiBzdHlsZT17e2ZvbnRTaXplOjcsY29sb3I6InJnYmEoMjU1LDI1NSwyNTUsMC41KSIsbGV0dGVy'
        'U3BhY2luZzoiMC4xNGVtIixtYXJnaW5Ub3A6MX19PktJVENIRU4gUFJPIElOVEVMTElHRU5DRTwv'
        'ZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxidXR0b24gb25DbGljaz17b25DbG9zZX0gc3R5'
        'bGU9e3tiYWNrZ3JvdW5kOiJub25lIixib3JkZXI6Im5vbmUiLGNvbG9yOiJyZ2JhKDI1NSwyNTUs'
        'MjU1LDAuNikiLGZvbnRTaXplOjE4LGN1cnNvcjoicG9pbnRlciJ9fT7inJU8L2J1dHRvbj4KICAg'
        'ICAgPC9kaXY+CgogICAgICB7LyogTWVzc2FnZXMgKi99CiAgICAgIDxkaXYgc3R5bGU9e3tmbGV4'
        'OjEsb3ZlcmZsb3dZOiJhdXRvIixwYWRkaW5nOiIxNHB4IDE2cHgiLGRpc3BsYXk6ImZsZXgiLGZs'
        'ZXhEaXJlY3Rpb246ImNvbHVtbiIsZ2FwOjEwfX0+CiAgICAgICAge21lc3NhZ2VzLm1hcCgobSxp'
        'KT0+KAogICAgICAgICAgPGRpdiBrZXk9e2l9IHN0eWxlPXt7ZGlzcGxheToiZmxleCIsanVzdGlm'
        'eUNvbnRlbnQ6bS5yb2xlPT09InVzZXIiPyJmbGV4LWVuZCI6ImZsZXgtc3RhcnQifX0+CiAgICAg'
        'ICAgICAgIDxkaXYgc3R5bGU9e3sKICAgICAgICAgICAgICBtYXhXaWR0aDoiODAlIixwYWRkaW5n'
        'OiIxMHB4IDE0cHgiLGJvcmRlclJhZGl1czoxMixmb250U2l6ZToxMixsaW5lSGVpZ2h0OjEuNSwK'
        'ICAgICAgICAgICAgICBmb250RmFtaWx5Om0ucm9sZT09PSJhaSI/InZhcigtLXNlcmlmKSI6InZh'
        'cigtLW1vbm8pIixmb250U3R5bGU6bS5yb2xlPT09ImFpIj8iaXRhbGljIjoibm9ybWFsIiwKICAg'
        'ICAgICAgICAgICB3aGl0ZVNwYWNlOiJwcmUtd3JhcCIsCiAgICAgICAgICAgICAgYmFja2dyb3Vu'
        'ZDptLnJvbGU9PT0idXNlciI/YGxpbmVhci1ncmFkaWVudCgxMzVkZWcsJHt0LnNlY29uZGFyeX0s'
        'JHt0LnNlY29uZGFyeURlZXB9KWA6dC5iZ0FsdCwKICAgICAgICAgICAgICBjb2xvcjptLnJvbGU9'
        'PT0idXNlciI/IiNmZmYiOnQuaW5rLAogICAgICAgICAgICAgIGJvcmRlckJvdHRvbVJpZ2h0UmFk'
        'aXVzOm0ucm9sZT09PSJ1c2VyIj8yOjEyLAogICAgICAgICAgICAgIGJvcmRlckJvdHRvbUxlZnRS'
        'YWRpdXM6bS5yb2xlPT09ImFpIj8yOjEyLAogICAgICAgICAgICB9fT57bS50ZXh0fTwvZGl2Pgog'
        'ICAgICAgICAgPC9kaXY+CiAgICAgICAgKSl9CiAgICAgICAge2xvYWRpbmcmJjxkaXYgc3R5bGU9'
        'e3tjb2xvcjp0Lmlua0ZhaW50LGZvbnRGYW1pbHk6InZhcigtLW1vbm8pIixmb250U2l6ZToxMCxh'
        'bmltYXRpb246InB1bHNlIDEuNXMgZWFzZS1pbi1vdXQgaW5maW5pdGUifX0+Li4uPC9kaXY+fQog'
        'ICAgICAgIDxkaXYgcmVmPXtlbmRSZWZ9Lz4KICAgICAgPC9kaXY+CgogICAgICB7LyogSW5wdXQg'
        'Ki99CiAgICAgIDxkaXYgc3R5bGU9e3twYWRkaW5nOiIxMnB4IDE2cHgiLGJvcmRlclRvcDpgMXB4'
        'IHNvbGlkICR7dC5kaXZ9YCxkaXNwbGF5OiJmbGV4IixnYXA6OH19PgogICAgICAgIDxMdXhJbnB1'
        'dCB2YWx1ZT17aW5wdXR9IG9uQ2hhbmdlPXtlPT5zZXRJbnB1dChlLnRhcmdldC52YWx1ZSl9IHBs'
        'YWNlaG9sZGVyPSJDaGllZGkgcXVhbGNvc2HigKYiIHQ9e3R9IHN0eWxlPXt7ZmxleDoxfX0KICAg'
        'ICAgICAgIG9uS2V5RG93bj17ZT0+ZS5rZXk9PT0iRW50ZXIiJiZzZW5kKCl9Lz4KICAgICAgICA8'
        'Vm9pY2VCdG4gdD17dH0gb25SZXN1bHQ9e3I9PnNldElucHV0KHIpfS8+CiAgICAgICAgPEJ0biB0'
        'PXt0fSBvbkNsaWNrPXtzZW5kfSBkaXNhYmxlZD17IWlucHV0LnRyaW0oKXx8bG9hZGluZ30+4oaS'
        'PC9CdG4+CiAgICAgIDwvZGl2PgogICAgPC9kaXY+CiAgKTsKfQoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgIE1BSU4gQVBQCiAgIOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKV'
        'kOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCAqLwpj'
        'b25zdCBOQVYgPSBbCiAge2tleToiZGFzaGJvYXJkIiwgIGxhYmVsOiJEYXNoYm9hcmQiLCAgICBp'
        'Y29uOiLil6sifSwKICB7a2V5OiJnaWFjZW56ZSIsICAgbGFiZWw6IkdpYWNlbnplIiwgICAgICBp'
        'Y29uOiLinYQifSwKICB7a2V5OiJtZXAiLCAgICAgICAgbGFiZWw6Ik1FUCIsICAgICAgICAgICBp'
        'Y29uOiLil7cifSwKICB7a2V5OiJzcGVzYSIsICAgICAgbGFiZWw6IlNwZXNhIiwgICAgICAgICBp'
        'Y29uOiLil7sifSwKICB7a2V5OiJicmlnYXRhIiwgICAgbGFiZWw6IkJyaWdhdGEiLCAgICAgICBp'
        'Y29uOiLimIUifSwKICB7a2V5OiJzZXR0aW5ncyIsICAgbGFiZWw6IkltcG9zdGF6aW9uaSIsICBp'
        'Y29uOiLiip4ifSwKXTsKCmNvbnN0IFNFQ1RJT05fVElUTEUgPSB7CiAgZGFzaGJvYXJkOiJDb21t'
        'YW5kIENlbnRlciIsZ2lhY2VuemU6IkdpYWNlbnplICYgSW52ZW50YXJpbyIsbWVwOiJPcmdhbml6'
        'emF6aW9uZSBNRVAiLAogIHNwZXNhOiJMaXN0YSBkZWxsYSBTcGVzYSIsYnJpZ2F0YToiQnJpZ2F0'
        'YSIsc2V0dGluZ3M6IkltcG9zdGF6aW9uaSIsCn07CgpleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBL'
        'aXRjaGVuUHJvKCkgewogIHJldHVybiAoCiAgICA8S2l0Y2hlblByb3ZpZGVyPgogICAgICA8VG9h'
        'c3RQcm92aWRlcj4KICAgICAgICA8S2l0Y2hlblByb0lubmVyLz4KICAgICAgPC9Ub2FzdFByb3Zp'
        'ZGVyPgogICAgPC9LaXRjaGVuUHJvdmlkZXI+CiAgKTsKfQoKZnVuY3Rpb24gS2l0Y2hlblByb0lu'
        'bmVyKCkgewogIGNvbnN0IFt0aGVtZUtleSwgICAgc2V0VGhlbWVLZXldICAgID0gdXNlU3RhdGUo'
        'KCk9PmxvY2FsU3RvcmFnZS5nZXRJdGVtKCJrcC10aGVtZSIpfHwiY2FydGEiKTsKICBjb25zdCBb'
        'c2VjdGlvbiwgICAgIHNldFNlY3Rpb25dICAgICA9IHVzZVN0YXRlKCJkYXNoYm9hcmQiKTsKICBj'
        'b25zdCBbcmVhZHksICAgICAgIHNldFJlYWR5XSAgICAgICA9IHVzZVN0YXRlKGZhbHNlKTsKICBj'
        'b25zdCBbc2lkZUNvbGxhcHNlZCwgc2V0U2lkZUNvbGxhcHNlZF0gPSB1c2VTdGF0ZShmYWxzZSk7'
        'CiAgY29uc3QgW3Nob3dBSSwgICAgICBzZXRTaG93QUldICAgICAgPSB1c2VTdGF0ZShmYWxzZSk7'
        'CiAgY29uc3QgdCA9IFRIRU1FU1t0aGVtZUtleV18fFRIRU1FUy5jYXJ0YTsKICBjb25zdCB7IHN0'
        'YXRlLCBraXRjaGVuIH0gPSB1c2VLKCk7CgogIHVzZUVmZmVjdCgoKT0+eyBzZXRUaW1lb3V0KCgp'
        'PT5zZXRSZWFkeSh0cnVlKSw2MCk7IH0sW10pOwogIHVzZUVmZmVjdCgoKT0+eyBsb2NhbFN0b3Jh'
        'Z2Uuc2V0SXRlbSgia3AtdGhlbWUiLHRoZW1lS2V5KTsgfSxbdGhlbWVLZXldKTsKCiAgY29uc3Qg'
        'bmVlZHNTZXR1cCA9IHN0YXRlLmtpdGNoZW5zLmxlbmd0aD09PTA7CiAgaWYobmVlZHNTZXR1cCkg'
        'cmV0dXJuIDw+PHN0eWxlPntDU1ModCl9PC9zdHlsZT48U2V0dXBTY3JlZW4gdD17dH0vPjwvPjsK'
        'CiAgcmV0dXJuICgKICAgIDxkaXYgc3R5bGU9e3ttaW5IZWlnaHQ6IjEwMHZoIixkaXNwbGF5OiJm'
        'bGV4Iixmb250RmFtaWx5OiJ2YXIoLS1zZXJpZikiLGNvbG9yOnQuaW5rLGJhY2tncm91bmQ6dC5i'
        'Zyx0cmFuc2l0aW9uOiJiYWNrZ3JvdW5kIDAuNnMsIGNvbG9yIDAuNHMifX0+CiAgICAgIDxzdHls'
        'ZT57Q1NTKHQpfTwvc3R5bGU+CgogICAgICB7LyogU2lkZWJhciAqL30KICAgICAgPGFzaWRlIHN0'
        'eWxlPXt7CiAgICAgICAgd2lkdGg6c2lkZUNvbGxhcHNlZD82ODoyNDAsYmFja2dyb3VuZDpgbGlu'
        'ZWFyLWdyYWRpZW50KDE4MGRlZywke3Quc2Vjb25kYXJ5fSwke3Quc2Vjb25kYXJ5RGVlcH0pYCwK'
        'ICAgICAgICBkaXNwbGF5OiJmbGV4IixmbGV4RGlyZWN0aW9uOiJjb2x1bW4iLHRyYW5zaXRpb246'
        'IndpZHRoIDAuNHMgY3ViaWMtYmV6aWVyKDAuNCwwLDAuMiwxKSIsCiAgICAgICAgcG9zaXRpb246'
        'ImZpeGVkIix0b3A6MCxib3R0b206MCxsZWZ0OjAsekluZGV4OjIwLAogICAgICAgIGJveFNoYWRv'
        'dzpgNHB4IDAgMjRweCAke3Quc2hhZG93U3Ryb25nfWAsb3ZlcmZsb3c6ImhpZGRlbiIsCiAgICAg'
        'IH19PgogICAgICAgIHsvKiBMb2dvICovfQogICAgICAgIDxkaXYgc3R5bGU9e3twYWRkaW5nOnNp'
        'ZGVDb2xsYXBzZWQ/IjIwcHggMTJweCI6IjI0cHggMjRweCAyMHB4Iixib3JkZXJCb3R0b206IjFw'
        'eCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDgpIixkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1z'
        'OiJjZW50ZXIiLGdhcDoxNH19PgogICAgICAgICAgPGRpdiBzdHlsZT17e3dpZHRoOjQyLGhlaWdo'
        'dDo0MixtaW5XaWR0aDo0Mixib3JkZXJSYWRpdXM6IjUwJSIsYm9yZGVyOmAycHggc29saWQgJHt0'
        'LmdvbGRCcmlnaHR9YCxkaXNwbGF5OiJmbGV4IixhbGlnbkl0ZW1zOiJjZW50ZXIiLGp1c3RpZnlD'
        'b250ZW50OiJjZW50ZXIiLGJhY2tncm91bmQ6InJnYmEoMjU1LDI1NSwyNTUsMC4wNikiLGJveFNo'
        'YWRvdzpgMCAwIDAgNHB4ICR7dC5nb2xkRmFpbnR9YCxmbGV4U2hyaW5rOjB9fT4KICAgICAgICAg'
        'ICAgPHNwYW4gY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjksY29sb3I6dC5nb2xk'
        'QnJpZ2h0LGZvbnRXZWlnaHQ6NjAwfX0+4piF4piF4piFPC9zcGFuPgogICAgICAgICAgPC9kaXY+'
        'CiAgICAgICAgICB7IXNpZGVDb2xsYXBzZWQmJigKICAgICAgICAgICAgPGRpdiBzdHlsZT17e2Fu'
        'aW1hdGlvbjoiZmFkZUluIDAuM3MgZWFzZSJ9fT4KICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7'
        'Zm9udFNpemU6MTYsZm9udFdlaWdodDo2MDAsbGV0dGVyU3BhY2luZzoiMC4xMmVtIixjb2xvcjoi'
        'I2ZmZiIsdGV4dFRyYW5zZm9ybToidXBwZXJjYXNlIix3aGl0ZVNwYWNlOiJub3dyYXAifX0+CiAg'
        'ICAgICAgICAgICAgICB7a2l0Y2hlbj8ubmFtZXx8IktpdGNoZW4gUHJvIn0KICAgICAgICAgICAg'
        'ICA8L2Rpdj4KICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT0ibW9ubyIgc3R5bGU9e3tmb250'
        'U2l6ZTo3LGxldHRlclNwYWNpbmc6IjAuMmVtIixjb2xvcjoicmdiYSgyNTUsMjU1LDI1NSwwLjM1'
        'KSIsbWFyZ2luVG9wOjJ9fT5HRVNUSU9ORSBDVUNJTkE8L2Rpdj4KICAgICAgICAgICAgPC9kaXY+'
        'CiAgICAgICAgICApfQogICAgICAgIDwvZGl2PgoKICAgICAgICB7LyogTmF2ICovfQogICAgICAg'
        'IDxuYXYgc3R5bGU9e3tmbGV4OjEscGFkZGluZzoiMTZweCAxMHB4IixkaXNwbGF5OiJmbGV4Iixm'
        'bGV4RGlyZWN0aW9uOiJjb2x1bW4iLGdhcDo0fX0+CiAgICAgICAgICB7TkFWLm1hcChuPT57CiAg'
        'ICAgICAgICAgIGNvbnN0IGFjdGl2ZT1zZWN0aW9uPT09bi5rZXk7CiAgICAgICAgICAgIHJldHVy'
        'biAoCiAgICAgICAgICAgICAgPGJ1dHRvbiBrZXk9e24ua2V5fSBvbkNsaWNrPXsoKT0+c2V0U2Vj'
        'dGlvbihuLmtleSl9IHN0eWxlPXt7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiJmbGV4IixhbGln'
        'bkl0ZW1zOiJjZW50ZXIiLGdhcDoxNCxwYWRkaW5nOnNpZGVDb2xsYXBzZWQ/IjEycHggMTZweCI6'
        'IjEycHggMThweCIsCiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6MTAsYm9yZGVyOiJub25l'
        'IixjdXJzb3I6InBvaW50ZXIiLAogICAgICAgICAgICAgICAgYmFja2dyb3VuZDphY3RpdmU/InJn'
        'YmEoMjU1LDI1NSwyNTUsMC4xMikiOiJ0cmFuc3BhcmVudCIsCiAgICAgICAgICAgICAgICBjb2xv'
        'cjphY3RpdmU/IiNmZmYiOiJyZ2JhKDI1NSwyNTUsMjU1LDAuNDUpIiwKICAgICAgICAgICAgICAg'
        'IGZvbnRGYW1pbHk6InZhcigtLW1vbm8pIixmb250U2l6ZToxMCxsZXR0ZXJTcGFjaW5nOiIwLjA2'
        'ZW0iLAogICAgICAgICAgICAgICAgdHJhbnNpdGlvbjoiYWxsIDAuMjVzIix0ZXh0QWxpZ246Imxl'
        'ZnQiLHdpZHRoOiIxMDAlIiwKICAgICAgICAgICAgICAgIGJvcmRlckxlZnQ6YWN0aXZlP2AzcHgg'
        'c29saWQgJHt0LmdvbGRCcmlnaHR9YDoiM3B4IHNvbGlkIHRyYW5zcGFyZW50IiwKICAgICAgICAg'
        'ICAgICB9fT4KICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXt7Zm9udFNpemU6MTYsbWluV2lk'
        'dGg6MjAsdGV4dEFsaWduOiJjZW50ZXIifX0+e24uaWNvbn08L3NwYW4+CiAgICAgICAgICAgICAg'
        'ICB7IXNpZGVDb2xsYXBzZWQmJjxzcGFuIHN0eWxlPXt7d2hpdGVTcGFjZToibm93cmFwIn19Pntu'
        'LmxhYmVsfTwvc3Bhbj59CiAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICk7CiAg'
        'ICAgICAgICB9KX0KICAgICAgICA8L25hdj4KCiAgICAgICAgey8qIFRoZW1lIHN3aXRjaGVyICov'
        'fQogICAgICAgIDxkaXYgc3R5bGU9e3twYWRkaW5nOnNpZGVDb2xsYXBzZWQ/IjEycHggOHB4IDE2'
        'cHgiOiIxNnB4IDE0cHggMjBweCIsYm9yZGVyVG9wOiIxcHggc29saWQgcmdiYSgyNTUsMjU1LDI1'
        'NSwwLjA4KSJ9fT4KICAgICAgICAgIHshc2lkZUNvbGxhcHNlZCYmPGRpdiBjbGFzc05hbWU9Im1v'
        'bm8iIHN0eWxlPXt7Zm9udFNpemU6NyxsZXR0ZXJTcGFjaW5nOiIwLjJlbSIsY29sb3I6InJnYmEo'
        'MjU1LDI1NSwyNTUsMC4yNSkiLG1hcmdpbkJvdHRvbToxMCxwYWRkaW5nTGVmdDo0fX0+VEVNQTwv'
        'ZGl2Pn0KICAgICAgICAgIDxkaXYgc3R5bGU9e3tkaXNwbGF5OiJmbGV4IixmbGV4V3JhcDoid3Jh'
        'cCIsZ2FwOjYsanVzdGlmeUNvbnRlbnQ6c2lkZUNvbGxhcHNlZD8iY2VudGVyIjoiZmxleC1zdGFy'
        'dCJ9fT4KICAgICAgICAgICAge09iamVjdC5lbnRyaWVzKFRIRU1FUykubWFwKChba2V5LHRoXSk9'
        'PigKICAgICAgICAgICAgICA8YnV0dG9uIGtleT17a2V5fSBvbkNsaWNrPXsoKT0+c2V0VGhlbWVL'
        'ZXkoa2V5KX0gdGl0bGU9e3RoLm5hbWV9IHN0eWxlPXt7CiAgICAgICAgICAgICAgICB3aWR0aDpz'
        'aWRlQ29sbGFwc2VkPzM2OjQ4LGhlaWdodDpzaWRlQ29sbGFwc2VkPzM2OjMyLGJvcmRlclJhZGl1'
        'czo4LAogICAgICAgICAgICAgICAgYm9yZGVyOnRoZW1lS2V5PT09a2V5P2AycHggc29saWQgJHt0'
        'LmdvbGRCcmlnaHR9YDoiMnB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4xKSIsCiAgICAgICAg'
        'ICAgICAgICBiYWNrZ3JvdW5kOnRoLmJnLGN1cnNvcjoicG9pbnRlciIsZGlzcGxheToiZmxleCIs'
        'YWxpZ25JdGVtczoiY2VudGVyIixqdXN0aWZ5Q29udGVudDoiY2VudGVyIiwKICAgICAgICAgICAg'
        'ICAgIGZvbnRTaXplOnNpZGVDb2xsYXBzZWQ/MTQ6MTIsdHJhbnNpdGlvbjoiYWxsIDAuM3MiLAog'
        'ICAgICAgICAgICAgICAgdHJhbnNmb3JtOnRoZW1lS2V5PT09a2V5PyJzY2FsZSgxLjA4KSI6InNj'
        'YWxlKDEpIiwKICAgICAgICAgICAgICAgIGJveFNoYWRvdzp0aGVtZUtleT09PWtleT9gMCAwIDEy'
        'cHggJHt0LmdvbGRGYWludH1gOiJub25lIiwKICAgICAgICAgICAgICB9fT57dGguaWNvbn08L2J1'
        'dHRvbj4KICAgICAgICAgICAgKSl9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KCiAg'
        'ICAgICAgey8qIENvbGxhcHNlICovfQogICAgICAgIDxidXR0b24gb25DbGljaz17KCk9PnNldFNp'
        'ZGVDb2xsYXBzZWQoIXNpZGVDb2xsYXBzZWQpfSBzdHlsZT17e3BhZGRpbmc6IjE0cHgiLGJvcmRl'
        'cjoibm9uZSIsYmFja2dyb3VuZDoicmdiYSgyNTUsMjU1LDI1NSwwLjA0KSIsY29sb3I6InJnYmEo'
        'MjU1LDI1NSwyNTUsMC4zKSIsY3Vyc29yOiJwb2ludGVyIixmb250U2l6ZToxNCxib3JkZXJUb3A6'
        'IjFweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LDAuMDYpIix0cmFuc2l0aW9uOiJhbGwgMC4yNXMi'
        'LGZvbnRGYW1pbHk6InZhcigtLW1vbm8pIn19PgogICAgICAgICAge3NpZGVDb2xsYXBzZWQ/IuKG'
        'kiI6IuKGkCBDb21wcmltaSJ9CiAgICAgICAgPC9idXR0b24+CiAgICAgIDwvYXNpZGU+CgogICAg'
        'ICB7LyogTWFpbiAqL30KICAgICAgPGRpdiBzdHlsZT17e2ZsZXg6MSxtYXJnaW5MZWZ0OnNpZGVD'
        'b2xsYXBzZWQ/Njg6MjQwLHRyYW5zaXRpb246Im1hcmdpbi1sZWZ0IDAuNHMgY3ViaWMtYmV6aWVy'
        'KDAuNCwwLDAuMiwxKSIsZGlzcGxheToiZmxleCIsZmxleERpcmVjdGlvbjoiY29sdW1uIn19Pgog'
        'ICAgICAgIHsvKiBUb3BiYXIgKi99CiAgICAgICAgPGhlYWRlciBzdHlsZT17ewogICAgICAgICAg'
        'cGFkZGluZzoiMTZweCAzNnB4IixiYWNrZ3JvdW5kOnQuYmdHbGFzcyxiYWNrZHJvcEZpbHRlcjoi'
        'Ymx1cigyMHB4KSIsCiAgICAgICAgICBib3JkZXJCb3R0b206YDFweCBzb2xpZCAke3QuZGl2fWAs'
        'ZGlzcGxheToiZmxleCIsanVzdGlmeUNvbnRlbnQ6InNwYWNlLWJldHdlZW4iLGFsaWduSXRlbXM6'
        'ImNlbnRlciIsCiAgICAgICAgICBwb3NpdGlvbjoic3RpY2t5Iix0b3A6MCx6SW5kZXg6MTAsdHJh'
        'bnNpdGlvbjoiYmFja2dyb3VuZCAwLjRzIiwKICAgICAgICB9fT4KICAgICAgICAgIDxkaXY+CiAg'
        'ICAgICAgICAgIDxkaXYgc3R5bGU9e3tmb250U2l6ZToyMixmb250V2VpZ2h0OjYwMCxsZXR0ZXJT'
        'cGFjaW5nOiIwLjA2ZW0iLGNvbG9yOnQuaW5rfX0+e1NFQ1RJT05fVElUTEVbc2VjdGlvbl19PC9k'
        'aXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSJtb25vIiBzdHlsZT17e2ZvbnRTaXplOjks'
        'Y29sb3I6dC5pbmtGYWludCxsZXR0ZXJTcGFjaW5nOiIwLjFlbSIsbWFyZ2luVG9wOjN9fT4KICAg'
        'ICAgICAgICAgICB7a2l0Y2hlbj8ubmFtZT8udG9VcHBlckNhc2UoKXx8IuKAlCJ9IMK3IHtuZXcg'
        'RGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygiaXQtSVQiLHt3ZWVrZGF5OiJsb25nIixkYXk6IjIt'
        'ZGlnaXQiLG1vbnRoOiJsb25nIn0pfQogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2'
        'PgogICAgICAgICAgPGRpdiBzdHlsZT17e2Rpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRl'
        'ciIsZ2FwOjE4fX0+CiAgICAgICAgICAgIDxMaXZlQ2xvY2sgdD17dH0vPgogICAgICAgICAgICA8'
        'ZGl2IHN0eWxlPXt7d2lkdGg6MSxoZWlnaHQ6MjgsYmFja2dyb3VuZDp0LmRpdn19Lz4KICAgICAg'
        'ICAgICAgPGJ1dHRvbiBvbkNsaWNrPXsoKT0+c2V0U2hvd0FJKCFzaG93QUkpfSBzdHlsZT17ewog'
        'ICAgICAgICAgICAgIGRpc3BsYXk6ImZsZXgiLGFsaWduSXRlbXM6ImNlbnRlciIsZ2FwOjgscGFk'
        'ZGluZzoiN3B4IDE4cHgiLGJvcmRlclJhZGl1czoxMCxib3JkZXI6Im5vbmUiLGN1cnNvcjoicG9p'
        'bnRlciIsCiAgICAgICAgICAgICAgYmFja2dyb3VuZDpzaG93QUk/YGxpbmVhci1ncmFkaWVudCgx'
        'MzVkZWcsJHt0LmdvbGR9LCR7dC5nb2xkQnJpZ2h0fSlgOmBsaW5lYXItZ3JhZGllbnQoMTM1ZGVn'
        'LCR7dC5zZWNvbmRhcnl9LCR7dC5zZWNvbmRhcnlEZWVwfSlgLAogICAgICAgICAgICAgIGNvbG9y'
        'OiIjZmZmIixmb250RmFtaWx5OiJ2YXIoLS1tb25vKSIsZm9udFNpemU6MTAsbGV0dGVyU3BhY2lu'
        'ZzoiMC4wOGVtIiwKICAgICAgICAgICAgICBib3hTaGFkb3c6YDAgM3B4IDE0cHggJHtzaG93QUk/'
        'dC5nb2xkRmFpbnQ6dC5zaGFkb3dTdHJvbmd9YCx0cmFuc2l0aW9uOiJhbGwgMC4zcyIsCiAgICAg'
        'ICAgICAgIH19PgogICAgICAgICAgICAgIDxzcGFuPvCfpJY8L3NwYW4+IEFJCiAgICAgICAgICAg'
        'IDwvYnV0dG9uPgogICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9oZWFkZXI+CgogICAgICAgIHsv'
        'KiBDb250ZW50ICovfQogICAgICAgIDxtYWluIHN0eWxlPXt7ZmxleDoxLHBhZGRpbmc6IjI4cHgg'
        'MzZweCA0OHB4IixvdmVyZmxvdzoiYXV0byJ9fSBrZXk9e3NlY3Rpb259PgogICAgICAgICAgPGRp'
        'diBzdHlsZT17e2FuaW1hdGlvbjpyZWFkeT8iY2FyZEluIDAuNDVzIGN1YmljLWJlemllcigwLjQs'
        'MCwwLjIsMSkgYm90aCI6Im5vbmUifX0+CiAgICAgICAgICAgIHtzZWN0aW9uPT09ImRhc2hib2Fy'
        'ZCIgICYmIDxEYXNoYm9hcmRWaWV3IHQ9e3R9Lz59CiAgICAgICAgICAgIHtzZWN0aW9uPT09Imdp'
        'YWNlbnplIiAgICYmIDxJbnZlbnRvcnlWaWV3IHQ9e3R9Lz59CiAgICAgICAgICAgIHtzZWN0aW9u'
        'PT09Im1lcCIgICAgICAgICYmIDxNZXBWaWV3IHQ9e3R9Lz59CiAgICAgICAgICAgIHtzZWN0aW9u'
        'PT09InNwZXNhIiAgICAgICYmIDxTaG9wcGluZ1ZpZXcgdD17dH0vPn0KICAgICAgICAgICAge3Nl'
        'Y3Rpb249PT0iYnJpZ2F0YSIgICAgJiYgPEJyaWdhdGFWaWV3IHQ9e3R9Lz59CiAgICAgICAgICAg'
        'IHtzZWN0aW9uPT09InNldHRpbmdzIiAgICYmIDxTZXR0aW5nc1ZpZXcgdD17dH0vPn0KICAgICAg'
        'ICAgIDwvZGl2PgogICAgICAgIDwvbWFpbj4KICAgICAgPC9kaXY+CgogICAgICB7LyogQUkgUGFu'
        'ZWwgKi99CiAgICAgIHtzaG93QUkmJjxBSVBhbmVsIHQ9e3R9IG9uQ2xvc2U9eygpPT5zZXRTaG93'
        'QUkoZmFsc2UpfS8+fQogICAgPC9kaXY+CiAgKTsKfQoKLyog4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQCiAgIEdMT0JBTCBDU1MKICAg4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ'
        '4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQICovCmZ1bmN0'
        'aW9uIENTUyh0KSB7CiAgcmV0dXJuIGAKICAgIEBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdv'
        'b2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVBsYXlmYWlyK0Rpc3BsYXk6aXRhbCx3Z2h0QDAsMzAw'
        'OzAsNDAwOzAsNTAwOzAsNjAwOzAsNzAwOzEsNDAwOzEsNTAwJmZhbWlseT1KZXRCcmFpbnMrTW9u'
        'bzp3Z2h0QDMwMDs0MDA7NTAwOzYwMCZkaXNwbGF5PXN3YXAnKTsKICAgIDpyb290IHsgLS1zZXJp'
        'ZjonUGxheWZhaXIgRGlzcGxheScsR2VvcmdpYSxzZXJpZjsgLS1tb25vOidKZXRCcmFpbnMgTW9u'
        'bycsbW9ub3NwYWNlOyB9CiAgICAqe21hcmdpbjowO3BhZGRpbmc6MDtib3gtc2l6aW5nOmJvcmRl'
        'ci1ib3g7fQogICAgLm1vbm97Zm9udC1mYW1pbHk6dmFyKC0tbW9ubyk7fQogICAgQGtleWZyYW1l'
        'cyBwdWxzZXswJSwxMDAle29wYWNpdHk6MX01MCV7b3BhY2l0eTowLjI1fX0KICAgIEBrZXlmcmFt'
        'ZXMgYmxpbmt7MCUsMTAwJXtvcGFjaXR5OjF9NTAle29wYWNpdHk6MC4yfX0KICAgIEBrZXlmcmFt'
        'ZXMgY2FyZElue2Zyb217b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGVZKDEycHgpfXRve29w'
        'YWNpdHk6MTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19CiAgICBAa2V5ZnJhbWVzIGZhZGVJbntm'
        'cm9te29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fQogICAgQGtleWZyYW1lcyB0b2FzdElue2Zyb217'
        'b3BhY2l0eTowO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDIwcHgpfXRve29wYWNpdHk6MTt0cmFuc2Zv'
        'cm06dHJhbnNsYXRlWCgwKX19CiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFye3dpZHRoOjRweDt9CiAg'
        'ICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRyYWNre2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7fQogICAg'
        'Ojotd2Via2l0LXNjcm9sbGJhci10aHVtYntiYWNrZ3JvdW5kOiR7dC5nb2xkRGltfTtib3JkZXIt'
        'cmFkaXVzOjJweDt9CiAgICBpbnB1dFt0eXBlPWRhdGVdOjotd2Via2l0LWNhbGVuZGFyLXBpY2tl'
        'ci1pbmRpY2F0b3J7ZmlsdGVyOiR7dC5pbms9PT0iIzE1MTIxMCI/Im5vbmUiOiJpbnZlcnQoMSki'
        'fTt9CiAgICBpbnB1dCxzZWxlY3R7Y29sb3Itc2NoZW1lOiR7dC5iZy5zdGFydHNXaXRoKCIjMCIp'
        'fHx0LmJnLnN0YXJ0c1dpdGgoIiMxIil8fHQuYmcuc3RhcnRzV2l0aCgiIzIiKT8iZGFyayI6Imxp'
        'Z2h0In07fQogIGA7Cn0='
    ),
}


def decode_all():
    return {
        p: base64.b64decode("".join(v) if isinstance(v, (list, tuple)) else v).decode("utf-8")
        for p, v in PATCHES_B64.items()
    }

# ── Helpers ───────────────────────────────────────────────────────────────────

def ask_confirm(question: str) -> bool:
    """Chiede sì/no; ritorna True se risponde s/si/y/yes (case-insensitive)."""
    while True:
        try:
            ans = input(f"  {A}?{Z}  {question} [s/n] ").strip().lower()
        except (EOFError, KeyboardInterrupt):
            print()
            return False
        if ans in ("s", "si", "y", "yes"):
            return True
        if ans in ("n", "no"):
            return False
        print("     Rispondi s (sì) oppure n (no).")

def ask_dir() -> Path:
    """Chiede la directory del progetto se non passata come argomento."""
    if len(sys.argv) > 1:
        p = Path(sys.argv[1]).resolve()
        print(f"  {D}Directory da argomento:{Z} {p}")
        return p
    print(f"  {D}Nessun argomento ricevuto.{Z}")
    while True:
        try:
            raw = input(f"  {A}?{Z}  Percorso progetto React/Vite [./kitchen-pro]: ").strip()
        except (EOFError, KeyboardInterrupt):
            print()
            sys.exit(0)
        if not raw:
            raw = "./kitchen-pro"
        p = Path(raw).resolve()
        if p.exists() and (p / "package.json").exists():
            return p
        if not p.exists():
            err(f"Cartella non trovata: {p}")
        else:
            err(f"package.json non trovato in {p}")
        if not ask_confirm("Vuoi indicare un percorso diverso?"):
            sys.exit(1)

def check_node() -> bool:
    all_ok = True
    for cmd in ["node", "npm"]:
        which = shutil.which(cmd)
        if which:
            v = subprocess.run([cmd, "--version"], capture_output=True, text=True)
            ok(f"{cmd}  {v.stdout.strip()}")
        else:
            err(f"{cmd} non trovato — installa Node >= 18")
            all_ok = False
    return all_ok

def backup_file(path: Path) -> Path | None:
    """Crea backup .bak_YYYYMMDD_HHMMSS se il file esiste già."""
    if not path.exists():
        return None
    ts = datetime.now().strftime("%Y%m%d_%H%M%S")
    bak = path.with_suffix(f".bak_{ts}")
    shutil.copy2(path, bak)
    return bak

def fix_tsconfig(project: Path):
    ts = project / "tsconfig.json"
    if not ts.exists():
        return
    c = ts.read_text(encoding="utf-8")
    changed = False
    if '"ES2020"' in c and "ES2021" not in c:
        c = c.replace('"ES2020"', '"ES2021"')
        changed = True
    if '"exclude"' not in c:
        c = c.rstrip().rstrip("}") + ',\n  "exclude": ["src/tests"]\n}\n'
        changed = True
    if changed:
        ts.write_text(c, encoding="utf-8")
        ok("tsconfig.json patchato  (ES2021 + exclude src/tests)")
    else:
        info("tsconfig.json già aggiornato, nessuna modifica.")

# ── Main ──────────────────────────────────────────────────────────────────────

def main():
    print(f"""
{B}╔══════════════════════════════════════════════════════╗
║          Kitchen Pro  —  Installer v2 + Bugfix       ║
╚══════════════════════════════════════════════════════╝{Z}

  Questo script scrive 4 file nel tuo progetto React/Vite:

    {G}src/utils/date.ts{Z}           helper nowISO / todayDate
    {G}src/utils/storage.ts{Z}        wrapper localStorage
    {G}src/utils/precheck.ts{Z}       engine Precheck + stub AI
    {G}src/KitchenProFull.jsx{Z}      monolite completo (bugfix)

  I file esistenti vengono {A}salvati come .bak_{Z} prima di essere
  sovrascritti. Nessun altro file viene toccato.
""")

    # ── Step 1: directory ────────────────────────────────────────────────────
    hdr("STEP 1  ·  Progetto")
    project = ask_dir()
    ok(str(project))

    # ── Step 2: node / npm ───────────────────────────────────────────────────
    hdr("STEP 2  ·  Node.js / npm")
    if not check_node():
        err("Node.js o npm non trovati. Installa Node >= 18 e riprova.")
        sys.exit(1)

    # ── Step 3: riepilogo e conferma globale ─────────────────────────────────
    hdr("STEP 3  ·  Riepilogo")
    files = list(PATCHES_B64.keys())
    for f in files:
        dest = project / f
        if dest.exists():
            warn(f"{f}  ← sarà sovrascritto (backup automatico)")
        else:
            info(f"{f}  ← nuovo file")

    print()
    if not ask_confirm(f"Procedere con l'installazione in  {project}?"):
        print(f"  {A}Installazione annullata.{Z}")
        sys.exit(0)

    # ── Step 4: scrittura file ───────────────────────────────────────────────
    hdr("STEP 4  ·  Scrittura file")
    contents = decode_all()
    for rel, content in contents.items():
        dest = project / rel
        dest.parent.mkdir(parents=True, exist_ok=True)
        bak = backup_file(dest)
        if bak:
            info(f"backup → {bak.name}")
        dest.write_text(content, encoding="utf-8")
        ok(rel)

    # ── Step 5: tsconfig ─────────────────────────────────────────────────────
    hdr("STEP 5  ·  tsconfig.json")
    fix_tsconfig(project)

    # ── Step 6: npm install ──────────────────────────────────────────────────
    hdr("STEP 6  ·  npm install")
    if not ask_confirm("Eseguire  npm install  adesso?"):
        warn("Saltato. Esegui manualmente:  cd " + str(project) + " && npm install")
    else:
        r = subprocess.run(["npm", "install"], cwd=project)
        if r.returncode != 0:
            err("npm install fallito — controlla gli errori sopra.")
            sys.exit(1)
        ok("npm install completato")

    # ── Step 7: npm run build ────────────────────────────────────────────────
    hdr("STEP 7  ·  npm run build")
    if not ask_confirm("Eseguire  npm run build  adesso?"):
        warn("Saltato. Esegui manualmente:  cd " + str(project) + " && npm run build")
    else:
        r = subprocess.run(["npm", "run", "build"], cwd=project)
        if r.returncode != 0:
            err("Build fallita — per debug:")
            info("cd " + str(project) + " && npx tsc --noEmit 2>&1 | head -20")
            sys.exit(1)
        ok("Build completata!")

    # ── Done ─────────────────────────────────────────────────────────────────
    hdr("FATTO")
    print(f"""
  Per avviare il dev server:

    {G}cd {project}{Z}
    {G}npm run dev{Z}   →   http://localhost:5173

  Sezioni incluse nel monolite:
    Dashboard · Giacenze · MEP (AI) · Spesa · Brigata
    Precheck  · Impostazioni · Assistente AI

  Backup dei file precedenti:  *.bak_YYYYMMDD_HHMMSS
""")

if __name__ == "__main__":
    main()
